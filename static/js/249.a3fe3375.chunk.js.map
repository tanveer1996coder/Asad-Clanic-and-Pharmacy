{"version":3,"file":"static/js/249.a3fe3375.chunk.js","mappings":"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","sources":["utils/formatters.js","utils/dateHelpers.js","components/shared/ReceiptTemplate.js","utils/printReceipt.js","components/shared/ReceiptModal.js"],"sourcesContent":["/**\n * Format currency value\n * @param {number} value - Value to format\n * @param {string} symbol - Currency symbol (default: 'PKR')\n * @returns {string} Formatted currency string\n */\nexport function formatCurrency(value, symbol = 'PKR') {\n    if (value === null || value === undefined || isNaN(value)) {\n        return `${symbol} 0.00`;\n    }\n\n    const num = Number(value);\n    return `${symbol} ${num.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n    })}`;\n}\n\n/**\n * Format number with thousand separators\n * @param {number} value - Value to format\n * @returns {string} Formatted number string\n */\nexport function formatNumber(value) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0';\n    }\n\n    return Number(value).toLocaleString('en-US');\n}\n\n/**\n * Format percentage\n * @param {number} value - Value to format (0-100)\n * @param {number} decimals - Number of decimal places (default: 1)\n * @returns {string} Formatted percentage string\n */\nexport function formatPercentage(value, decimals = 1) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0%';\n    }\n\n    return `${Number(value).toFixed(decimals)}%`;\n}\n\n/**\n * Truncate text to specified length\n * @param {string} text - Text to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} Truncated text\n */\nexport function truncateText(text, maxLength = 50) {\n    if (!text) return '';\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n}\n\n/**\n * Capitalize first letter of each word\n * @param {string} text - Text to capitalize\n * @returns {string} Capitalized text\n */\nexport function capitalizeWords(text) {\n    if (!text) return '';\n    return text\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(' ');\n}\n\n/**\n * Format phone number\n * @param {string} phone - Phone number\n * @returns {string} Formatted phone number\n */\nexport function formatPhone(phone) {\n    if (!phone) return '';\n    // Remove all non-digit characters\n    const cleaned = phone.replace(/\\D/g, '');\n\n    // Format as: 0300-1234567\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\n    }\n\n    return phone;\n}\n\n/**\n * Get initials from name\n * @param {string} name - Full name\n * @returns {string} Initials (max 2 letters)\n */\nexport function getInitials(name) {\n    if (!name) return '?';\n\n    const parts = name.trim().split(' ');\n    if (parts.length === 1) {\n        return parts[0].charAt(0).toUpperCase();\n    }\n\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\n}\n\n/**\n * Calculate profit margin percentage\n * @param {number} revenue - Total revenue\n * @param {number} cost - Total cost\n * @returns {number} Profit margin percentage\n */\nexport function calculateProfitMargin(revenue, cost) {\n    if (!revenue || revenue === 0) return 0;\n    const profit = revenue - (cost || 0);\n    return (profit / revenue) * 100;\n}\n\n/**\n * Generate random color for charts\n * @param {number} index - Index for consistent colors\n * @returns {string} Hex color code\n */\nexport function getChartColor(index) {\n    const colors = [\n        '#6366f1', // Indigo\n        '#ec4899', // Pink\n        '#10b981', // Green\n        '#f59e0b', // Amber\n        '#3b82f6', // Blue\n        '#8b5cf6', // Purple\n        '#ef4444', // Red\n        '#14b8a6', // Teal\n        '#f97316', // Orange\n        '#06b6d4', // Cyan\n    ];\n\n    return colors[index % colors.length];\n}\n","import { format, formatDistance, parseISO } from 'date-fns';\n\n/**\n * Format date to readable string\n * @param {string|Date} date - Date to format\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\n * @returns {string} Formatted date\n */\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, formatStr);\n    } catch (error) {\n        console.error('Error formatting date:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to time string\n * @param {string|Date} date - Date to format\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\n */\nexport function formatTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, 'h:mm a');\n    } catch (error) {\n        console.error('Error formatting time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to relative time (e.g., \"2 hours ago\")\n * @param {string|Date} date - Date to format\n * @returns {string} Relative time string\n */\nexport function formatRelativeTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\n    } catch (error) {\n        console.error('Error formatting relative time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Calculate days until expiry\n * @param {string|Date} expiryDate - Expiry date\n * @returns {number} Days until expiry (negative if expired)\n */\nexport function daysUntilExpiry(expiryDate) {\n    if (!expiryDate) return null;\n    try {\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        expiry.setHours(0, 0, 0, 0);\n        const diffTime = expiry - today;\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        return diffDays;\n    } catch (error) {\n        console.error('Error calculating days until expiry:', error);\n        return null;\n    }\n}\n\n/**\n * Get expiry status (expired, urgent, warning, ok)\n * @param {string|Date} expiryDate - Expiry date\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\n * @returns {object} Status object with type and color\n */\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\n    const days = daysUntilExpiry(expiryDate);\n\n    if (days === null) {\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\n    }\n\n    if (days < 0) {\n        return { type: 'expired', color: 'error', label: 'Expired', days };\n    }\n\n    if (days <= urgentThreshold) {\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\n    }\n\n    if (days <= warningThreshold) {\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\n    }\n\n    return { type: 'ok', color: 'success', label: 'Good', days };\n}\n\n/**\n * Get stock status (out, low, ok)\n * @param {number} stock - Current stock\n * @param {number} minLevel - Minimum stock level\n * @returns {object} Status object with type and color\n */\nexport function getStockStatus(stock, minLevel = 10) {\n    if (stock === 0) {\n        return { type: 'out', color: 'error', label: 'Out of stock' };\n    }\n\n    if (stock <= minLevel) {\n        return { type: 'low', color: 'warning', label: 'Low stock' };\n    }\n\n    return { type: 'ok', color: 'success', label: 'In stock' };\n}\n\n/**\n * Get today's date in YYYY-MM-DD format\n * @returns {string} Today's date\n */\nexport function getTodayDate() {\n    return format(new Date(), 'yyyy-MM-dd');\n}\n\n/**\n * Get date N days ago in YYYY-MM-DD format\n * @param {number} days - Number of days ago\n * @returns {string} Date string\n */\nexport function getDateDaysAgo(days) {\n    const date = new Date();\n    date.setDate(date.getDate() - days);\n    return format(date, 'yyyy-MM-dd');\n}\n","import React from 'react';\nimport { Box, Typography, Divider, Table, TableBody, TableCell, TableHead, TableRow } from '@mui/material';\n\nexport default function ReceiptTemplate({ invoice, items, settings }) {\n    const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString('en-PK', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit',\n        });\n    };\n\n    const currencySymbol = settings?.currency_symbol || 'Rs.';\n\n    return (\n        <Box\n            sx={{\n                width: '210mm',\n                minHeight: '297mm',\n                bgcolor: 'white',\n                p: 4,\n                fontFamily: 'Arial, sans-serif',\n                fontSize: '12pt',\n                '@media print': {\n                    boxShadow: 'none',\n                    margin: 0,\n                    padding: '20mm',\n                },\n            }}\n        >\n            {/* Header */}\n            <Box textAlign=\"center\" mb={3}>\n                {settings?.logo_url && (\n                    <Box mb={2} display=\"flex\" justifyContent=\"center\">\n                        <img\n                            src={settings.logo_url}\n                            alt=\"Store Logo\"\n                            style={{\n                                maxHeight: '80px',\n                                maxWidth: '200px',\n                                objectFit: 'contain',\n                            }}\n                        />\n                    </Box>\n                )}\n                <Typography variant=\"h4\" fontWeight={700} color=\"primary\" gutterBottom>\n                    {settings?.store_name || 'Medical Store'}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                    {settings?.address || 'Store Address'}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                    Phone: {settings?.phone || 'Contact Number'}\n                </Typography>\n            </Box>\n\n            <Divider sx={{ mb: 2, borderWidth: 2 }} />\n\n            {/* Invoice Details */}\n            <Box mb={3}>\n                <Typography variant=\"h6\" fontWeight={600} gutterBottom>\n                    INVOICE\n                </Typography>\n                <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                    <Typography variant=\"body2\">\n                        <strong>Invoice #:</strong> {invoice.id.slice(0, 8).toUpperCase()}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        <strong>Date:</strong> {formatDate(invoice.created_at)}\n                    </Typography>\n                </Box>\n                {invoice.customer_id && (\n                    <Typography variant=\"body2\">\n                        <strong>Customer:</strong> {invoice.customer?.name || 'Walk-in Customer'}\n                    </Typography>\n                )}\n                <Typography variant=\"body2\">\n                    <strong>Payment:</strong> {invoice.payment_method?.toUpperCase() || 'CASH'}\n                </Typography>\n            </Box>\n\n            <Divider sx={{ mb: 2 }} />\n\n            {/* Items Table */}\n            <Table size=\"small\" sx={{ mb: 3 }}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell sx={{ fontWeight: 700, borderBottom: 2 }}>Item</TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 700, borderBottom: 2 }}>Qty</TableCell>\n                        <TableCell align=\"center\" sx={{ fontWeight: 700, borderBottom: 2 }}>Unit</TableCell>\n                        <TableCell align=\"right\" sx={{ fontWeight: 700, borderBottom: 2 }}>Price</TableCell>\n                        <TableCell align=\"right\" sx={{ fontWeight: 700, borderBottom: 2 }}>Total</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {items.map((item, index) => {\n                        const unitPrice = item.price_at_sale || item.products?.price || 0;\n                        const lineTotal = item.quantity * unitPrice;\n\n                        return (\n                            <TableRow key={index}>\n                                <TableCell>{item.products?.name || item.product?.name || 'Product'}</TableCell>\n                                <TableCell align=\"center\">{item.quantity}</TableCell>\n                                <TableCell align=\"center\">\n                                    {item.selling_unit === 'box' ? 'Box' : 'Item'}\n                                </TableCell>\n                                <TableCell align=\"right\">{currencySymbol} {unitPrice.toFixed(2)}</TableCell>\n                                <TableCell align=\"right\">{currencySymbol} {lineTotal.toFixed(2)}</TableCell>\n                            </TableRow>\n                        );\n                    })}\n                </TableBody>\n            </Table>\n\n            <Divider sx={{ mb: 2 }} />\n\n            {/* Totals */}\n            <Box display=\"flex\" justifyContent=\"flex-end\" mb={4}>\n                <Box minWidth=\"250px\">\n                    <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n                        <Typography variant=\"body1\">Subtotal:</Typography>\n                        <Typography variant=\"body1\" fontWeight={600}>\n                            {currencySymbol} {(invoice.total_amount + (invoice.discount || 0)).toFixed(2)}\n                        </Typography>\n                    </Box>\n\n                    {invoice.discount > 0 && (\n                        <Box display=\"flex\" justifyContent=\"space-between\" mb={1} color=\"error.main\">\n                            <Typography variant=\"body1\">Discount:</Typography>\n                            <Typography variant=\"body1\" fontWeight={600}>\n                                - {currencySymbol} {invoice.discount.toFixed(2)}\n                            </Typography>\n                        </Box>\n                    )}\n\n                    <Divider sx={{ my: 1 }} />\n\n                    <Box display=\"flex\" justifyContent=\"space-between\" bgcolor=\"primary.main\" color=\"white\" p={1} borderRadius={1}>\n                        <Typography variant=\"h6\" fontWeight={700}>TOTAL:</Typography>\n                        <Typography variant=\"h6\" fontWeight={700}>\n                            {currencySymbol} {invoice.total_amount.toFixed(2)}\n                        </Typography>\n                    </Box>\n                </Box>\n            </Box>\n\n            {/* Footer */}\n            <Divider sx={{ mb: 2 }} />\n\n            <Box textAlign=\"center\" mt={4}>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                    Thank you for your business!\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                    {settings?.footer_text || 'Please keep this receipt for your records'}\n                </Typography>\n            </Box>\n\n            {/* Signature Area */}\n            <Box mt={6} display=\"flex\" justifyContent=\"space-between\">\n                <Box>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                        _____________________\n                    </Typography>\n                    <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                        Customer Signature\n                    </Typography>\n                </Box>\n                <Box textAlign=\"right\">\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                        _____________________\n                    </Typography>\n                    <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                        Authorized Signatory\n                    </Typography>\n                </Box>\n            </Box>\n\n            {/* Barcode/QR Code Area (Optional) */}\n            <Box mt={4} textAlign=\"center\">\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                    Invoice ID: {invoice.id}\n                </Typography>\n            </Box>\n        </Box>\n    );\n}\n","import { formatCurrency } from './formatters';\nimport { formatDate, formatTime } from './dateHelpers';\n\nexport const printReceipt = (invoice, items, settings) => {\n    try {\n        const storeName = settings?.store_name || 'Medical Store';\n        const currency = settings?.currency_symbol || 'Rs';\n\n        // Calculate subtotal\n        // Calculate subtotal\n        const subtotal = items.reduce((sum, item) => {\n            const price = parseFloat(item.price_at_sale || item.products?.price || 0);\n            const quantity = parseInt(item.quantity || 0);\n            return sum + (quantity * price);\n        }, 0);\n\n        // Create receipt HTML\n        const receiptHTML = `\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Receipt #${invoice.id.slice(0, 8)}</title>\n    <style>\n        @media print {\n            @page {\n                size: 80mm auto;\n                margin: 5mm;\n            }\n            body {\n                margin: 0;\n                padding: 0;\n            }\n        }\n        \n        body {\n            font-family: 'Courier New', monospace;\n            width: 80mm;\n            margin: 0 auto;\n            padding: 10px;\n            font-size: 12px;\n        }\n        \n        .header {\n            text-align: center;\n            margin-bottom: 15px;\n            border-bottom: 2px dashed #000;\n            padding-bottom: 10px;\n        }\n       \n        \n        .store-name {\n            font-size: 18px;\n            font-weight: bold;\n            margin-bottom: 5px;\n        }\n        \n        .receipt-title {\n            font-size: 14px;\n            margin-bottom: 5px;\n        }\n        \n        .date-time, .invoice-id {\n            font-size: 11px;\n            color: #333;\n        }\n        \n        .items-table {\n            width: 100%;\n            margin: 10px 0;\n            border-collapse: collapse;\n        }\n        \n        .items-table th {\n            text-align: left;\n            border-bottom: 1px solid #000;\n            padding: 5px 2px;\n            font-size: 10px;\n        }\n        \n        .items-table td {\n            padding: 5px 2px;\n            font-size: 10px;\n        }\n        \n        .item-name {\n            max-width: 25mm;\n            word-wrap: break-word;\n        }\n        \n        .text-center {\n            text-align: center;\n        }\n        \n        .text-right {\n            text-align: right;\n        }\n        \n        .totals {\n            margin-top: 10px;\n            border-top: 1px dashed #000;\n            padding-top: 10px;\n        }\n        \n        .total-row {\n            display: flex;\n            justify-content: space-between;\n            margin: 5px 0;\n            font-size: 12px;\n        }\n        \n        .total-row.final {\n            font-weight: bold;\n            font-size: 14px;\n            border-top: 1px solid #000;\n            padding-top: 5px;\n            margin-top: 5px;\n        }\n        \n        .footer {\n            text-align: center;\n            margin-top: 15px;\n            padding-top: 10px;\n            border-top: 2px dashed #000;\n            font-size: 11px;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <div class=\"store-name\">${storeName}</div>\n        <div class=\"receipt-title\">SALES RECEIPT</div>\n        <div class=\"date-time\">${formatDate(invoice.created_at)} ${formatTime(invoice.created_at)}</div>\n        <div class=\"invoice-id\">Invoice #${invoice.id.slice(0, 8)}</div>\n    </div>\n    \n    <table class=\"items-table\">\n        <thead>\n            <tr>\n                <th>Item</th>\n                <th class=\"text-right\">Price</th>\n                <th class=\"text-center\">Qty</th>\n                <th class=\"text-right\">Total</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${items.map(item => {\n            const unitPrice = parseFloat(item.price_at_sale || item.products?.price || 0);\n            const quantity = parseInt(item.quantity || 0);\n            const lineTotal = unitPrice * quantity;\n\n            return `\n                <tr>\n                    <td class=\"item-name\">${item.products?.name || 'Item'}</td>\n                    <td class=\"text-right\">${currency} ${unitPrice.toFixed(2)}</td>\n                    <td class=\"text-center\">${quantity}</td>\n                    <td class=\"text-right\">${currency} ${lineTotal.toFixed(2)}</td>\n                </tr>\n                `;\n        }).join('')}\n        </tbody>\n    </table>\n    \n    <div class=\"totals\">\n        <div class=\"total-row\">\n            <span>Subtotal:</span>\n            <span>${formatCurrency(subtotal, currency)}</span>\n        </div>\n        ${invoice.discount > 0 ? `\n        <div class=\"total-row\">\n            <span>Discount:</span>\n            <span>-${formatCurrency(invoice.discount, currency)}</span>\n        </div>\n        ` : ''}\n        <div class=\"total-row final\">\n            <span>Grand Total:</span>\n            <span>${formatCurrency(invoice.total_amount, currency)}</span>\n        </div>\n    </div>\n    \n    <div class=\"footer\">\n        ${settings?.footer_text || 'Thank you for your business!'}\n        <div class=\"branding\" style=\"margin-top: 10px; font-size: 9px; color: #888; font-style: italic;\">\n            Receipt designed and generated by MedixFlow | +923089020131\n        </div>\n    </div>\n    \n    <script>\n        // Auto-close window after printing or canceling\n        window.onafterprint = function() {\n            window.close();\n        };\n        \n        // Trigger print dialog immediately\n        window.onload = function() {\n            window.print();\n        };\n    </script>\n</body>\n</html>\n        `;\n\n        // Open in new window and print\n        const printWindow = window.open('', '_blank', 'width=300,height=600');\n        if (printWindow) {\n            printWindow.document.write(receiptHTML);\n            printWindow.document.close();\n            return true;\n        } else {\n            console.error('Could not open print window. Popup blocked?');\n            return false;\n        }\n    } catch (error) {\n        console.error('Receipt printing failed:', error);\n        return false;\n    }\n};\n","import React, { useState, useRef } from 'react';\nimport {\n    Dialog,\n    DialogContent,\n    DialogActions,\n    Button,\n    IconButton,\n    Box,\n    Typography,\n    Select,\n    MenuItem,\n    FormControl,\n    Tooltip,\n    Stack,\n} from '@mui/material';\nimport {\n    Close as CloseIcon,\n    WhatsApp as WhatsAppIcon,\n    PictureAsPdf as PdfIcon,\n    Image as ImageIcon,\n    Print as PrintIcon,\n    Sms as SmsIcon,\n    Email as EmailIcon,\n    ZoomIn as ZoomInIcon,\n    ZoomOut as ZoomOutIcon,\n} from '@mui/icons-material';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport { toast } from 'react-toastify';\nimport ReceiptTemplate from './ReceiptTemplate';\nimport { printReceipt } from '../../utils/printReceipt';\n\nconst ZOOM_LEVELS = [50, 75, 100, 125, 150, 200];\n\nexport default function ReceiptModal({ open, onClose, invoice, items, settings }) {\n    const [zoom, setZoom] = useState(100);\n    const receiptRef = useRef(null);\n    const [isGenerating, setIsGenerating] = useState(false);\n\n    const handleZoomIn = () => {\n        const currentIndex = ZOOM_LEVELS.indexOf(zoom);\n        if (currentIndex < ZOOM_LEVELS.length - 1) {\n            setZoom(ZOOM_LEVELS[currentIndex + 1]);\n        }\n    };\n\n    const handleZoomOut = () => {\n        const currentIndex = ZOOM_LEVELS.indexOf(zoom);\n        if (currentIndex > 0) {\n            setZoom(ZOOM_LEVELS[currentIndex - 1]);\n        }\n    };\n\n    const generateImage = async () => {\n        if (!receiptRef.current) return null;\n\n        try {\n            setIsGenerating(true);\n            const canvas = await html2canvas(receiptRef.current, {\n                scale: 2,\n                useCORS: true,\n                logging: false,\n                backgroundColor: '#ffffff',\n            });\n            return canvas;\n        } catch (error) {\n            console.error('Error generating image:', error);\n            toast.error('Failed to generate receipt image');\n            return null;\n        } finally {\n            setIsGenerating(false);\n        }\n    };\n\n    const handleWhatsAppShare = async () => {\n        const canvas = await generateImage();\n        if (!canvas) return;\n\n        const imageDataUrl = canvas.toDataURL('image/png');\n        const message = `Invoice #${invoice.id.slice(0, 8)}%0ATotal: ${settings?.currency_symbol || 'Rs.'} ${invoice.total_amount}%0ADate: ${new Date(invoice.created_at).toLocaleDateString()}%0A%0AThank you for your business!`;\n\n        // Try native share first (mobile)\n        if (navigator.share && navigator.canShare) {\n            try {\n                const blob = await (await fetch(imageDataUrl)).blob();\n                const file = new File([blob], 'receipt.png', { type: 'image/png' });\n\n                await navigator.share({\n                    title: 'Invoice Receipt',\n                    text: message.replace(/%0A/g, '\\n'),\n                    files: [file],\n                });\n                toast.success('Receipt shared successfully!');\n                return;\n            } catch (error) {\n                if (error.name !== 'AbortError') {\n                    console.log('Native share not available, falling back to WhatsApp Web');\n                }\n            }\n        }\n\n        // Fallback: Open WhatsApp Web\n        window.open(`https://wa.me/?text=${message}`, '_blank');\n\n        try {\n            // Try to copy image to clipboard for easy pasting\n            const blob = await (await fetch(imageDataUrl)).blob();\n            await navigator.clipboard.write([\n                new ClipboardItem({\n                    [blob.type]: blob\n                })\n            ]);\n            toast.info('WhatsApp opened. Receipt image copied to clipboard! Just press Ctrl+V to paste.');\n        } catch (clipboardError) {\n            console.error('Clipboard write failed:', clipboardError);\n            // Fallback to download if clipboard fails\n            const link = document.createElement('a');\n            link.href = imageDataUrl;\n            link.download = `receipt_${invoice.id.slice(0, 8)}.png`;\n            link.click();\n            toast.info('WhatsApp opened. Please attach the downloaded receipt image manually.');\n        }\n    };\n\n    const handleDownloadPDF = async () => {\n        const canvas = await generateImage();\n        if (!canvas) return;\n\n        const imgData = canvas.toDataURL('image/png');\n        const pdf = new jsPDF({\n            orientation: 'portrait',\n            unit: 'mm',\n            format: 'a4',\n        });\n\n        const imgWidth = 190;\n        const pageHeight = 297;\n        const imgHeight = (canvas.height * imgWidth) / canvas.width;\n\n        pdf.addImage(imgData, 'PNG', 10, 10, imgWidth, imgHeight);\n        pdf.save(`receipt_${invoice.id.slice(0, 8)}.pdf`);\n        toast.success('PDF downloaded successfully!');\n    };\n\n    const handleDownloadImage = async () => {\n        const canvas = await generateImage();\n        if (!canvas) return;\n\n        const link = document.createElement('a');\n        link.href = canvas.toDataURL('image/png');\n        link.download = `receipt_${invoice.id.slice(0, 8)}.png`;\n        link.click();\n        toast.success('Image downloaded successfully!');\n    };\n\n    const handlePrint = () => {\n        const success = printReceipt(invoice, items, settings);\n        if (!success) {\n            toast.error('Failed to open print window. Please allow popups.');\n        }\n    };\n\n    const handleSMS = () => {\n        const message = `Invoice #${invoice.id.slice(0, 8)}\\nTotal: ${settings?.currency_symbol || 'Rs.'} ${invoice.total_amount}\\nDate: ${new Date(invoice.created_at).toLocaleDateString()}\\n\\nThank you!`;\n        window.open(`sms:?body=${encodeURIComponent(message)}`, '_blank');\n    };\n\n    const handleEmail = async () => {\n        const canvas = await generateImage();\n        if (!canvas) return;\n\n        const imageDataUrl = canvas.toDataURL('image/png');\n        const subject = `Invoice Receipt - ${invoice.id.slice(0, 8)}`;\n        const body = `Please find attached the receipt for Invoice #${invoice.id.slice(0, 8)}\\n\\nTotal Amount: ${settings?.currency_symbol || 'Rs.'} ${invoice.total_amount}\\nDate: ${new Date(invoice.created_at).toLocaleDateString()}\\n\\nThank you for your business!`;\n\n        window.open(`mailto:?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`, '_blank');\n\n        // Auto-download for manual attachment\n        const link = document.createElement('a');\n        link.href = imageDataUrl;\n        link.download = `receipt_${invoice.id.slice(0, 8)}.png`;\n        link.click();\n\n        toast.info('Email client opened. Please attach the downloaded image.');\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            maxWidth=\"md\"\n            fullWidth\n            PaperProps={{\n                sx: {\n                    minHeight: '80vh',\n                    maxHeight: '90vh',\n                },\n            }}\n            BackdropProps={{\n                sx: {\n                    backdropFilter: 'blur(5px)',\n                    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                },\n            }}\n        >\n            <DialogContent sx={{ p: 3, bgcolor: '#f5f5f5' }}>\n                <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={2}>\n                    <Typography variant=\"h6\" fontWeight={600}>\n                        Invoice Receipt\n                    </Typography>\n                    <IconButton onClick={onClose}>\n                        <CloseIcon />\n                    </IconButton>\n                </Box>\n\n                {/* Receipt Preview */}\n                <Box\n                    sx={{\n                        overflow: 'auto',\n                        maxHeight: 'calc(80vh - 200px)',\n                        bgcolor: '#fff',\n                        p: 2,\n                        borderRadius: 1,\n                        boxShadow: 2,\n                    }}\n                >\n                    <Box\n                        ref={receiptRef}\n                        sx={{\n                            transform: `scale(${zoom / 100})`,\n                            transformOrigin: 'top center',\n                            transition: 'transform 0.2s ease',\n                        }}\n                    >\n                        <ReceiptTemplate\n                            invoice={invoice}\n                            items={items}\n                            settings={settings}\n                        />\n                    </Box>\n                </Box>\n\n                {/* Zoom Controls */}\n                <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" gap={2} mt={2}>\n                    <Tooltip title=\"Zoom Out\">\n                        <span>\n                            <IconButton\n                                onClick={handleZoomOut}\n                                disabled={zoom === ZOOM_LEVELS[0]}\n                                size=\"small\"\n                            >\n                                <ZoomOutIcon />\n                            </IconButton>\n                        </span>\n                    </Tooltip>\n\n                    <FormControl size=\"small\" sx={{ minWidth: 100 }}>\n                        <Select\n                            value={zoom}\n                            onChange={(e) => setZoom(e.target.value)}\n                        >\n                            {ZOOM_LEVELS.map((level) => (\n                                <MenuItem key={level} value={level}>\n                                    {level}%\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n\n                    <Tooltip title=\"Zoom In\">\n                        <span>\n                            <IconButton\n                                onClick={handleZoomIn}\n                                disabled={zoom === ZOOM_LEVELS[ZOOM_LEVELS.length - 1]}\n                                size=\"small\"\n                            >\n                                <ZoomInIcon />\n                            </IconButton>\n                        </span>\n                    </Tooltip>\n                </Box>\n            </DialogContent>\n\n            <DialogActions sx={{ p: 2, bgcolor: '#f5f5f5', flexDirection: 'column', gap: 2 }}>\n                <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" justifyContent=\"center\" width=\"100%\">\n                    <Button\n                        variant=\"contained\"\n                        startIcon={<WhatsAppIcon />}\n                        onClick={handleWhatsAppShare}\n                        disabled={isGenerating}\n                        size=\"large\"\n                        sx={{\n                            bgcolor: '#25D366',\n                            '&:hover': { bgcolor: '#128C7E' },\n                            minWidth: { xs: '140px', sm: 'auto' },\n                            fontSize: { xs: '1rem', sm: '0.875rem' },\n                            py: { xs: 1.5, sm: 1 },\n                        }}\n                    >\n                        WhatsApp\n                    </Button>\n\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<PdfIcon />}\n                        onClick={handleDownloadPDF}\n                        disabled={isGenerating}\n                        size=\"large\"\n                        sx={{\n                            minWidth: { xs: '100px', sm: 'auto' },\n                            py: { xs: 1.5, sm: 1 },\n                        }}\n                    >\n                        PDF\n                    </Button>\n\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<ImageIcon />}\n                        onClick={handleDownloadImage}\n                        disabled={isGenerating}\n                        size=\"large\"\n                        sx={{\n                            minWidth: { xs: '100px', sm: 'auto' },\n                            py: { xs: 1.5, sm: 1 },\n                        }}\n                    >\n                        Image\n                    </Button>\n\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<PrintIcon />}\n                        onClick={handlePrint}\n                        size=\"large\"\n                        sx={{\n                            minWidth: { xs: '100px', sm: 'auto' },\n                            py: { xs: 1.5, sm: 1 },\n                        }}\n                    >\n                        Print\n                    </Button>\n                </Stack>\n\n                <Button onClick={onClose} variant=\"outlined\" fullWidth size=\"large\">\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n"],"names":["formatCurrency","value","symbol","arguments","length","undefined","isNaN","concat","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatNumber","formatPercentage","decimals","toFixed","formatDate","date","formatStr","dateObj","parseISO","format","error","console","String","formatTime","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","Date","today","setHours","diffTime","Math","ceil","daysUntilExpiry","type","color","label","getStockStatus","stock","getDateDaysAgo","setDate","getDate","ReceiptTemplate","_ref","_invoice$customer","_invoice$payment_meth","invoice","items","settings","currencySymbol","currency_symbol","_jsxs","Box","sx","width","minHeight","bgcolor","p","fontFamily","fontSize","boxShadow","margin","padding","children","textAlign","mb","logo_url","_jsx","display","justifyContent","src","alt","style","maxHeight","maxWidth","objectFit","Typography","variant","fontWeight","gutterBottom","store_name","address","phone","Divider","borderWidth","id","slice","toUpperCase","dateString","created_at","toLocaleDateString","year","month","day","hour","minute","customer_id","customer","name","payment_method","Table","size","TableHead","TableRow","TableCell","borderBottom","align","TableBody","map","item","index","_item$products","_item$products2","_item$product","unitPrice","price_at_sale","products","price","lineTotal","quantity","product","selling_unit","minWidth","total_amount","discount","my","borderRadius","mt","footer_text","printReceipt","storeName","currency","subtotal","reduce","sum","parseFloat","parseInt","receiptHTML","_item$products3","join","printWindow","window","open","document","write","close","ZOOM_LEVELS","ReceiptModal","onClose","zoom","setZoom","useState","receiptRef","useRef","isGenerating","setIsGenerating","generateImage","async","current","html2canvas","scale","useCORS","logging","backgroundColor","toast","Dialog","fullWidth","PaperProps","BackdropProps","backdropFilter","DialogContent","alignItems","IconButton","onClick","CloseIcon","overflow","ref","transform","transformOrigin","transition","gap","Tooltip","title","handleZoomOut","currentIndex","indexOf","disabled","ZoomOutIcon","FormControl","Select","onChange","e","target","level","MenuItem","handleZoomIn","ZoomInIcon","DialogActions","flexDirection","Stack","direction","spacing","flexWrap","Button","startIcon","WhatsAppIcon","canvas","imageDataUrl","toDataURL","message","navigator","share","canShare","blob","fetch","file","File","text","replace","files","success","log","clipboard","ClipboardItem","info","clipboardError","link","createElement","href","download","click","xs","sm","py","PdfIcon","imgData","pdf","jsPDF","orientation","unit","imgHeight","height","addImage","save","ImageIcon","PrintIcon","handlePrint"],"sourceRoot":""}