"use strict";(self.webpackChunksupabase_sales_app=self.webpackChunksupabase_sales_app||[]).push([[587],{43374:(e,r,n)=>{n.d(r,{A:()=>i});var a=n(59662),t=n(70579);const i=(0,a.A)((0,t.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},54587:(e,r,n)=>{n.r(r),n.d(r,{default:()=>Me});var a=n(89379),t=n(65043),i=n(26240),o=n(30344),l=n(19252),s=n(96446),c=n(85865),d=n(11906),u=n(57528),m=n(98587),h=n(58168),f=n(58387),g=n(98610),p=n(83290),A=n(67266),x=n(10875),b=n(6803),j=n(34535),y=n(98206),v=n(92532),C=n(72372);function _(e){return(0,C.Ay)("MuiLinearProgress",e)}(0,v.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var k,S,w,P,R,I,q=n(70579);const M=["className","color","value","valueBuffer","variant"];let B,N,W,z,D,L;const F=(0,p.i7)(B||(B=k||(k=(0,u.A)(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),E=(0,p.i7)(N||(N=S||(S=(0,u.A)(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),T=(0,p.i7)(W||(W=w||(w=(0,u.A)(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),H=(e,r)=>"inherit"===r?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(r,"Bg")]:"light"===e.palette.mode?(0,A.a)(e.palette[r].main,.62):(0,A.e$)(e.palette[r].main,.5),U=(0,j.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r["color".concat((0,b.A)(n.color))],r[n.variant]]}})(e=>{let{ownerState:r,theme:n}=e;return(0,h.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:H(n,r.color)},"inherit"===r.color&&"buffer"!==r.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===r.variant&&{backgroundColor:"transparent"},"query"===r.variant&&{transform:"rotate(180deg)"})}),G=(0,j.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.dashed,r["dashedColor".concat((0,b.A)(n.color))]]}})(e=>{let{ownerState:r,theme:n}=e;const a=H(n,r.color);return(0,h.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===r.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(a," 0%, ").concat(a," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,p.AH)(z||(z=P||(P=(0,u.A)(["\n    animation: "," 3s infinite linear;\n  "]))),T)),O=(0,j.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.bar,r["barColor".concat((0,b.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&r.bar1Indeterminate,"determinate"===n.variant&&r.bar1Determinate,"buffer"===n.variant&&r.bar1Buffer]}})(e=>{let{ownerState:r,theme:n}=e;return(0,h.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===r.color?"currentColor":(n.vars||n).palette[r.color].main},"determinate"===r.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===r.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:r}=e;return("indeterminate"===r.variant||"query"===r.variant)&&(0,p.AH)(D||(D=R||(R=(0,u.A)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),F)}),V=(0,j.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.bar,r["barColor".concat((0,b.A)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&r.bar2Indeterminate,"buffer"===n.variant&&r.bar2Buffer]}})(e=>{let{ownerState:r,theme:n}=e;return(0,h.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==r.variant&&{backgroundColor:"inherit"===r.color?"currentColor":(n.vars||n).palette[r.color].main},"inherit"===r.color&&{opacity:.3},"buffer"===r.variant&&{backgroundColor:H(n,r.color),transition:"transform .".concat(4,"s linear")})},e=>{let{ownerState:r}=e;return("indeterminate"===r.variant||"query"===r.variant)&&(0,p.AH)(L||(L=I||(I=(0,u.A)(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),E)}),K=t.forwardRef(function(e,r){const n=(0,y.b)({props:e,name:"MuiLinearProgress"}),{className:a,color:t="primary",value:i,valueBuffer:o,variant:l="indeterminate"}=n,s=(0,m.A)(n,M),c=(0,h.A)({},n,{color:t,variant:l}),d=(e=>{const{classes:r,variant:n,color:a}=e,t={root:["root","color".concat((0,b.A)(a)),n],dashed:["dashed","dashedColor".concat((0,b.A)(a))],bar1:["bar","barColor".concat((0,b.A)(a)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,b.A)(a)),"buffer"===n&&"color".concat((0,b.A)(a)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,g.A)(t,_,r)})(c),u=(0,x.I)(),p={},A={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==i){p["aria-valuenow"]=Math.round(i),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=i-100;u&&(e=-e),A.bar1.transform="translateX(".concat(e,"%)")}else 0;if("buffer"===l)if(void 0!==o){let e=(o||0)-100;u&&(e=-e),A.bar2.transform="translateX(".concat(e,"%)")}else 0;return(0,q.jsxs)(U,(0,h.A)({className:(0,f.A)(d.root,a),ownerState:c,role:"progressbar"},p,{ref:r},s,{children:["buffer"===l?(0,q.jsx)(G,{className:d.dashed,ownerState:c}):null,(0,q.jsx)(O,{className:d.bar1,ownerState:c,style:A.bar1}),"determinate"===l?null:(0,q.jsx)(V,{className:d.bar2,ownerState:c,style:A.bar2})]}))});var X=n(12110),$=n(26494),J=n(68903),Q=n(5146),Y=n(51787),Z=n(32143),ee=n(79650),re=n(71806),ne=n(84882),ae=n(28076),te=n(10039),ie=n(73460),oe=n(43845),le=n(77739),se=n(17392),ce=n(19090),de=n(90035),ue=n(26600),me=n(35316),he=n(74605),fe=n(23217),ge=n(29347),pe=n(61560),Ae=n(47968),xe=n(43374),be=n(17673),je=n(70141),ye=n(79484),ve=n(34642),Ce=n(83560),_e=n(51387),ke=n(47503),Se=n(5766),we=n.n(Se),Pe=n(27001),Re=n(60931),Ie=n(90990),qe=n(8649);function Me(){const{toggleHelp:e}=(0,qe.d)(),[r,n]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),[h,f]=(0,t.useState)(""),[g,p]=(0,t.useState)(0),[A,x]=(0,t.useState)(25),[b,j]=(0,t.useState)(0),[y,v]=(0,t.useState)(!1),[C,_]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1),[w,P]=(0,t.useState)(null),[R,I]=(0,t.useState)(""),[M,B]=(0,t.useState)(""),[N,W]=(0,t.useState)(!1),[z,D]=(0,t.useState)(0),L=(0,t.useRef)(null),F=(0,t.useRef)(null);(0,Ie.A)({"Alt+n":()=>O(),"Alt+f":()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.focus()}},"Medicine Reference Page");const[E,T]=(0,t.useState)({generic_name:"",brand_name:"",formula:"",manufacturer:"",category:"",dosage_form:"",standard_packaging:"",strength:"",prescription_required:!1,controlled_substance:!1}),H=["Painkiller/Antipyretic","Painkiller/Anti-inflammatory","Antibiotic","Antacid","Proton Pump Inhibitor","H2 Blocker","Antiemetic","Antihistamine","Cough Suppressant","Bronchodilator","Vitamin Supplement","Mineral Supplement","Iron Supplement","Antidiabetic","Antihypertensive","Beta Blocker","Statin","Antifungal","Corticosteroid","Antibiotic Eye Drops","Eye Lubricant","Emergency Contraceptive","Anthelmintic","Antidepressant","Anxiolytic","Anticoagulant","Antiplatelet","Muscle Relaxant","Thyroid Hormone","Alpha Blocker","Other"],U=["tablet","capsule","syrup","injection","cream","ointment","drops","inhaler","powder","suppository","other"];async function G(){m(!0);try{let e=Pe.N.from("medicine_reference").select("*",{count:"exact"}).order("brand_name",{ascending:!0});h&&(e=e.or("generic_name.ilike.%".concat(h,"%,brand_name.ilike.%").concat(h,"%,formula.ilike.%").concat(h,"%,manufacturer.ilike.%").concat(h,"%"))),R&&(e=e.eq("category",R)),M&&(e=e.eq("dosage_form",M));const r=g*A,a=r+A-1,{data:t,count:i,error:o}=await e.range(r,a);if(o)throw o;n(t||[]),j(i||0)}catch(e){console.error("Error fetching medicines:",e),ke.oR.error("Failed to load medicines")}finally{m(!1)}}(0,t.useEffect)(()=>{const e=setTimeout(()=>{G()},500);return()=>clearTimeout(e)},[h,g,A,R,M]);const O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(_(e),T({generic_name:e.generic_name||"",brand_name:e.brand_name||"",formula:e.formula||"",manufacturer:e.manufacturer||"",category:e.category||"",dosage_form:e.dosage_form||"",standard_packaging:e.standard_packaging||"",strength:e.strength||"",prescription_required:e.prescription_required||!1,controlled_substance:e.controlled_substance||!1})):(_(null),T({generic_name:"",brand_name:"",formula:"",manufacturer:"",category:"",dosage_form:"",standard_packaging:"",strength:"",prescription_required:!1,controlled_substance:!1})),v(!0)},V=()=>{v(!1),_(null)},Se=e=>{const{name:r,value:n,checked:t,type:i}=e.target;T(e=>(0,a.A)((0,a.A)({},e),{},{[r]:"checkbox"===i?t:n}))},Me=async e=>{let r=0,n=0;const a=e.length;try{for(let t=0;t<a;t+=50){const i=e.slice(t,t+50),o=i.map(e=>({brand_name:e.brand_name||e.Brand||e.Name||"",generic_name:e.generic_name||e.Generic||e.ActiveIngredient||"",strength:e.strength||e.Strength||"",dosage_form:(e.dosage_form||e.Form||e.Type||"other").toLowerCase(),manufacturer:e.manufacturer||e.Manufacturer||e.Company||"",category:e.category||e.Category||"Other",standard_packaging:e.standard_packaging||e.Packing||"",formula:e.formula||e.Formula||"",prescription_required:!1,controlled_substance:!1})).filter(e=>e.brand_name&&e.generic_name);if(0===o.length)continue;const{error:l}=await Pe.N.from("medicine_reference").upsert(o,{onConflict:"brand_name,strength",ignoreDuplicates:!0});l?(console.error("Batch import error:",l),n+=i.length):r+=o.length,D(Math.round((t+50)/a*100))}ke.oR.success("Import complete! Added/Updated: ".concat(r,", Failed/Skipped: ").concat(n)),G()}catch(t){console.error("Import error:",t),ke.oR.error("An error occurred during import")}finally{W(!1),D(0)}},Be=(0,i.A)(),Ne=(0,o.A)(Be.breakpoints.down("sm"));return(0,q.jsxs)(l.A,{maxWidth:"xl",children:[(0,q.jsxs)(s.A,{display:"flex",flexDirection:Ne?"column":"row",justifyContent:"space-between",alignItems:Ne?"flex-start":"center",gap:2,mb:3,children:[(0,q.jsxs)(s.A,{display:"flex",alignItems:"center",gap:1,children:[(0,q.jsx)(pe.A,{color:"primary",fontSize:"large"}),(0,q.jsx)(c.A,{variant:"h4",fontWeight:700,color:"primary",children:"Medicine Reference Database"})]}),(0,q.jsxs)(s.A,{display:"flex",gap:1,flexWrap:"wrap",children:[(0,q.jsx)("input",{type:"file",ref:L,style:{display:"none"},accept:".csv",onChange:e=>{const r=e.target.files[0];r&&(W(!0),D(0),we().parse(r,{header:!0,skipEmptyLines:!0,complete:async r=>{await Me(r.data),e.target.value=""},error:e=>{console.error("CSV Parse Error:",e),ke.oR.error("Failed to parse CSV file"),W(!1)}}))}}),(0,q.jsx)(d.A,{variant:"outlined",startIcon:(0,q.jsx)(Ae.A,{}),onClick:()=>{const e=new Blob(["brand_name,generic_name,strength,dosage_form,manufacturer,category,standard_packaging,formula\nPanadol,Paracetamol,500mg,tablet,GSK,Painkiller,10x10,Paracetamol\nAugmentin,Amoxicillin + Clavulanic Acid,625mg,tablet,GSK,Antibiotic,10x6,Amoxicillin"],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(e);r.setAttribute("href",n),r.setAttribute("download","medicine_import_template.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},size:Ne?"small":"medium",children:"Template"}),(0,q.jsx)(d.A,{variant:"outlined",startIcon:(0,q.jsx)(xe.A,{}),onClick:()=>{L.current.click()},disabled:N,size:Ne?"small":"medium",children:N?"Importing...":"Import CSV"}),(0,q.jsx)(d.A,{variant:"outlined",startIcon:(0,q.jsx)(be.A,{}),onClick:e,size:Ne?"small":"medium",children:"Shortcuts"}),(0,q.jsx)(d.A,{variant:"contained",startIcon:(0,q.jsx)(je.A,{}),onClick:()=>O(),size:Ne?"small":"medium",children:"Add Medicine (Alt+n)"})]})]}),N&&(0,q.jsxs)(s.A,{mb:3,children:[(0,q.jsxs)(c.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Importing medicines... ",z,"%"]}),(0,q.jsx)(K,{variant:"determinate",value:z})]}),(0,q.jsx)(X.A,{sx:{mb:3},children:(0,q.jsx)($.A,{children:(0,q.jsxs)(J.Ay,{container:!0,spacing:2,children:[(0,q.jsx)(J.Ay,{item:!0,xs:12,md:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,inputRef:F,placeholder:"Search by brand, generic name, formula, or manufacturer... (Alt+f)",value:h,onChange:e=>f(e.target.value),InputProps:{startAdornment:(0,q.jsx)(Y.A,{position:"start",children:(0,q.jsx)(ye.A,{})})}})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,q.jsxs)(Q.A,{fullWidth:!0,select:!0,label:"Category",value:R,onChange:e=>I(e.target.value),children:[(0,q.jsx)(Z.A,{value:"",children:"All Categories"}),H.map(e=>(0,q.jsx)(Z.A,{value:e,children:e},e))]})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,q.jsxs)(Q.A,{fullWidth:!0,select:!0,label:"Dosage Form",value:M,onChange:e=>B(e.target.value),children:[(0,q.jsx)(Z.A,{value:"",children:"All Forms"}),U.map(e=>(0,q.jsx)(Z.A,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})})]})})}),u?(0,q.jsx)(c.A,{children:"Loading..."}):(0,q.jsx)(X.A,{children:(0,q.jsx)(ee.A,{sx:{overflowX:"auto",maxWidth:"100%"},children:(0,q.jsxs)(re.A,{size:"small",children:[(0,q.jsx)(ne.A,{children:(0,q.jsxs)(ae.A,{children:[(0,q.jsx)(te.A,{children:"Brand Name"}),(0,q.jsx)(te.A,{children:"Generic Name"}),(0,q.jsx)(te.A,{children:"Strength"}),(0,q.jsx)(te.A,{children:"Form"}),(0,q.jsx)(te.A,{children:"Category"}),(0,q.jsx)(te.A,{children:"Manufacturer"}),(0,q.jsx)(te.A,{children:"Packaging"}),(0,q.jsx)(te.A,{children:"Rx"}),(0,q.jsx)(te.A,{align:"right",children:"Actions"})]})}),(0,q.jsx)(ie.A,{children:0===r.length?(0,q.jsx)(ae.A,{children:(0,q.jsx)(te.A,{colSpan:9,align:"center",children:(0,q.jsx)(c.A,{color:"text.secondary",children:"No medicines found"})})}):r.map(e=>(0,q.jsxs)(ae.A,{hover:!0,children:[(0,q.jsx)(te.A,{children:(0,q.jsx)(c.A,{variant:"body2",fontWeight:600,children:e.brand_name})}),(0,q.jsx)(te.A,{children:(0,q.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e.generic_name})}),(0,q.jsx)(te.A,{children:e.strength}),(0,q.jsx)(te.A,{children:(0,q.jsx)(oe.A,{label:e.dosage_form,size:"small",variant:"outlined"})}),(0,q.jsx)(te.A,{children:(0,q.jsx)(c.A,{variant:"caption",children:e.category})}),(0,q.jsx)(te.A,{children:(0,q.jsx)(c.A,{variant:"caption",children:e.manufacturer||"\u2014"})}),(0,q.jsx)(te.A,{children:(0,q.jsx)(c.A,{variant:"caption",children:e.standard_packaging||"\u2014"})}),(0,q.jsxs)(te.A,{children:[e.prescription_required&&(0,q.jsx)(le.A,{title:"Prescription Required",children:(0,q.jsx)(ve.A,{color:"warning",fontSize:"small"})}),e.controlled_substance&&(0,q.jsx)(le.A,{title:"Controlled Substance",children:(0,q.jsx)(ve.A,{color:"error",fontSize:"small"})})]}),(0,q.jsxs)(te.A,{align:"right",children:[(0,q.jsx)(se.A,{size:"small",color:"primary",onClick:()=>O(e),children:(0,q.jsx)(Ce.A,{})}),(0,q.jsx)(se.A,{size:"small",color:"error",onClick:()=>(e=>{P(e),S(!0)})(e),children:(0,q.jsx)(_e.A,{})})]})]},e.id))})]})})}),(0,q.jsx)(ce.A,{rowsPerPageOptions:[10,25,50,100],component:"div",count:b,rowsPerPage:A,page:g,onPageChange:(e,r)=>{p(r)},onRowsPerPageChange:e=>{x(parseInt(e.target.value,10)),p(0)}}),(0,q.jsx)(de.A,{open:y,onClose:V,maxWidth:"md",fullWidth:!0,children:(0,q.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(C){const{error:e}=await Pe.N.from("medicine_reference").update(E).eq("id",C.id);if(e)throw e;ke.oR.success("Medicine updated successfully!")}else{const{error:e}=await Pe.N.from("medicine_reference").insert([E]);if(e)throw e;ke.oR.success("Medicine added successfully!")}V(),G()}catch(r){console.error("Error saving medicine:",r),"23505"===r.code?ke.oR.error("A medicine with this brand name and strength already exists"):ke.oR.error("Failed to save medicine: "+r.message)}},children:[(0,q.jsx)(ue.A,{children:C?"Edit Medicine":"Add New Medicine"}),(0,q.jsx)(me.A,{children:(0,q.jsxs)(J.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,required:!0,label:"Brand Name",name:"brand_name",value:E.brand_name,onChange:Se,placeholder:"e.g., Panadol"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,required:!0,label:"Generic Name",name:"generic_name",value:E.generic_name,onChange:Se,placeholder:"e.g., Paracetamol"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,required:!0,label:"Strength",name:"strength",value:E.strength,onChange:Se,placeholder:"e.g., 500mg"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,select:!0,required:!0,label:"Dosage Form",name:"dosage_form",value:E.dosage_form,onChange:Se,children:U.map(e=>(0,q.jsx)(Z.A,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,select:!0,label:"Category",name:"category",value:E.category,onChange:Se,children:H.map(e=>(0,q.jsx)(Z.A,{value:e,children:e},e))})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(Q.A,{fullWidth:!0,label:"Manufacturer",name:"manufacturer",value:E.manufacturer,onChange:Se,placeholder:"e.g., GlaxoSmithKline"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,children:(0,q.jsx)(Q.A,{fullWidth:!0,label:"Formula",name:"formula",value:E.formula,onChange:Se,placeholder:"e.g., Paracetamol + Caffeine"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,children:(0,q.jsx)(Q.A,{fullWidth:!0,label:"Standard Packaging",name:"standard_packaging",value:E.standard_packaging,onChange:Se,placeholder:"e.g., 10 tablets per strip, 10 strips per box",helperText:"Helps auto-fill items per box in product entry"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(he.A,{control:(0,q.jsx)(fe.A,{checked:E.prescription_required,onChange:Se,name:"prescription_required"}),label:"Prescription Required"})}),(0,q.jsx)(J.Ay,{item:!0,xs:12,sm:6,children:(0,q.jsx)(he.A,{control:(0,q.jsx)(fe.A,{checked:E.controlled_substance,onChange:Se,name:"controlled_substance"}),label:"Controlled Substance"})})]})}),(0,q.jsxs)(ge.A,{children:[(0,q.jsx)(d.A,{onClick:V,children:"Cancel"}),(0,q.jsx)(d.A,{type:"submit",variant:"contained",children:C?"Update":"Add"})]})]})}),(0,q.jsx)(Re.A,{open:k,onClose:()=>S(!1),onConfirm:async()=>{try{const{error:e}=await Pe.N.from("medicine_reference").delete().eq("id",w.id);if(e)throw e;ke.oR.success("Medicine deleted successfully!"),G()}catch(e){console.error("Error deleting medicine:",e),ke.oR.error("Failed to delete medicine: "+e.message)}finally{S(!1),P(null)}},title:"Delete Medicine",message:'Are you sure you want to delete "'.concat(null===w||void 0===w?void 0:w.brand_name,'"? This action cannot be undone.')})]})}},60931:(e,r,n)=>{n.d(r,{A:()=>u});n(65043);var a=n(90035),t=n(26600),i=n(35316),o=n(98533),l=n(29347),s=n(11906),c=n(34642),d=n(70579);function u(e){let{open:r,onClose:n,onConfirm:u,title:m="Confirm Delete",content:h="Are you sure you want to delete this item? This action cannot be undone.",confirmText:f="Delete",cancelText:g="Cancel"}=e;return(0,d.jsxs)(a.A,{open:r,onClose:n,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,d.jsxs)(t.A,{id:"confirm-dialog-title",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,d.jsx)(c.A,{color:"error"}),m]}),(0,d.jsx)(i.A,{children:(0,d.jsx)(o.A,{id:"confirm-dialog-description",children:h})}),(0,d.jsxs)(l.A,{children:[(0,d.jsx)(s.A,{onClick:n,color:"primary",children:g}),(0,d.jsx)(s.A,{onClick:u,color:"error",variant:"contained",autoFocus:!0,children:f})]})]})}}}]);
//# sourceMappingURL=587.6042e66c.chunk.js.map