{"version":3,"file":"static/js/470.15333117.chunk.js","mappings":"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","sources":["../node_modules/@mui/material/internal/svg-icons/KeyboardArrowLeft.js","utils/formatters.js","utils/dateHelpers.js","../node_modules/@mui/material/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@mui/icons-material/esm/TrendingUp.js","../node_modules/@mui/icons-material/esm/AttachMoney.js","../node_modules/recharts/es6/chart/BarChart.js","components/reports/ReportsPage.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","/**\r\n * Format currency value\r\n * @param {number} value - Value to format\r\n * @param {string} symbol - Currency symbol (default: 'PKR')\r\n * @returns {string} Formatted currency string\r\n */\r\nexport function formatCurrency(value, symbol = 'PKR') {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return `${symbol} 0.00`;\r\n    }\r\n\r\n    const num = Number(value);\r\n    return `${symbol} ${num.toLocaleString('en-US', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n    })}`;\r\n}\r\n\r\n/**\r\n * Format number with thousand separators\r\n * @param {number} value - Value to format\r\n * @returns {string} Formatted number string\r\n */\r\nexport function formatNumber(value) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0';\r\n    }\r\n\r\n    return Number(value).toLocaleString('en-US');\r\n}\r\n\r\n/**\r\n * Format percentage\r\n * @param {number} value - Value to format (0-100)\r\n * @param {number} decimals - Number of decimal places (default: 1)\r\n * @returns {string} Formatted percentage string\r\n */\r\nexport function formatPercentage(value, decimals = 1) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0%';\r\n    }\r\n\r\n    return `${Number(value).toFixed(decimals)}%`;\r\n}\r\n\r\n/**\r\n * Truncate text to specified length\r\n * @param {string} text - Text to truncate\r\n * @param {number} maxLength - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = 50) {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n}\r\n\r\n/**\r\n * Capitalize first letter of each word\r\n * @param {string} text - Text to capitalize\r\n * @returns {string} Capitalized text\r\n */\r\nexport function capitalizeWords(text) {\r\n    if (!text) return '';\r\n    return text\r\n        .toLowerCase()\r\n        .split(' ')\r\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Format phone number\r\n * @param {string} phone - Phone number\r\n * @returns {string} Formatted phone number\r\n */\r\nexport function formatPhone(phone) {\r\n    if (!phone) return '';\r\n    // Remove all non-digit characters\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n\r\n    // Format as: 0300-1234567\r\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\r\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\r\n    }\r\n\r\n    return phone;\r\n}\r\n\r\n/**\r\n * Get initials from name\r\n * @param {string} name - Full name\r\n * @returns {string} Initials (max 2 letters)\r\n */\r\nexport function getInitials(name) {\r\n    if (!name) return '?';\r\n\r\n    const parts = name.trim().split(' ');\r\n    if (parts.length === 1) {\r\n        return parts[0].charAt(0).toUpperCase();\r\n    }\r\n\r\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\r\n}\r\n\r\n/**\r\n * Calculate profit margin percentage\r\n * @param {number} revenue - Total revenue\r\n * @param {number} cost - Total cost\r\n * @returns {number} Profit margin percentage\r\n */\r\nexport function calculateProfitMargin(revenue, cost) {\r\n    if (!revenue || revenue === 0) return 0;\r\n    const profit = revenue - (cost || 0);\r\n    return (profit / revenue) * 100;\r\n}\r\n\r\n/**\r\n * Generate random color for charts\r\n * @param {number} index - Index for consistent colors\r\n * @returns {string} Hex color code\r\n */\r\nexport function getChartColor(index) {\r\n    const colors = [\r\n        '#6366f1', // Indigo\r\n        '#ec4899', // Pink\r\n        '#10b981', // Green\r\n        '#f59e0b', // Amber\r\n        '#3b82f6', // Blue\r\n        '#8b5cf6', // Purple\r\n        '#ef4444', // Red\r\n        '#14b8a6', // Teal\r\n        '#f97316', // Orange\r\n        '#06b6d4', // Cyan\r\n    ];\r\n\r\n    return colors[index % colors.length];\r\n}\r\n","import { format, formatDistance, parseISO } from 'date-fns';\r\n\r\n/**\r\n * Format date to readable string\r\n * @param {string|Date} date - Date to format\r\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\r\n * @returns {string} Formatted date\r\n */\r\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, formatStr);\r\n    } catch (error) {\r\n        console.error('Error formatting date:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to time string\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\r\n */\r\nexport function formatTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, 'h:mm a');\r\n    } catch (error) {\r\n        console.error('Error formatting time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to relative time (e.g., \"2 hours ago\")\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Relative time string\r\n */\r\nexport function formatRelativeTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\r\n    } catch (error) {\r\n        console.error('Error formatting relative time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate days until expiry\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @returns {number} Days until expiry (negative if expired)\r\n */\r\nexport function daysUntilExpiry(expiryDate) {\r\n    if (!expiryDate) return null;\r\n    try {\r\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\r\n        const today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        expiry.setHours(0, 0, 0, 0);\r\n        const diffTime = expiry - today;\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        return diffDays;\r\n    } catch (error) {\r\n        console.error('Error calculating days until expiry:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Get expiry status (expired, urgent, warning, ok)\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\r\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\r\n    const days = daysUntilExpiry(expiryDate);\r\n\r\n    if (days === null) {\r\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\r\n    }\r\n\r\n    if (days < 0) {\r\n        return { type: 'expired', color: 'error', label: 'Expired', days };\r\n    }\r\n\r\n    if (days <= urgentThreshold) {\r\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\r\n    }\r\n\r\n    if (days <= warningThreshold) {\r\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'Good', days };\r\n}\r\n\r\n/**\r\n * Get stock status (out, low, ok)\r\n * @param {number} stock - Current stock\r\n * @param {number} minLevel - Minimum stock level\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getStockStatus(stock, minLevel = 10) {\r\n    if (stock === 0) {\r\n        return { type: 'out', color: 'error', label: 'Out of stock' };\r\n    }\r\n\r\n    if (stock <= minLevel) {\r\n        return { type: 'low', color: 'warning', label: 'Low stock' };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'In stock' };\r\n}\r\n\r\n/**\r\n * Get today's date in YYYY-MM-DD format\r\n * @returns {string} Today's date\r\n */\r\nexport function getTodayDate() {\r\n    return format(new Date(), 'yyyy-MM-dd');\r\n}\r\n\r\n/**\r\n * Get date N days ago in YYYY-MM-DD format\r\n * @param {number} days - Number of days ago\r\n * @returns {string} Date string\r\n */\r\nexport function getDateDaysAgo(days) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - days);\r\n    return format(date, 'yyyy-MM-dd');\r\n}\r\n","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z\"\n}), 'TrendingUp');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4\"\n}), 'AttachMoney');","/**\n * @fileOverview Bar Chart\n */\nimport { generateCategoricalChart } from './generateCategoricalChart';\nimport { Bar } from '../cartesian/Bar';\nimport { XAxis } from '../cartesian/XAxis';\nimport { YAxis } from '../cartesian/YAxis';\nimport { formatAxisMap } from '../util/CartesianUtils';\nexport var BarChart = generateCategoricalChart({\n  chartName: 'BarChart',\n  GraphicalChild: Bar,\n  defaultTooltipEventType: 'axis',\n  validateTooltipEventTypes: ['axis', 'item'],\n  axisComponents: [{\n    axisType: 'xAxis',\n    AxisComp: XAxis\n  }, {\n    axisType: 'yAxis',\n    AxisComp: YAxis\n  }],\n  formatAxisMap: formatAxisMap\n});","import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport {\r\n    Container,\r\n    Card,\r\n    CardContent,\r\n    Typography,\r\n    Grid,\r\n    Box,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    TextField,\r\n    Button,\r\n    Tabs,\r\n    Tab,\r\n    Chip,\r\n} from '@mui/material';\r\nimport { Download, TrendingUp, Warning, AttachMoney, Keyboard } from '@mui/icons-material';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } from 'recharts';\r\nimport { toast } from 'react-toastify';\r\nimport { supabase } from '../../supabaseClient';\r\nimport { formatCurrency, formatNumber, formatPercentage, getChartColor } from '../../utils/formatters';\r\nimport { formatDate, getExpiryStatus, getDateDaysAgo } from '../../utils/dateHelpers';\r\nimport useSettings from '../../hooks/useSettings';\r\nimport Papa from 'papaparse';\r\nimport useKeyboardShortcuts from '../../hooks/useKeyboardShortcuts';\r\nimport { useKeyboard } from '../../contexts/KeyboardContext';\r\n\r\nexport default function ReportsPage() {\r\n    const { settings } = useSettings();\r\n    const { toggleHelp } = useKeyboard();\r\n    const [searchParams] = useSearchParams();\r\n    const [activeTab, setActiveTab] = useState(0);\r\n    const [dateRange, setDateRange] = useState({\r\n        start: getDateDaysAgo(30),\r\n        end: new Date().toISOString().split('T')[0],\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [salesReport, setSalesReport] = useState(null);\r\n    const [profitReport, setProfitReport] = useState(null);\r\n    const [expiryReport, setExpiryReport] = useState([]);\r\n    const [lowStockReport, setLowStockReport] = useState([]);\r\n    const [topProducts, setTopProducts] = useState([]);\r\n\r\n    useKeyboardShortcuts({\r\n        'Alt+e': () => handleExport(),\r\n        'Alt+1': () => setActiveTab(0),\r\n        'Alt+2': () => setActiveTab(1),\r\n        'Alt+3': () => setActiveTab(2),\r\n    }, 'Reports Page');\r\n\r\n    // Set initial tab from URL query parameter\r\n    useEffect(() => {\r\n        const tabParam = searchParams.get('tab');\r\n        if (tabParam) {\r\n            const tabIndex = parseInt(tabParam);\r\n            if (tabIndex >= 0 && tabIndex <= 2) {\r\n                setActiveTab(tabIndex);\r\n            }\r\n        }\r\n    }, [searchParams]);\r\n\r\n    useEffect(() => {\r\n        if (settings) {\r\n            fetchReports();\r\n        }\r\n    }, [dateRange, settings]);\r\n\r\n    async function fetchReports() {\r\n        setLoading(true);\r\n        try {\r\n            await Promise.all([\r\n                fetchSalesReport(),\r\n                fetchProfitReport(),\r\n                fetchExpiryReport(),\r\n                fetchLowStockReport(),\r\n                fetchTopProducts(),\r\n            ]);\r\n        } catch (error) {\r\n            console.error('Error fetching reports:', error);\r\n            toast.error('Failed to load reports');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    async function fetchSalesReport() {\r\n        const { data } = await supabase.rpc('get_sales_summary', {\r\n            start_date: dateRange.start,\r\n            end_date: dateRange.end,\r\n        });\r\n        setSalesReport(data?.[0] || { total_sales: 0, total_revenue: 0, total_items_sold: 0 });\r\n    }\r\n\r\n    async function fetchProfitReport() {\r\n        const { data } = await supabase.rpc('get_profit_summary', {\r\n            start_date: dateRange.start,\r\n            end_date: dateRange.end,\r\n        });\r\n        setProfitReport(data?.[0] || { total_revenue: 0, total_cost: 0, total_profit: 0, profit_margin: 0 });\r\n    }\r\n\r\n    async function fetchExpiryReport() {\r\n        const { data } = await supabase.rpc('get_near_expiry_products', {\r\n            days_threshold: parseInt(settings.expiry_alert_days || '15'),\r\n        });\r\n        setExpiryReport(data || []);\r\n    }\r\n\r\n    async function fetchLowStockReport() {\r\n        const { data } = await supabase.rpc('get_low_stock_products');\r\n        setLowStockReport(data || []);\r\n    }\r\n\r\n    async function fetchTopProducts() {\r\n        const { data } = await supabase.rpc('get_top_products', {\r\n            limit_count: 10,\r\n            days_back: 30,\r\n        });\r\n        setTopProducts(data || []);\r\n    }\r\n\r\n    const handleDateChange = (e) => {\r\n        setDateRange({\r\n            ...dateRange,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleExport = () => {\r\n        let dataToExport = [];\r\n        let fileName = 'report';\r\n\r\n        if (activeTab === 0) {\r\n            // Top Products\r\n            dataToExport = topProducts.map(p => ({\r\n                Product: p.product_name,\r\n                'Quantity Sold': p.total_quantity,\r\n                Revenue: p.total_revenue,\r\n                'Sales Count': p.sales_count\r\n            }));\r\n            fileName = 'top_products_report';\r\n        } else if (activeTab === 1) {\r\n            // Expiry\r\n            dataToExport = expiryReport.map(p => ({\r\n                Product: p.name,\r\n                'Expiry Date': p.expiry_date,\r\n                'Days Left': p.days_until_expiry,\r\n                Stock: p.stock\r\n            }));\r\n            fileName = 'expiry_report';\r\n        } else if (activeTab === 2) {\r\n            // Low Stock\r\n            dataToExport = lowStockReport.map(p => ({\r\n                Product: p.name,\r\n                Form: p.form,\r\n                Stock: p.stock,\r\n                'Min Level': p.min_stock_level\r\n            }));\r\n            fileName = 'low_stock_report';\r\n        }\r\n\r\n        if (dataToExport.length === 0) {\r\n            toast.info('No data to export');\r\n            return;\r\n        }\r\n\r\n        const csv = Papa.unparse(dataToExport);\r\n        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement('a');\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', `${fileName}_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\">\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n                <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\r\n                    Reports & Analytics\r\n                </Typography>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<Keyboard />}\r\n                    onClick={toggleHelp}\r\n                >\r\n                    Shortcuts\r\n                </Button>\r\n            </Box>\r\n\r\n            {/* Date Range Selector */}\r\n            <Card sx={{ mb: 3 }}>\r\n                <CardContent>\r\n                    <Grid container spacing={2} alignItems=\"center\">\r\n                        <Grid item xs={12} sm={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"date\"\r\n                                label=\"Start Date\"\r\n                                name=\"start\"\r\n                                value={dateRange.start}\r\n                                onChange={handleDateChange}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"date\"\r\n                                label=\"End Date\"\r\n                                name=\"end\"\r\n                                value={dateRange.end}\r\n                                onChange={handleDateChange}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <Button\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                startIcon={<Download />}\r\n                                onClick={handleExport}\r\n                            >\r\n                                Export to Excel\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Summary Cards */}\r\n            <Grid container spacing={3} mb={4}>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                                <TrendingUp color=\"primary\" />\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    Total Sales\r\n                                </Typography>\r\n                            </Box>\r\n                            <Typography variant=\"h4\" fontWeight={700}>\r\n                                {formatNumber(salesReport?.total_sales || 0)}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                {formatNumber(salesReport?.total_items_sold || 0)} items sold\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                                <AttachMoney color=\"success\" />\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    Revenue\r\n                                </Typography>\r\n                            </Box>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"success.main\">\r\n                                {formatCurrency(salesReport?.total_revenue || 0, settings.currency_symbol)}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                                <AttachMoney color=\"info\" />\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    Profit\r\n                                </Typography>\r\n                            </Box>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"info.main\">\r\n                                {formatCurrency(profitReport?.total_profit || 0, settings.currency_symbol)}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                Margin: {formatPercentage(profitReport?.profit_margin || 0)}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={3}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\r\n                                <Warning color=\"warning\" />\r\n                                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                    Alerts\r\n                                </Typography>\r\n                            </Box>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"warning.main\">\r\n                                {lowStockReport.length + expiryReport.length}\r\n                            </Typography>\r\n                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                {lowStockReport.length} low stock, {expiryReport.length} expiring\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Tabs for Different Reports */}\r\n            <Card>\r\n                <Tabs value={activeTab} onChange={(e, v) => setActiveTab(v)} variant=\"scrollable\">\r\n                    <Tab label=\"Top Products\" />\r\n                    <Tab label=\"Expiry Report\" />\r\n                    <Tab label=\"Low Stock\" />\r\n                </Tabs>\r\n\r\n                <CardContent>\r\n                    {/* Top Products */}\r\n                    {activeTab === 0 && (\r\n                        <Box>\r\n                            <Typography variant=\"h6\" fontWeight={600} mb={2}>\r\n                                Top Selling Products (Last 30 Days)\r\n                            </Typography>\r\n                            {topProducts.length === 0 ? (\r\n                                <Typography color=\"text.secondary\">No sales data available</Typography>\r\n                            ) : (\r\n                                <>\r\n                                    <ResponsiveContainer width=\"100%\" height={300}>\r\n                                        <BarChart data={topProducts.slice(0, 5)}>\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis dataKey=\"product_name\" />\r\n                                            <YAxis />\r\n                                            <Tooltip />\r\n                                            <Bar dataKey=\"total_quantity\" fill=\"#6366f1\" />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                    <TableContainer sx={{ mt: 3, overflowX: 'auto' }}>\r\n                                        <Table sx={{ minWidth: 600 }}>\r\n                                            <TableHead>\r\n                                                <TableRow>\r\n                                                    <TableCell><strong>Product</strong></TableCell>\r\n                                                    <TableCell><strong>Quantity Sold</strong></TableCell>\r\n                                                    <TableCell><strong>Revenue</strong></TableCell>\r\n                                                    <TableCell><strong>Sales Count</strong></TableCell>\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody>\r\n                                                {topProducts.map((product, index) => (\r\n                                                    <TableRow key={index}>\r\n                                                        <TableCell>{product.product_name}</TableCell>\r\n                                                        <TableCell>{formatNumber(product.total_quantity)}</TableCell>\r\n                                                        <TableCell>{formatCurrency(product.total_revenue, settings.currency_symbol)}</TableCell>\r\n                                                        <TableCell>{formatNumber(product.sales_count)}</TableCell>\r\n                                                    </TableRow>\r\n                                                ))}\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </TableContainer>\r\n                                </>\r\n                            )}\r\n                        </Box>\r\n                    )}\r\n\r\n                    {/* Expiry Report */}\r\n                    {activeTab === 1 && (\r\n                        <Box>\r\n                            <Typography variant=\"h6\" fontWeight={600} mb={2}>\r\n                                Products Near Expiry (Within {settings.expiry_alert_days || 15} Days)\r\n                            </Typography>\r\n                            {expiryReport.length === 0 ? (\r\n                                <Typography color=\"text.secondary\">No products near expiry!</Typography>\r\n                            ) : (\r\n                                <TableContainer sx={{ overflowX: 'auto' }}>\r\n                                    <Table sx={{ minWidth: 600 }}>\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableCell><strong>Product</strong></TableCell>\r\n                                                <TableCell><strong>Expiry Date</strong></TableCell>\r\n                                                <TableCell><strong>Days Left</strong></TableCell>\r\n                                                <TableCell><strong>Stock</strong></TableCell>\r\n                                                <TableCell><strong>Status</strong></TableCell>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody>\r\n                                            {expiryReport.map((item, index) => {\r\n                                                const status = getExpiryStatus(item.expiry_date, 7, parseInt(settings.expiry_alert_days || '15'));\r\n                                                return (\r\n                                                    <TableRow key={index}>\r\n                                                        <TableCell>{item.name}</TableCell>\r\n                                                        <TableCell>{formatDate(item.expiry_date)}</TableCell>\r\n                                                        <TableCell>{item.days_until_expiry} days</TableCell>\r\n                                                        <TableCell>{formatNumber(item.stock)}</TableCell>\r\n                                                        <TableCell>\r\n                                                            <Chip label={status.label} size=\"small\" color={status.color} />\r\n                                                        </TableCell>\r\n                                                    </TableRow>\r\n                                                );\r\n                                            })}\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            )}\r\n                        </Box>\r\n                    )}\r\n\r\n                    {/* Low Stock Report */}\r\n                    {activeTab === 2 && (\r\n                        <Box>\r\n                            <Typography variant=\"h6\" fontWeight={600} mb={2}>\r\n                                Low Stock Items\r\n                            </Typography>\r\n                            {lowStockReport.length === 0 ? (\r\n                                <Typography color=\"text.secondary\">All products are well stocked!</Typography>\r\n                            ) : (\r\n                                <TableContainer sx={{ overflowX: 'auto' }}>\r\n                                    <Table sx={{ minWidth: 600 }}>\r\n                                        <TableHead>\r\n                                            <TableRow>\r\n                                                <TableCell><strong>Product</strong></TableCell>\r\n                                                <TableCell><strong>Category</strong></TableCell>\r\n                                                <TableCell><strong>Current Stock</strong></TableCell>\r\n                                                <TableCell><strong>Min Level</strong></TableCell>\r\n                                                <TableCell><strong>Status</strong></TableCell>\r\n                                            </TableRow>\r\n                                        </TableHead>\r\n                                        <TableBody>\r\n                                            {lowStockReport.map((item, index) => (\r\n                                                <TableRow key={index}>\r\n                                                    <TableCell>{item.name}</TableCell>\r\n                                                    <TableCell>{item.form || '—'}</TableCell>\r\n                                                    <TableCell>{formatNumber(item.stock)}</TableCell>\r\n                                                    <TableCell>{item.min_stock_level}</TableCell>\r\n                                                    <TableCell>\r\n                                                        <Chip\r\n                                                            label={item.stock === 0 ? 'Out of Stock' : 'Low Stock'}\r\n                                                            size=\"small\"\r\n                                                            color={item.stock === 0 ? 'error' : 'warning'}\r\n                                                        />\r\n                                                    </TableCell>\r\n                                                </TableRow>\r\n                                            ))}\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </TableContainer>\r\n                            )}\r\n                        </Box>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        </Container>\r\n    );\r\n}\r\n"],"names":["createSvgIcon","_jsx","d","formatCurrency","value","symbol","arguments","length","undefined","isNaN","concat","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatNumber","formatPercentage","decimals","toFixed","formatDate","date","formatStr","dateObj","parseISO","format","error","console","String","formatTime","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","Date","today","setHours","diffTime","Math","ceil","daysUntilExpiry","type","color","label","getStockStatus","stock","getDateDaysAgo","setDate","getDate","BarChart","generateCategoricalChart","chartName","GraphicalChild","Bar","defaultTooltipEventType","validateTooltipEventTypes","axisComponents","axisType","AxisComp","XAxis","YAxis","formatAxisMap","ReportsPage","settings","useSettings","toggleHelp","useKeyboard","searchParams","useSearchParams","activeTab","setActiveTab","useState","dateRange","setDateRange","start","end","toISOString","split","loading","setLoading","salesReport","setSalesReport","profitReport","setProfitReport","expiryReport","setExpiryReport","lowStockReport","setLowStockReport","topProducts","setTopProducts","async","fetchSalesReport","data","supabase","rpc","start_date","end_date","total_sales","total_revenue","total_items_sold","fetchProfitReport","total_cost","total_profit","profit_margin","fetchExpiryReport","days_threshold","parseInt","expiry_alert_days","fetchLowStockReport","fetchTopProducts","limit_count","days_back","useKeyboardShortcuts","Alt+e","handleExport","Alt+1","Alt+2","Alt+3","useEffect","tabParam","get","tabIndex","Promise","all","toast","fetchReports","handleDateChange","e","_objectSpread","target","name","dataToExport","fileName","map","p","Product","product_name","total_quantity","Revenue","sales_count","expiry_date","days_until_expiry","Stock","Form","form","min_stock_level","info","csv","Papa","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","_jsxs","Container","maxWidth","children","Box","display","justifyContent","alignItems","mb","Typography","variant","fontWeight","Button","startIcon","Keyboard","onClick","Card","sx","CardContent","Grid","container","spacing","item","xs","sm","TextField","fullWidth","onChange","InputLabelProps","shrink","Download","md","gap","TrendingUp","AttachMoney","currency_symbol","Warning","Tabs","v","Tab","_Fragment","ResponsiveContainer","width","height","slice","CartesianGrid","strokeDasharray","dataKey","Tooltip","fill","TableContainer","mt","overflowX","Table","minWidth","TableHead","TableRow","TableCell","TableBody","product","index","status","Chip","size"],"sourceRoot":""}