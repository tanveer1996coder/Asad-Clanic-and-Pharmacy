"use strict";(self.webpackChunksupabase_sales_app=self.webpackChunksupabase_sales_app||[]).push([[788],{34642:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning")},38504:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf")},60931:(e,s,t)=>{t.d(s,{A:()=>h});t(65043);var n=t(90035),r=t(26600),o=t(35316),i=t(98533),l=t(29347),a=t(11906),c=t(34642),d=t(70579);function h(e){let{open:s,onClose:t,onConfirm:h,title:u="Confirm Delete",content:m="Are you sure you want to delete this item? This action cannot be undone.",confirmText:x="Delete",cancelText:A="Cancel"}=e;return(0,d.jsxs)(n.A,{open:s,onClose:t,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,d.jsxs)(r.A,{id:"confirm-dialog-title",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,d.jsx)(c.A,{color:"error"}),u]}),(0,d.jsx)(o.A,{children:(0,d.jsx)(i.A,{id:"confirm-dialog-description",children:m})}),(0,d.jsxs)(l.A,{children:[(0,d.jsx)(a.A,{onClick:t,color:"primary",children:A}),(0,d.jsx)(a.A,{onClick:h,color:"error",variant:"contained",autoFocus:!0,children:x})]})]})}},67652:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)([(0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,r.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")},70141:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},75475:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image")},80587:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut")},83560:(e,s,t)=>{t.d(s,{A:()=>o});var n=t(59662),r=t(70579);const o=(0,n.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},88911:(e,s,t)=>{t.d(s,{A:()=>k});var n=t(98587),r=t(58168),o=t(65043),i=t(58387),l=t(19172),a=t(72372),c=t(98610),d=t(46060),h=t(52900),u=t(18698),m=t(18280),x=t(89751),A=t(28604),j=t(70579);const p=["component","direction","spacing","divider","children","className","useFlexGap"],f=(0,m.A)(),v=(0,d.A)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,s)=>s.root});function g(e){return(0,h.A)({props:e,name:"MuiStack",defaultTheme:f})}function y(e,s){const t=o.Children.toArray(e).filter(Boolean);return t.reduce((e,n,r)=>(e.push(n),r<t.length-1&&e.push(o.cloneElement(s,{key:"separator-".concat(r)})),e),[])}const C=e=>{let{ownerState:s,theme:t}=e,n=(0,r.A)({display:"flex",flexDirection:"column"},(0,x.NI)({theme:t},(0,x.kW)({values:s.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e})));if(s.spacing){const e=(0,A.LX)(t),r=Object.keys(t.breakpoints.values).reduce((e,t)=>(("object"===typeof s.spacing&&null!=s.spacing[t]||"object"===typeof s.direction&&null!=s.direction[t])&&(e[t]=!0),e),{}),o=(0,x.kW)({values:s.direction,base:r}),i=(0,x.kW)({values:s.spacing,base:r});"object"===typeof o&&Object.keys(o).forEach((e,s,t)=>{if(!o[e]){const n=s>0?o[t[s-1]]:"column";o[e]=n}});const a=(t,n)=>{return s.useFlexGap?{gap:(0,A._W)(e,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((r=n?o[n]:s.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r]))]:(0,A._W)(e,t)}};var r};n=(0,l.A)(n,(0,x.NI)({theme:t},i,a))}return n=(0,x.iZ)(t.breakpoints,n),n};var b=t(34535),S=t(98206);const w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:s=v,useThemeProps:t=g,componentName:l="MuiStack"}=e,d=s(C),h=o.forwardRef(function(e,s){const o=t(e),h=(0,u.A)(o),{component:m="div",direction:x="column",spacing:A=0,divider:f,children:v,className:g,useFlexGap:C=!1}=h,b=(0,n.A)(h,p),S={direction:x,spacing:A,useFlexGap:C},w=(0,c.A)({root:["root"]},e=>(0,a.Ay)(l,e),{});return(0,j.jsx)(d,(0,r.A)({as:m,ownerState:S,ref:s,className:(0,i.A)(w.root,g)},b,{children:f?y(v,f):v}))});return h}({createStyledComponent:(0,b.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,s)=>s.root}),useThemeProps:e=>(0,S.b)({props:e,name:"MuiStack"})}),k=w},92746:(e,s,t)=>{t.r(s),t.d(s,{default:()=>U});var n=t(89379),r=t(65043),o=t(26240),i=t(30344),l=t(19252),a=t(96446),c=t(85865),d=t(11906),h=t(12110),u=t(26494),m=t(5146),x=t(51787),A=t(17392),j=t(79650),p=t(71806),f=t(84882),v=t(28076),g=t(10039),y=t(73460),C=t(19090),b=t(90035),S=t(26600),w=t(35316),k=t(68903),z=t(29347),N=t(8939),W=t(24056),_=t(43845),R=t(17673),M=t(70141),H=t(79484),I=t(59662),P=t(70579);const q=(0,I.A)((0,P.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History");var D=t(83560),T=t(51387),E=t(30513),F=t(99010);const L=(0,I.A)((0,P.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2z"}),"Repeat");var V=t(73216),O=t(47503),B=t(27001),G=t(11737),X=t(60931),Z=t(88249),J=t(90990),Q=t(8649);function U(){const{settings:e}=(0,G.A)(),{toggleHelp:s}=(0,Q.d)(),[t,N]=(0,r.useState)([]),[W,_]=(0,r.useState)(!0),[I,E]=(0,r.useState)(""),[F,L]=(0,r.useState)(0),[V,Z]=(0,r.useState)(25),[U,Y]=(0,r.useState)(0),[$,ee]=(0,r.useState)(!1),[se,te]=(0,r.useState)(null),[ne,re]=(0,r.useState)(!1),[oe,ie]=(0,r.useState)(null),[le,ae]=(0,r.useState)(!1),[ce,de]=(0,r.useState)(null),[he,ue]=(0,r.useState)({name:"",phone:"",email:"",address:"",notes:""}),me=(0,r.useRef)(null);(0,J.A)({"Alt+n":()=>Ae(),"Alt+f":()=>{var e;return null===(e=me.current)||void 0===e?void 0:e.focus()}},"Customers Page"),(0,r.useEffect)(()=>{const e=setTimeout(()=>{xe()},500);return()=>clearTimeout(e)},[I,F,V]);const xe=async()=>{_(!0);try{const{data:{session:e}}=await B.N.auth.getSession();if(!e)return;const s=e.user.id;let t=B.N.from("customers").select("*",{count:"exact"}).eq("organization_id",s).is("deleted_at",null).order("name");I&&(t=t.or("name.ilike.%".concat(I,"%,phone.ilike.%").concat(I,"%,email.ilike.%").concat(I,"%")));const n=F*V,r=n+V-1,{data:o,count:i,error:l}=await t.range(n,r);if(l)throw l;N(o||[]),Y(i||0)}catch(e){console.error("Error fetching customers:",e),O.oR.error("Failed to load customers")}finally{_(!1)}},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(te(e),ue({name:e.name||"",phone:e.phone||"",email:e.email||"",address:e.address||"",notes:e.notes||""})):(te(null),ue({name:"",phone:"",email:"",address:"",notes:""})),ee(!0)},je=()=>{ee(!1),te(null)},pe=e=>{ue((0,n.A)((0,n.A)({},he),{},{[e.target.name]:e.target.value}))},fe=e=>{ie(e),re(!0)},ve=(0,o.A)(),ge=(0,i.A)(ve.breakpoints.down("sm"));return(0,P.jsxs)(l.A,{maxWidth:"lg",children:[(0,P.jsxs)(a.A,{display:"flex",flexDirection:ge?"column":"row",justifyContent:"space-between",alignItems:ge?"flex-start":"center",gap:2,mb:3,children:[(0,P.jsx)(c.A,{variant:"h4",fontWeight:700,color:"primary",children:"Customers"}),(0,P.jsxs)(a.A,{display:"flex",gap:1,children:[(0,P.jsx)(d.A,{variant:"outlined",startIcon:(0,P.jsx)(R.A,{}),onClick:s,size:ge?"small":"medium",children:"Shortcuts"}),(0,P.jsx)(d.A,{variant:"contained",startIcon:(0,P.jsx)(M.A,{}),onClick:()=>Ae(),fullWidth:ge,children:"Add Customer (Alt+n)"})]})]}),(0,P.jsx)(h.A,{sx:{mb:3},children:(0,P.jsx)(u.A,{children:(0,P.jsx)(m.A,{fullWidth:!0,inputRef:me,size:"small",placeholder:"Search customers by name, phone, or email... (Alt+f)",value:I,onChange:e=>E(e.target.value),InputProps:{startAdornment:(0,P.jsx)(x.A,{position:"start",children:(0,P.jsx)(H.A,{})})}})})}),ge?(0,P.jsx)(a.A,{children:W?(0,P.jsx)(c.A,{align:"center",children:"Loading..."}):0===t.length?(0,P.jsx)(c.A,{align:"center",children:"No customers found"}):t.map(e=>(0,P.jsx)(h.A,{variant:"outlined",sx:{mb:2},children:(0,P.jsxs)(u.A,{children:[(0,P.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1,children:[(0,P.jsx)(c.A,{variant:"h6",fontWeight:600,children:e.name}),(0,P.jsxs)(a.A,{children:[(0,P.jsx)(A.A,{size:"small",color:"info",onClick:()=>{de(e),ae(!0)},children:(0,P.jsx)(q,{fontSize:"small"})}),(0,P.jsx)(A.A,{size:"small",color:"primary",onClick:()=>Ae(e),children:(0,P.jsx)(D.A,{fontSize:"small"})}),(0,P.jsx)(A.A,{size:"small",color:"error",onClick:()=>fe(e.id),children:(0,P.jsx)(T.A,{fontSize:"small"})})]})]}),(0,P.jsxs)(a.A,{mb:1,children:[(0,P.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[(0,P.jsx)("strong",{children:"Phone:"})," ",e.phone||"\u2014"]}),(0,P.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[(0,P.jsx)("strong",{children:"Email:"})," ",e.email||"\u2014"]}),(0,P.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[(0,P.jsx)("strong",{children:"Address:"})," ",e.address||"\u2014"]})]})]})},e.id))}):(0,P.jsx)(h.A,{children:(0,P.jsx)(j.A,{sx:{overflowX:"auto",maxWidth:"100%"},children:(0,P.jsxs)(p.A,{sx:{minWidth:700},children:[(0,P.jsx)(f.A,{children:(0,P.jsxs)(v.A,{children:[(0,P.jsx)(g.A,{children:(0,P.jsx)("strong",{children:"Name"})}),(0,P.jsx)(g.A,{children:(0,P.jsx)("strong",{children:"Phone"})}),(0,P.jsx)(g.A,{children:(0,P.jsx)("strong",{children:"Email"})}),(0,P.jsx)(g.A,{children:(0,P.jsx)("strong",{children:"Address"})}),(0,P.jsx)(g.A,{align:"right",children:(0,P.jsx)("strong",{children:"Actions"})})]})}),(0,P.jsx)(y.A,{children:W?(0,P.jsx)(v.A,{children:(0,P.jsx)(g.A,{colSpan:5,align:"center",children:"Loading..."})}):0===t.length?(0,P.jsx)(v.A,{children:(0,P.jsx)(g.A,{colSpan:5,align:"center",children:"No customers found"})}):t.map(e=>(0,P.jsxs)(v.A,{hover:!0,children:[(0,P.jsx)(g.A,{children:(0,P.jsx)(c.A,{variant:"body2",fontWeight:600,children:e.name})}),(0,P.jsx)(g.A,{children:e.phone||"\u2014"}),(0,P.jsx)(g.A,{children:e.email||"\u2014"}),(0,P.jsx)(g.A,{children:e.address||"\u2014"}),(0,P.jsxs)(g.A,{align:"right",children:[(0,P.jsx)(A.A,{size:"small",color:"info",onClick:()=>{de(e),ae(!0)},children:(0,P.jsx)(q,{})}),(0,P.jsx)(A.A,{size:"small",color:"primary",onClick:()=>Ae(e),children:(0,P.jsx)(D.A,{})}),(0,P.jsx)(A.A,{size:"small",color:"error",onClick:()=>fe(e.id),children:(0,P.jsx)(T.A,{})})]})]},e.id))})]})})}),(0,P.jsx)(C.A,{rowsPerPageOptions:[10,25,50,100],component:"div",count:U,rowsPerPage:V,page:F,onPageChange:(e,s)=>{L(s)},onRowsPerPageChange:e=>{Z(parseInt(e.target.value,10)),L(0)}}),(0,P.jsx)(b.A,{open:$,onClose:je,maxWidth:"sm",fullWidth:!0,children:(0,P.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),he.name)try{const{data:{session:e}}=await B.N.auth.getSession();if(!e)return;if(se){const{error:e}=await B.N.from("customers").update(he).eq("id",se.id);if(e)throw e;O.oR.success("Customer updated")}else{const{error:s}=await B.N.from("customers").insert([(0,n.A)((0,n.A)({},he),{},{organization_id:e.user.id})]);if(s)throw s;O.oR.success("Customer added")}je(),xe()}catch(s){console.error("Error saving customer:",s),O.oR.error("Failed to save customer")}else O.oR.error("Name is required")},children:[(0,P.jsx)(S.A,{children:se?"Edit Customer":"Add New Customer"}),(0,P.jsx)(w.A,{children:(0,P.jsxs)(k.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,P.jsx)(k.Ay,{item:!0,xs:12,children:(0,P.jsx)(m.A,{fullWidth:!0,required:!0,label:"Name",name:"name",value:he.name,onChange:pe})}),(0,P.jsx)(k.Ay,{item:!0,xs:12,sm:6,children:(0,P.jsx)(m.A,{fullWidth:!0,label:"Phone",name:"phone",value:he.phone,onChange:pe})}),(0,P.jsx)(k.Ay,{item:!0,xs:12,sm:6,children:(0,P.jsx)(m.A,{fullWidth:!0,type:"email",label:"Email",name:"email",value:he.email,onChange:pe})}),(0,P.jsx)(k.Ay,{item:!0,xs:12,children:(0,P.jsx)(m.A,{fullWidth:!0,multiline:!0,rows:2,label:"Address",name:"address",value:he.address,onChange:pe})}),(0,P.jsx)(k.Ay,{item:!0,xs:12,children:(0,P.jsx)(m.A,{fullWidth:!0,multiline:!0,rows:2,label:"Notes",name:"notes",value:he.notes,onChange:pe})})]})}),(0,P.jsxs)(z.A,{children:[(0,P.jsx)(d.A,{onClick:je,children:"Cancel"}),(0,P.jsxs)(d.A,{type:"submit",variant:"contained",children:[se?"Update":"Add"," Customer"]})]})]})}),(0,P.jsx)(K,{open:le,onClose:()=>ae(!1),customer:ce}),(0,P.jsx)(X.A,{open:ne,onClose:()=>re(!1),onConfirm:async()=>{if(oe)try{const{error:e}=await B.N.from("customers").update({deleted_at:(new Date).toISOString()}).eq("id",oe);if(e)throw e;O.oR.success("Customer deleted"),xe()}catch(e){O.oR.error("Failed to delete customer")}finally{re(!1),ie(null)}},title:"Delete Customer",content:"Are you sure? This will hide the customer but keep sales history."})]})}function K(e){let{open:s,onClose:t,customer:n}=e;const[o,i]=(0,r.useState)(0),[l,h]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,A]=(0,r.useState)(!1),{settings:C}=(0,G.A)(),k=(0,V.Zp)(),[R,M]=(0,r.useState)(!1),[H,I]=(0,r.useState)({invoice:null,items:[]});(0,r.useEffect)(()=>{s&&n&&(q(),D())},[s,n]);const q=async()=>{A(!0);try{const{data:e,error:s}=await B.N.from("invoices").select("*").eq("customer_id",n.id).order("created_at",{ascending:!1});if(s)throw s;h(e||[])}catch(e){console.error("Error fetching history:",e),O.oR.error("Failed to load history")}finally{A(!1)}},D=async()=>{try{const{data:e,error:s}=await B.N.from("customer_frequent_items").select("*, products(*)").eq("customer_id",n.id).order("purchase_count",{ascending:!1});if(s)throw s;m(e||[])}catch(e){console.error("Error fetching frequent items:",e)}},T=e=>{const s={customer:n,items:e.map(e=>({product:e.products,quantity:e.typical_quantity,price:e.products.price}))};localStorage.setItem("quick_reorder",JSON.stringify(s)),k("/sales")};return(0,P.jsxs)(b.A,{open:s,onClose:t,maxWidth:"md",fullWidth:!0,children:[(0,P.jsx)(S.A,{children:(0,P.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(c.A,{variant:"h6",children:null===n||void 0===n?void 0:n.name}),(0,P.jsxs)(N.A,{value:o,onChange:(e,s)=>i(s),textColor:"primary",indicatorColor:"primary",children:[(0,P.jsx)(W.A,{label:"History"}),(0,P.jsx)(W.A,{label:"Frequent Items"})]})]})}),(0,P.jsx)(w.A,{children:0===o?(0,P.jsx)(j.A,{sx:{overflowX:"auto",maxWidth:"100%"},children:(0,P.jsxs)(p.A,{sx:{minWidth:700},children:[(0,P.jsx)(f.A,{children:(0,P.jsxs)(v.A,{children:[(0,P.jsx)(g.A,{children:"Date"}),(0,P.jsx)(g.A,{children:"Invoice #"}),(0,P.jsx)(g.A,{children:"Amount"}),(0,P.jsx)(g.A,{children:"Payment"}),(0,P.jsx)(g.A,{align:"right",children:"Actions"})]})}),(0,P.jsx)(y.A,{children:l.map(e=>(0,P.jsxs)(v.A,{children:[(0,P.jsx)(g.A,{children:new Date(e.created_at).toLocaleDateString()}),(0,P.jsxs)(g.A,{children:["#",e.id.slice(0,8)]}),(0,P.jsxs)(g.A,{children:[null===C||void 0===C?void 0:C.currency_symbol," ",e.total_amount]}),(0,P.jsx)(g.A,{sx:{textTransform:"capitalize"},children:e.payment_method}),(0,P.jsx)(g.A,{align:"right",children:(0,P.jsx)(d.A,{size:"small",variant:"outlined",startIcon:(0,P.jsx)(E.A,{}),onClick:()=>(async e=>{try{const{data:s,error:t}=await B.N.from("sales").select("*, products(name, price)").eq("invoice_id",e.id);if(t)throw t;if(!s||0===s.length)return void O.oR.error("No items found for this invoice");I({invoice:e,items:s}),M(!0)}catch(s){console.error("Error loading receipt:",s),O.oR.error("Failed to load invoice details")}})(e),children:"Receipt"})})]},e.id))})]})}):(0,P.jsxs)(a.A,{children:[(0,P.jsx)(a.A,{display:"flex",justifyContent:"flex-end",mb:2,children:(0,P.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,P.jsx)(F.A,{}),onClick:()=>T(u),disabled:0===u.length,children:"Reorder All Frequent Items"})}),0===u.length?(0,P.jsx)(c.A,{color:"text.secondary",children:"No frequent items found yet."}):(0,P.jsx)(j.A,{sx:{overflowX:"auto",maxWidth:"100%"},children:(0,P.jsxs)(p.A,{size:"small",sx:{minWidth:500},children:[(0,P.jsx)(f.A,{children:(0,P.jsxs)(v.A,{children:[(0,P.jsx)(g.A,{children:"Product"}),(0,P.jsx)(g.A,{children:"Typical Qty"}),(0,P.jsx)(g.A,{children:"Times Bought"}),(0,P.jsx)(g.A,{children:"Last Bought"}),(0,P.jsx)(g.A,{align:"right",children:"Action"})]})}),(0,P.jsx)(y.A,{children:u.map(e=>{var s;return(0,P.jsxs)(v.A,{children:[(0,P.jsx)(g.A,{children:null===(s=e.products)||void 0===s?void 0:s.name}),(0,P.jsx)(g.A,{children:e.typical_quantity}),(0,P.jsx)(g.A,{children:(0,P.jsx)(_.A,{label:e.purchase_count,size:"small",color:"primary",variant:"outlined"})}),(0,P.jsx)(g.A,{children:new Date(e.last_purchased_at).toLocaleDateString()}),(0,P.jsx)(g.A,{align:"right",children:(0,P.jsx)(d.A,{size:"small",startIcon:(0,P.jsx)(L,{}),onClick:()=>T([e]),children:"Reorder"})})]},e.id)})})]})})]})}),(0,P.jsx)(z.A,{children:(0,P.jsx)(d.A,{onClick:t,children:"Close"})}),(0,P.jsx)(Z.A,{open:R,onClose:()=>M(!1),invoice:H.invoice,items:H.items,settings:C})]})}},98533:(e,s,t)=>{t.d(s,{A:()=>f});var n=t(98587),r=t(58168),o=t(65043),i=t(58387),l=t(98610),a=t(34535),c=t(61475),d=t(98206),h=t(85865),u=t(92532),m=t(72372);function x(e){return(0,m.Ay)("MuiDialogContentText",e)}(0,u.A)("MuiDialogContentText",["root"]);var A=t(70579);const j=["children","className"],p=(0,a.Ay)(h.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,s)=>s.root})({}),f=o.forwardRef(function(e,s){const t=(0,d.b)({props:e,name:"MuiDialogContentText"}),{className:o}=t,a=(0,n.A)(t,j),c=(e=>{const{classes:s}=e,t=(0,l.A)({root:["root"]},x,s);return(0,r.A)({},s,t)})(a);return(0,A.jsx)(p,(0,r.A)({component:"p",variant:"body1",color:"text.secondary",ref:s,ownerState:a,className:(0,i.A)(c.root,o)},t,{classes:c}))})}}]);
//# sourceMappingURL=788.f6ae8482.chunk.js.map