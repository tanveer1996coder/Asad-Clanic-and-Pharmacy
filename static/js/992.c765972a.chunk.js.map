{"version":3,"file":"static/js/992.c765972a.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Receipt.js","../node_modules/@mui/icons-material/esm/FilterList.js","components/sales/SalesHistoryPage.js","utils/formatters.js","utils/dateHelpers.js","../node_modules/@mui/icons-material/esm/Refresh.js","../node_modules/@mui/icons-material/esm/Download.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z\"\n}), 'Receipt');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z\"\n}), 'FilterList');","import React, { useState, useEffect } from 'react';\nimport {\n    Container,\n    Card,\n    CardContent,\n    Typography,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    TextField,\n    Grid,\n    Box,\n    Chip,\n    IconButton,\n    Tooltip,\n    Button,\n    MenuItem,\n    InputAdornment,\n    TablePagination,\n} from '@mui/material';\nimport {\n    Search,\n    Refresh,\n    Download,\n    FilterList,\n    Receipt,\n} from '@mui/icons-material';\nimport { toast } from 'react-toastify';\nimport { supabase } from '../../supabaseClient';\nimport { formatCurrency, formatNumber } from '../../utils/formatters';\nimport { formatDate, formatTime } from '../../utils/dateHelpers';\nimport useSettings from '../../hooks/useSettings';\n\nexport default function SalesHistoryPage() {\n    const { settings } = useSettings();\n    const [sales, setSales] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [dateFilter, setDateFilter] = useState({\n        start: '',\n        end: '',\n    });\n\n    // Pagination state\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(50);\n    const [totalCount, setTotalCount] = useState(0);\n    const [totalRevenue, setTotalRevenue] = useState(0);\n    const [totalItems, setTotalItems] = useState(0);\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            fetchAllSales();\n        }, 500);\n\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchTerm, dateFilter, page, rowsPerPage]);\n\n    async function fetchAllSales() {\n        setLoading(true);\n        try {\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) return;\n            const orgId = session.user.id;\n\n            let query = supabase\n                .from('sales')\n                .select('*, products(name, form, strength)', { count: 'exact' })\n                .eq('organization_id', orgId)\n                .is('deleted_at', null)\n                .order('created_at', { ascending: false });\n\n            // Apply date filters using created_at\n            if (dateFilter.start) {\n                const startDate = new Date(dateFilter.start);\n                startDate.setHours(0, 0, 0, 0);\n                query = query.gte('created_at', startDate.toISOString());\n            }\n            if (dateFilter.end) {\n                const endDate = new Date(dateFilter.end);\n                endDate.setHours(23, 59, 59, 999);\n                query = query.lte('created_at', endDate.toISOString());\n            }\n\n            const from = page * rowsPerPage;\n            const to = from + rowsPerPage - 1;\n\n            const { data, count, error } = await query.range(from, to);\n\n            if (error) throw error;\n\n            // Client-side filtering for product name/category if search term exists\n            let filteredData = data || [];\n            if (searchTerm && data) {\n                const search = searchTerm.toLowerCase();\n                filteredData = data.filter(sale =>\n                    sale.products?.name?.toLowerCase().includes(search) ||\n                    sale.products?.form?.toLowerCase().includes(search) ||\n                    sale.id.toLowerCase().includes(search)\n                );\n            }\n\n            setSales(filteredData);\n            setTotalCount(count || 0);\n\n            // Calculate totals from all matching records\n            const { data: allData } = await supabase\n                .from('sales')\n                .select('quantity, price_at_sale')\n                .eq('organization_id', orgId)\n                .is('deleted_at', null);\n\n            if (allData) {\n                const revenue = allData.reduce((sum, sale) => sum + (sale.quantity * sale.price_at_sale), 0);\n                const items = allData.reduce((sum, sale) => sum + sale.quantity, 0);\n                setTotalRevenue(revenue);\n                setTotalItems(items);\n            }\n        } catch (error) {\n            console.error('Error fetching sales:', error);\n            toast.error('Failed to load sales history');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    function handleDateChange(e) {\n        setDateFilter({\n            ...dateFilter,\n            [e.target.name]: e.target.value,\n        });\n    }\n\n    function clearFilters() {\n        setSearchTerm('');\n        setDateFilter({ start: '', end: '' });\n        setPage(0);\n    }\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    function exportToCSV() {\n        // For export, we need all filtered data, not just current page\n        // This is a limitation - for now export current page only\n        const csvData = sales.map(sale => ({\n            'Sale ID': sale.id,\n            'Date': formatDate(sale.sale_date || sale.created_at),\n            'Time': formatTime(sale.created_at),\n            'Product': sale.products?.name || '—',\n            'Category': sale.products?.category || '—',\n            'Quantity': sale.quantity,\n            'Price': sale.price_at_sale,\n            'Total': sale.quantity * sale.price_at_sale,\n        }));\n\n        const headers = Object.keys(csvData[0]).join(',');\n        const rows = csvData.map(row => Object.values(row).join(',')).join('\\n');\n        const csv = headers + '\\n' + rows;\n\n        const blob = new Blob([csv], { type: 'text/csv' });\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `sales-history-${new Date().toISOString().split('T')[0]}.csv`;\n        a.click();\n        toast.success('Sales history exported!');\n    }\n\n    // Summary stats from totals calculated in fetch\n\n    return (\n        <Container maxWidth=\"xl\">\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\n                    <Receipt color=\"primary\" sx={{ fontSize: 40 }} />\n                    <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\n                        Sales History & Audit Log\n                    </Typography>\n                </Box>\n                <Box display=\"flex\" gap={1}>\n                    <Tooltip title=\"Refresh\">\n                        <IconButton onClick={fetchAllSales} color=\"primary\">\n                            <Refresh />\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<Download />}\n                        onClick={exportToCSV}\n                        disabled={sales.length === 0}\n                    >\n                        Export CSV\n                    </Button>\n                </Box>\n            </Box>\n\n            {/* Summary Cards */}\n            <Grid container spacing={2} mb={3}>\n                <Grid item xs={12} sm={4}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                Total Transactions\n                            </Typography>\n                            <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\n                                {formatNumber(totalCount)}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                Total Revenue\n                            </Typography>\n                            <Typography variant=\"h4\" fontWeight={700} color=\"success.main\">\n                                {formatCurrency(totalRevenue, settings.currency_symbol)}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n                <Grid item xs={12} sm={4}>\n                    <Card>\n                        <CardContent>\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                Items Sold\n                            </Typography>\n                            <Typography variant=\"h4\" fontWeight={700} color=\"info.main\">\n                                {formatNumber(totalItems)}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n\n            {/* Filters */}\n            <Card sx={{ mb: 3 }}>\n                <CardContent>\n                    <Grid container spacing={2} alignItems=\"center\">\n                        <Grid item xs={12} md={4}>\n                            <TextField\n                                fullWidth\n                                placeholder=\"Search by product, category, or sale ID...\"\n                                value={searchTerm}\n                                onChange={(e) => setSearchTerm(e.target.value)}\n                                InputProps={{\n                                    startAdornment: (\n                                        <InputAdornment position=\"start\">\n                                            <Search />\n                                        </InputAdornment>\n                                    ),\n                                }}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3}>\n                            <TextField\n                                fullWidth\n                                type=\"date\"\n                                label=\"Start Date\"\n                                name=\"start\"\n                                value={dateFilter.start}\n                                onChange={handleDateChange}\n                                InputLabelProps={{ shrink: true }}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={3}>\n                            <TextField\n                                fullWidth\n                                type=\"date\"\n                                label=\"End Date\"\n                                name=\"end\"\n                                value={dateFilter.end}\n                                onChange={handleDateChange}\n                                InputLabelProps={{ shrink: true }}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={2}>\n                            <Button\n                                fullWidth\n                                variant=\"outlined\"\n                                onClick={clearFilters}\n                                startIcon={<FilterList />}\n                            >\n                                Clear Filters\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </CardContent>\n            </Card>\n\n            {/* Sales Table */}\n            <Card>\n                <CardContent>\n                    <Typography variant=\"h6\" fontWeight={600} mb={2}>\n                        All Sales Transactions\n                        <Chip\n                            label={`Showing ${sales.length} of ${totalCount}`}\n                            size=\"small\"\n                            color=\"primary\"\n                            sx={{ ml: 2 }}\n                        />\n                    </Typography>\n                    <TableContainer sx={{ overflowX: 'auto', maxWidth: '100%' }}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell><strong>Date & Time</strong></TableCell>\n                                    <TableCell><strong>Sale ID</strong></TableCell>\n                                    <TableCell><strong>Product</strong></TableCell>\n                                    <TableCell><strong>Category</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Unit</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Items</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Boxes</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Unit Price</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Total Amount</strong></TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {loading ? (\n                                    <TableRow>\n                                        <TableCell colSpan={9} align=\"center\">Loading...</TableCell>\n                                    </TableRow>\n                                ) : sales.length === 0 ? (\n                                    <TableRow>\n                                        <TableCell colSpan={9} align=\"center\">\n                                            {sales.length === 0 ? 'No sales recorded yet' : 'No sales match your filters'}\n                                        </TableCell>\n                                    </TableRow>\n                                ) : (\n                                    sales.map((sale) => {\n                                        const isBoxSale = sale.selling_unit === 'box';\n                                        const itemsPerBox = sale.items_per_box || 1;\n                                        const boxes = isBoxSale ? sale.quantity : 0;\n                                        const items = isBoxSale ? sale.quantity * itemsPerBox : sale.quantity;\n\n                                        return (\n                                            <TableRow key={sale.id} hover>\n                                                <TableCell>\n                                                    <Typography variant=\"body2\" fontWeight={600}>\n                                                        {formatDate(sale.sale_date || sale.created_at)}\n                                                    </Typography>\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\n                                                        {formatTime(sale.created_at)}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Tooltip title=\"Sale ID\">\n                                                        <Typography variant=\"caption\" sx={{ fontFamily: 'monospace' }}>\n                                                            {sale.id.substring(0, 8)}...\n                                                        </Typography>\n                                                    </Tooltip>\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Typography variant=\"body2\" fontWeight={600}>\n                                                        {sale.products?.name || '—'}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    {sale.products?.category && (\n                                                        <Chip label={sale.products.category} size=\"small\" variant=\"outlined\" />\n                                                    )}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Chip\n                                                        label={isBoxSale ? 'Box' : 'Item'}\n                                                        size=\"small\"\n                                                        color={isBoxSale ? 'secondary' : 'primary'}\n                                                        variant=\"outlined\"\n                                                    />\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Typography variant=\"body2\">\n                                                        {formatNumber(items)}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Typography variant=\"body2\">\n                                                        {boxes > 0 ? formatNumber(boxes) : '—'}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Typography variant=\"body2\">\n                                                        {formatCurrency(sale.price_at_sale, settings.currency_symbol)}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <Typography variant=\"body2\" fontWeight={700} color=\"success.main\">\n                                                        {formatCurrency(sale.quantity * sale.price_at_sale, settings.currency_symbol)}\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })\n                                )}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n\n                    {/* Pagination */}\n                    <TablePagination\n                        rowsPerPageOptions={[25, 50, 100, 200]}\n                        component=\"div\"\n                        count={totalCount}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                    />\n                </CardContent>\n            </Card>\n        </Container>\n    );\n}\n","/**\n * Format currency value\n * @param {number} value - Value to format\n * @param {string} symbol - Currency symbol (default: 'PKR')\n * @returns {string} Formatted currency string\n */\nexport function formatCurrency(value, symbol = 'PKR') {\n    if (value === null || value === undefined || isNaN(value)) {\n        return `${symbol} 0.00`;\n    }\n\n    const num = Number(value);\n    return `${symbol} ${num.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n    })}`;\n}\n\n/**\n * Format number with thousand separators\n * @param {number} value - Value to format\n * @returns {string} Formatted number string\n */\nexport function formatNumber(value) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0';\n    }\n\n    return Number(value).toLocaleString('en-US');\n}\n\n/**\n * Format percentage\n * @param {number} value - Value to format (0-100)\n * @param {number} decimals - Number of decimal places (default: 1)\n * @returns {string} Formatted percentage string\n */\nexport function formatPercentage(value, decimals = 1) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0%';\n    }\n\n    return `${Number(value).toFixed(decimals)}%`;\n}\n\n/**\n * Truncate text to specified length\n * @param {string} text - Text to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} Truncated text\n */\nexport function truncateText(text, maxLength = 50) {\n    if (!text) return '';\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n}\n\n/**\n * Capitalize first letter of each word\n * @param {string} text - Text to capitalize\n * @returns {string} Capitalized text\n */\nexport function capitalizeWords(text) {\n    if (!text) return '';\n    return text\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(' ');\n}\n\n/**\n * Format phone number\n * @param {string} phone - Phone number\n * @returns {string} Formatted phone number\n */\nexport function formatPhone(phone) {\n    if (!phone) return '';\n    // Remove all non-digit characters\n    const cleaned = phone.replace(/\\D/g, '');\n\n    // Format as: 0300-1234567\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\n    }\n\n    return phone;\n}\n\n/**\n * Get initials from name\n * @param {string} name - Full name\n * @returns {string} Initials (max 2 letters)\n */\nexport function getInitials(name) {\n    if (!name) return '?';\n\n    const parts = name.trim().split(' ');\n    if (parts.length === 1) {\n        return parts[0].charAt(0).toUpperCase();\n    }\n\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\n}\n\n/**\n * Calculate profit margin percentage\n * @param {number} revenue - Total revenue\n * @param {number} cost - Total cost\n * @returns {number} Profit margin percentage\n */\nexport function calculateProfitMargin(revenue, cost) {\n    if (!revenue || revenue === 0) return 0;\n    const profit = revenue - (cost || 0);\n    return (profit / revenue) * 100;\n}\n\n/**\n * Generate random color for charts\n * @param {number} index - Index for consistent colors\n * @returns {string} Hex color code\n */\nexport function getChartColor(index) {\n    const colors = [\n        '#6366f1', // Indigo\n        '#ec4899', // Pink\n        '#10b981', // Green\n        '#f59e0b', // Amber\n        '#3b82f6', // Blue\n        '#8b5cf6', // Purple\n        '#ef4444', // Red\n        '#14b8a6', // Teal\n        '#f97316', // Orange\n        '#06b6d4', // Cyan\n    ];\n\n    return colors[index % colors.length];\n}\n","import { format, formatDistance, parseISO } from 'date-fns';\n\n/**\n * Format date to readable string\n * @param {string|Date} date - Date to format\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\n * @returns {string} Formatted date\n */\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, formatStr);\n    } catch (error) {\n        console.error('Error formatting date:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to time string\n * @param {string|Date} date - Date to format\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\n */\nexport function formatTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, 'h:mm a');\n    } catch (error) {\n        console.error('Error formatting time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to relative time (e.g., \"2 hours ago\")\n * @param {string|Date} date - Date to format\n * @returns {string} Relative time string\n */\nexport function formatRelativeTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\n    } catch (error) {\n        console.error('Error formatting relative time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Calculate days until expiry\n * @param {string|Date} expiryDate - Expiry date\n * @returns {number} Days until expiry (negative if expired)\n */\nexport function daysUntilExpiry(expiryDate) {\n    if (!expiryDate) return null;\n    try {\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        expiry.setHours(0, 0, 0, 0);\n        const diffTime = expiry - today;\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        return diffDays;\n    } catch (error) {\n        console.error('Error calculating days until expiry:', error);\n        return null;\n    }\n}\n\n/**\n * Get expiry status (expired, urgent, warning, ok)\n * @param {string|Date} expiryDate - Expiry date\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\n * @returns {object} Status object with type and color\n */\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\n    const days = daysUntilExpiry(expiryDate);\n\n    if (days === null) {\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\n    }\n\n    if (days < 0) {\n        return { type: 'expired', color: 'error', label: 'Expired', days };\n    }\n\n    if (days <= urgentThreshold) {\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\n    }\n\n    if (days <= warningThreshold) {\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\n    }\n\n    return { type: 'ok', color: 'success', label: 'Good', days };\n}\n\n/**\n * Get stock status (out, low, ok)\n * @param {number} stock - Current stock\n * @param {number} minLevel - Minimum stock level\n * @returns {object} Status object with type and color\n */\nexport function getStockStatus(stock, minLevel = 10) {\n    if (stock === 0) {\n        return { type: 'out', color: 'error', label: 'Out of stock' };\n    }\n\n    if (stock <= minLevel) {\n        return { type: 'low', color: 'warning', label: 'Low stock' };\n    }\n\n    return { type: 'ok', color: 'success', label: 'In stock' };\n}\n\n/**\n * Get today's date in YYYY-MM-DD format\n * @returns {string} Today's date\n */\nexport function getTodayDate() {\n    return format(new Date(), 'yyyy-MM-dd');\n}\n\n/**\n * Get date N days ago in YYYY-MM-DD format\n * @param {number} days - Number of days ago\n * @returns {string} Date string\n */\nexport function getDateDaysAgo(days) {\n    const date = new Date();\n    date.setDate(date.getDate() - days);\n    return format(date, 'yyyy-MM-dd');\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z\"\n}), 'Refresh');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z\"\n}), 'Download');"],"names":["createSvgIcon","_jsx","d","SalesHistoryPage","settings","useSettings","sales","setSales","useState","loading","setLoading","searchTerm","setSearchTerm","dateFilter","setDateFilter","start","end","page","setPage","rowsPerPage","setRowsPerPage","totalCount","setTotalCount","totalRevenue","setTotalRevenue","totalItems","setTotalItems","async","fetchAllSales","data","session","supabase","auth","getSession","orgId","user","id","query","from","select","count","eq","is","order","ascending","startDate","Date","setHours","gte","toISOString","endDate","lte","to","error","range","filteredData","search","toLowerCase","filter","sale","_sale$products","_sale$products$name","_sale$products2","_sale$products2$form","products","name","includes","form","allData","revenue","reduce","sum","quantity","price_at_sale","items","console","toast","handleDateChange","e","_objectSpread","target","value","useEffect","delayDebounceFn","setTimeout","clearTimeout","_jsxs","Container","maxWidth","children","Box","display","justifyContent","alignItems","mb","gap","Receipt","color","sx","fontSize","Typography","variant","fontWeight","Tooltip","title","IconButton","onClick","Refresh","Button","startIcon","Download","csvData","map","_sale$products3","_sale$products4","formatDate","sale_date","created_at","formatTime","category","headers","Object","keys","join","rows","row","values","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","split","click","success","disabled","length","Grid","container","spacing","item","xs","sm","Card","CardContent","gutterBottom","formatNumber","formatCurrency","currency_symbol","md","TextField","fullWidth","placeholder","onChange","InputProps","startAdornment","InputAdornment","position","Search","label","InputLabelProps","shrink","FilterList","Chip","size","ml","TableContainer","overflowX","Table","TableHead","TableRow","TableCell","align","TableBody","colSpan","_sale$products5","_sale$products6","isBoxSale","selling_unit","itemsPerBox","items_per_box","boxes","hover","fontFamily","substring","TablePagination","rowsPerPageOptions","component","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","parseInt","symbol","arguments","undefined","isNaN","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatPercentage","decimals","toFixed","date","formatStr","dateObj","parseISO","format","String","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","today","diffTime","Math","ceil","daysUntilExpiry","getStockStatus","stock","getDateDaysAgo","setDate","getDate"],"sourceRoot":""}