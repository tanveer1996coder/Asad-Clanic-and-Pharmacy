{"version":3,"file":"static/js/992.c765972a.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Receipt.js","../node_modules/@mui/icons-material/esm/FilterList.js","components/sales/SalesHistoryPage.js","utils/formatters.js","utils/dateHelpers.js","../node_modules/@mui/icons-material/esm/Refresh.js","../node_modules/@mui/icons-material/esm/Download.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z\"\n}), 'Receipt');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z\"\n}), 'FilterList');","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Container,\r\n    Card,\r\n    CardContent,\r\n    Typography,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    TextField,\r\n    Grid,\r\n    Box,\r\n    Chip,\r\n    IconButton,\r\n    Tooltip,\r\n    Button,\r\n    MenuItem,\r\n    InputAdornment,\r\n    TablePagination,\r\n} from '@mui/material';\r\nimport {\r\n    Search,\r\n    Refresh,\r\n    Download,\r\n    FilterList,\r\n    Receipt,\r\n} from '@mui/icons-material';\r\nimport { toast } from 'react-toastify';\r\nimport { supabase } from '../../supabaseClient';\r\nimport { formatCurrency, formatNumber } from '../../utils/formatters';\r\nimport { formatDate, formatTime } from '../../utils/dateHelpers';\r\nimport useSettings from '../../hooks/useSettings';\r\n\r\nexport default function SalesHistoryPage() {\r\n    const { settings } = useSettings();\r\n    const [sales, setSales] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [dateFilter, setDateFilter] = useState({\r\n        start: '',\r\n        end: '',\r\n    });\r\n\r\n    // Pagination state\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(50);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const [totalRevenue, setTotalRevenue] = useState(0);\r\n    const [totalItems, setTotalItems] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const delayDebounceFn = setTimeout(() => {\r\n            fetchAllSales();\r\n        }, 500);\r\n\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchTerm, dateFilter, page, rowsPerPage]);\r\n\r\n    async function fetchAllSales() {\r\n        setLoading(true);\r\n        try {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) return;\r\n            const orgId = session.user.id;\r\n\r\n            let query = supabase\r\n                .from('sales')\r\n                .select('*, products(name, form, strength)', { count: 'exact' })\r\n                .eq('organization_id', orgId)\r\n                .is('deleted_at', null)\r\n                .order('created_at', { ascending: false });\r\n\r\n            // Apply date filters using created_at\r\n            if (dateFilter.start) {\r\n                const startDate = new Date(dateFilter.start);\r\n                startDate.setHours(0, 0, 0, 0);\r\n                query = query.gte('created_at', startDate.toISOString());\r\n            }\r\n            if (dateFilter.end) {\r\n                const endDate = new Date(dateFilter.end);\r\n                endDate.setHours(23, 59, 59, 999);\r\n                query = query.lte('created_at', endDate.toISOString());\r\n            }\r\n\r\n            const from = page * rowsPerPage;\r\n            const to = from + rowsPerPage - 1;\r\n\r\n            const { data, count, error } = await query.range(from, to);\r\n\r\n            if (error) throw error;\r\n\r\n            // Client-side filtering for product name/category if search term exists\r\n            let filteredData = data || [];\r\n            if (searchTerm && data) {\r\n                const search = searchTerm.toLowerCase();\r\n                filteredData = data.filter(sale =>\r\n                    sale.products?.name?.toLowerCase().includes(search) ||\r\n                    sale.products?.form?.toLowerCase().includes(search) ||\r\n                    sale.id.toLowerCase().includes(search)\r\n                );\r\n            }\r\n\r\n            setSales(filteredData);\r\n            setTotalCount(count || 0);\r\n\r\n            // Calculate totals from all matching records\r\n            const { data: allData } = await supabase\r\n                .from('sales')\r\n                .select('quantity, price_at_sale')\r\n                .eq('organization_id', orgId)\r\n                .is('deleted_at', null);\r\n\r\n            if (allData) {\r\n                const revenue = allData.reduce((sum, sale) => sum + (sale.quantity * sale.price_at_sale), 0);\r\n                const items = allData.reduce((sum, sale) => sum + sale.quantity, 0);\r\n                setTotalRevenue(revenue);\r\n                setTotalItems(items);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching sales:', error);\r\n            toast.error('Failed to load sales history');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    function handleDateChange(e) {\r\n        setDateFilter({\r\n            ...dateFilter,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    }\r\n\r\n    function clearFilters() {\r\n        setSearchTerm('');\r\n        setDateFilter({ start: '', end: '' });\r\n        setPage(0);\r\n    }\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    function exportToCSV() {\r\n        // For export, we need all filtered data, not just current page\r\n        // This is a limitation - for now export current page only\r\n        const csvData = sales.map(sale => ({\r\n            'Sale ID': sale.id,\r\n            'Date': formatDate(sale.sale_date || sale.created_at),\r\n            'Time': formatTime(sale.created_at),\r\n            'Product': sale.products?.name || '—',\r\n            'Category': sale.products?.category || '—',\r\n            'Quantity': sale.quantity,\r\n            'Price': sale.price_at_sale,\r\n            'Total': sale.quantity * sale.price_at_sale,\r\n        }));\r\n\r\n        const headers = Object.keys(csvData[0]).join(',');\r\n        const rows = csvData.map(row => Object.values(row).join(',')).join('\\n');\r\n        const csv = headers + '\\n' + rows;\r\n\r\n        const blob = new Blob([csv], { type: 'text/csv' });\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `sales-history-${new Date().toISOString().split('T')[0]}.csv`;\r\n        a.click();\r\n        toast.success('Sales history exported!');\r\n    }\r\n\r\n    // Summary stats from totals calculated in fetch\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\">\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n                <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                    <Receipt color=\"primary\" sx={{ fontSize: 40 }} />\r\n                    <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\r\n                        Sales History & Audit Log\r\n                    </Typography>\r\n                </Box>\r\n                <Box display=\"flex\" gap={1}>\r\n                    <Tooltip title=\"Refresh\">\r\n                        <IconButton onClick={fetchAllSales} color=\"primary\">\r\n                            <Refresh />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        startIcon={<Download />}\r\n                        onClick={exportToCSV}\r\n                        disabled={sales.length === 0}\r\n                    >\r\n                        Export CSV\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n\r\n            {/* Summary Cards */}\r\n            <Grid container spacing={2} mb={3}>\r\n                <Grid item xs={12} sm={4}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                                Total Transactions\r\n                            </Typography>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\r\n                                {formatNumber(totalCount)}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                                Total Revenue\r\n                            </Typography>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"success.main\">\r\n                                {formatCurrency(totalRevenue, settings.currency_symbol)}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                    <Card>\r\n                        <CardContent>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n                                Items Sold\r\n                            </Typography>\r\n                            <Typography variant=\"h4\" fontWeight={700} color=\"info.main\">\r\n                                {formatNumber(totalItems)}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {/* Filters */}\r\n            <Card sx={{ mb: 3 }}>\r\n                <CardContent>\r\n                    <Grid container spacing={2} alignItems=\"center\">\r\n                        <Grid item xs={12} md={4}>\r\n                            <TextField\r\n                                fullWidth\r\n                                placeholder=\"Search by product, category, or sale ID...\"\r\n                                value={searchTerm}\r\n                                onChange={(e) => setSearchTerm(e.target.value)}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <Search />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} md={3}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"date\"\r\n                                label=\"Start Date\"\r\n                                name=\"start\"\r\n                                value={dateFilter.start}\r\n                                onChange={handleDateChange}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} md={3}>\r\n                            <TextField\r\n                                fullWidth\r\n                                type=\"date\"\r\n                                label=\"End Date\"\r\n                                name=\"end\"\r\n                                value={dateFilter.end}\r\n                                onChange={handleDateChange}\r\n                                InputLabelProps={{ shrink: true }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            <Button\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                onClick={clearFilters}\r\n                                startIcon={<FilterList />}\r\n                            >\r\n                                Clear Filters\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Sales Table */}\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant=\"h6\" fontWeight={600} mb={2}>\r\n                        All Sales Transactions\r\n                        <Chip\r\n                            label={`Showing ${sales.length} of ${totalCount}`}\r\n                            size=\"small\"\r\n                            color=\"primary\"\r\n                            sx={{ ml: 2 }}\r\n                        />\r\n                    </Typography>\r\n                    <TableContainer sx={{ overflowX: 'auto', maxWidth: '100%' }}>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell><strong>Date & Time</strong></TableCell>\r\n                                    <TableCell><strong>Sale ID</strong></TableCell>\r\n                                    <TableCell><strong>Product</strong></TableCell>\r\n                                    <TableCell><strong>Category</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Unit</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Items</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Boxes</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Unit Price</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Total Amount</strong></TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {loading ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={9} align=\"center\">Loading...</TableCell>\r\n                                    </TableRow>\r\n                                ) : sales.length === 0 ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={9} align=\"center\">\r\n                                            {sales.length === 0 ? 'No sales recorded yet' : 'No sales match your filters'}\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                ) : (\r\n                                    sales.map((sale) => {\r\n                                        const isBoxSale = sale.selling_unit === 'box';\r\n                                        const itemsPerBox = sale.items_per_box || 1;\r\n                                        const boxes = isBoxSale ? sale.quantity : 0;\r\n                                        const items = isBoxSale ? sale.quantity * itemsPerBox : sale.quantity;\r\n\r\n                                        return (\r\n                                            <TableRow key={sale.id} hover>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\" fontWeight={600}>\r\n                                                        {formatDate(sale.sale_date || sale.created_at)}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                        {formatTime(sale.created_at)}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Tooltip title=\"Sale ID\">\r\n                                                        <Typography variant=\"caption\" sx={{ fontFamily: 'monospace' }}>\r\n                                                            {sale.id.substring(0, 8)}...\r\n                                                        </Typography>\r\n                                                    </Tooltip>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\" fontWeight={600}>\r\n                                                        {sale.products?.name || '—'}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {sale.products?.category && (\r\n                                                        <Chip label={sale.products.category} size=\"small\" variant=\"outlined\" />\r\n                                                    )}\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Chip\r\n                                                        label={isBoxSale ? 'Box' : 'Item'}\r\n                                                        size=\"small\"\r\n                                                        color={isBoxSale ? 'secondary' : 'primary'}\r\n                                                        variant=\"outlined\"\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Typography variant=\"body2\">\r\n                                                        {formatNumber(items)}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Typography variant=\"body2\">\r\n                                                        {boxes > 0 ? formatNumber(boxes) : '—'}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Typography variant=\"body2\">\r\n                                                        {formatCurrency(sale.price_at_sale, settings.currency_symbol)}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Typography variant=\"body2\" fontWeight={700} color=\"success.main\">\r\n                                                        {formatCurrency(sale.quantity * sale.price_at_sale, settings.currency_symbol)}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        );\r\n                                    })\r\n                                )}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n\r\n                    {/* Pagination */}\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[25, 50, 100, 200]}\r\n                        component=\"div\"\r\n                        count={totalCount}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                    />\r\n                </CardContent>\r\n            </Card>\r\n        </Container>\r\n    );\r\n}\r\n","/**\r\n * Format currency value\r\n * @param {number} value - Value to format\r\n * @param {string} symbol - Currency symbol (default: 'PKR')\r\n * @returns {string} Formatted currency string\r\n */\r\nexport function formatCurrency(value, symbol = 'PKR') {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return `${symbol} 0.00`;\r\n    }\r\n\r\n    const num = Number(value);\r\n    return `${symbol} ${num.toLocaleString('en-US', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n    })}`;\r\n}\r\n\r\n/**\r\n * Format number with thousand separators\r\n * @param {number} value - Value to format\r\n * @returns {string} Formatted number string\r\n */\r\nexport function formatNumber(value) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0';\r\n    }\r\n\r\n    return Number(value).toLocaleString('en-US');\r\n}\r\n\r\n/**\r\n * Format percentage\r\n * @param {number} value - Value to format (0-100)\r\n * @param {number} decimals - Number of decimal places (default: 1)\r\n * @returns {string} Formatted percentage string\r\n */\r\nexport function formatPercentage(value, decimals = 1) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0%';\r\n    }\r\n\r\n    return `${Number(value).toFixed(decimals)}%`;\r\n}\r\n\r\n/**\r\n * Truncate text to specified length\r\n * @param {string} text - Text to truncate\r\n * @param {number} maxLength - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = 50) {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n}\r\n\r\n/**\r\n * Capitalize first letter of each word\r\n * @param {string} text - Text to capitalize\r\n * @returns {string} Capitalized text\r\n */\r\nexport function capitalizeWords(text) {\r\n    if (!text) return '';\r\n    return text\r\n        .toLowerCase()\r\n        .split(' ')\r\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Format phone number\r\n * @param {string} phone - Phone number\r\n * @returns {string} Formatted phone number\r\n */\r\nexport function formatPhone(phone) {\r\n    if (!phone) return '';\r\n    // Remove all non-digit characters\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n\r\n    // Format as: 0300-1234567\r\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\r\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\r\n    }\r\n\r\n    return phone;\r\n}\r\n\r\n/**\r\n * Get initials from name\r\n * @param {string} name - Full name\r\n * @returns {string} Initials (max 2 letters)\r\n */\r\nexport function getInitials(name) {\r\n    if (!name) return '?';\r\n\r\n    const parts = name.trim().split(' ');\r\n    if (parts.length === 1) {\r\n        return parts[0].charAt(0).toUpperCase();\r\n    }\r\n\r\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\r\n}\r\n\r\n/**\r\n * Calculate profit margin percentage\r\n * @param {number} revenue - Total revenue\r\n * @param {number} cost - Total cost\r\n * @returns {number} Profit margin percentage\r\n */\r\nexport function calculateProfitMargin(revenue, cost) {\r\n    if (!revenue || revenue === 0) return 0;\r\n    const profit = revenue - (cost || 0);\r\n    return (profit / revenue) * 100;\r\n}\r\n\r\n/**\r\n * Generate random color for charts\r\n * @param {number} index - Index for consistent colors\r\n * @returns {string} Hex color code\r\n */\r\nexport function getChartColor(index) {\r\n    const colors = [\r\n        '#6366f1', // Indigo\r\n        '#ec4899', // Pink\r\n        '#10b981', // Green\r\n        '#f59e0b', // Amber\r\n        '#3b82f6', // Blue\r\n        '#8b5cf6', // Purple\r\n        '#ef4444', // Red\r\n        '#14b8a6', // Teal\r\n        '#f97316', // Orange\r\n        '#06b6d4', // Cyan\r\n    ];\r\n\r\n    return colors[index % colors.length];\r\n}\r\n","import { format, formatDistance, parseISO } from 'date-fns';\r\n\r\n/**\r\n * Format date to readable string\r\n * @param {string|Date} date - Date to format\r\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\r\n * @returns {string} Formatted date\r\n */\r\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, formatStr);\r\n    } catch (error) {\r\n        console.error('Error formatting date:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to time string\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\r\n */\r\nexport function formatTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, 'h:mm a');\r\n    } catch (error) {\r\n        console.error('Error formatting time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to relative time (e.g., \"2 hours ago\")\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Relative time string\r\n */\r\nexport function formatRelativeTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\r\n    } catch (error) {\r\n        console.error('Error formatting relative time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate days until expiry\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @returns {number} Days until expiry (negative if expired)\r\n */\r\nexport function daysUntilExpiry(expiryDate) {\r\n    if (!expiryDate) return null;\r\n    try {\r\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\r\n        const today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        expiry.setHours(0, 0, 0, 0);\r\n        const diffTime = expiry - today;\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        return diffDays;\r\n    } catch (error) {\r\n        console.error('Error calculating days until expiry:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Get expiry status (expired, urgent, warning, ok)\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\r\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\r\n    const days = daysUntilExpiry(expiryDate);\r\n\r\n    if (days === null) {\r\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\r\n    }\r\n\r\n    if (days < 0) {\r\n        return { type: 'expired', color: 'error', label: 'Expired', days };\r\n    }\r\n\r\n    if (days <= urgentThreshold) {\r\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\r\n    }\r\n\r\n    if (days <= warningThreshold) {\r\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'Good', days };\r\n}\r\n\r\n/**\r\n * Get stock status (out, low, ok)\r\n * @param {number} stock - Current stock\r\n * @param {number} minLevel - Minimum stock level\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getStockStatus(stock, minLevel = 10) {\r\n    if (stock === 0) {\r\n        return { type: 'out', color: 'error', label: 'Out of stock' };\r\n    }\r\n\r\n    if (stock <= minLevel) {\r\n        return { type: 'low', color: 'warning', label: 'Low stock' };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'In stock' };\r\n}\r\n\r\n/**\r\n * Get today's date in YYYY-MM-DD format\r\n * @returns {string} Today's date\r\n */\r\nexport function getTodayDate() {\r\n    return format(new Date(), 'yyyy-MM-dd');\r\n}\r\n\r\n/**\r\n * Get date N days ago in YYYY-MM-DD format\r\n * @param {number} days - Number of days ago\r\n * @returns {string} Date string\r\n */\r\nexport function getDateDaysAgo(days) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - days);\r\n    return format(date, 'yyyy-MM-dd');\r\n}\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z\"\n}), 'Refresh');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z\"\n}), 'Download');"],"names":["createSvgIcon","_jsx","d","SalesHistoryPage","settings","useSettings","sales","setSales","useState","loading","setLoading","searchTerm","setSearchTerm","dateFilter","setDateFilter","start","end","page","setPage","rowsPerPage","setRowsPerPage","totalCount","setTotalCount","totalRevenue","setTotalRevenue","totalItems","setTotalItems","async","fetchAllSales","data","session","supabase","auth","getSession","orgId","user","id","query","from","select","count","eq","is","order","ascending","startDate","Date","setHours","gte","toISOString","endDate","lte","to","error","range","filteredData","search","toLowerCase","filter","sale","_sale$products","_sale$products$name","_sale$products2","_sale$products2$form","products","name","includes","form","allData","revenue","reduce","sum","quantity","price_at_sale","items","console","toast","handleDateChange","e","_objectSpread","target","value","useEffect","delayDebounceFn","setTimeout","clearTimeout","_jsxs","Container","maxWidth","children","Box","display","justifyContent","alignItems","mb","gap","Receipt","color","sx","fontSize","Typography","variant","fontWeight","Tooltip","title","IconButton","onClick","Refresh","Button","startIcon","Download","csvData","map","_sale$products3","_sale$products4","formatDate","sale_date","created_at","formatTime","category","headers","Object","keys","join","rows","row","values","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","split","click","success","disabled","length","Grid","container","spacing","item","xs","sm","Card","CardContent","gutterBottom","formatNumber","formatCurrency","currency_symbol","md","TextField","fullWidth","placeholder","onChange","InputProps","startAdornment","InputAdornment","position","Search","label","InputLabelProps","shrink","FilterList","Chip","size","ml","TableContainer","overflowX","Table","TableHead","TableRow","TableCell","align","TableBody","colSpan","_sale$products5","_sale$products6","isBoxSale","selling_unit","itemsPerBox","items_per_box","boxes","hover","fontFamily","substring","TablePagination","rowsPerPageOptions","component","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","parseInt","symbol","arguments","undefined","isNaN","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatPercentage","decimals","toFixed","date","formatStr","dateObj","parseISO","format","String","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","today","diffTime","Math","ceil","daysUntilExpiry","getStockStatus","stock","getDateDaysAgo","setDate","getDate"],"sourceRoot":""}