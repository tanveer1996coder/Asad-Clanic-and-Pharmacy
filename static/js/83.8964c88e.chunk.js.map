{"version":3,"file":"static/js/83.8964c88e.chunk.js","mappings":"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","sources":["utils/formatters.js","../node_modules/@mui/material/DialogActions/dialogActionsClasses.js","../node_modules/@mui/material/DialogActions/DialogActions.js","../node_modules/@mui/icons-material/esm/Warning.js","utils/dateHelpers.js","../node_modules/@mui/icons-material/esm/Delete.js","components/shared/ConfirmDialog.js","../node_modules/@mui/icons-material/esm/Error.js","components/shared/MedicineSearchAutocomplete.js","components/products/ProductsPage.js","../node_modules/@mui/icons-material/esm/Add.js","../node_modules/@mui/icons-material/esm/Edit.js","../node_modules/@mui/material/DialogContentText/dialogContentTextClasses.js","../node_modules/@mui/material/DialogContentText/DialogContentText.js","../node_modules/@mui/icons-material/esm/CheckCircle.js"],"sourcesContent":["/**\n * Format currency value\n * @param {number} value - Value to format\n * @param {string} symbol - Currency symbol (default: 'PKR')\n * @returns {string} Formatted currency string\n */\nexport function formatCurrency(value, symbol = 'PKR') {\n    if (value === null || value === undefined || isNaN(value)) {\n        return `${symbol} 0.00`;\n    }\n\n    const num = Number(value);\n    return `${symbol} ${num.toLocaleString('en-US', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n    })}`;\n}\n\n/**\n * Format number with thousand separators\n * @param {number} value - Value to format\n * @returns {string} Formatted number string\n */\nexport function formatNumber(value) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0';\n    }\n\n    return Number(value).toLocaleString('en-US');\n}\n\n/**\n * Format percentage\n * @param {number} value - Value to format (0-100)\n * @param {number} decimals - Number of decimal places (default: 1)\n * @returns {string} Formatted percentage string\n */\nexport function formatPercentage(value, decimals = 1) {\n    if (value === null || value === undefined || isNaN(value)) {\n        return '0%';\n    }\n\n    return `${Number(value).toFixed(decimals)}%`;\n}\n\n/**\n * Truncate text to specified length\n * @param {string} text - Text to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} Truncated text\n */\nexport function truncateText(text, maxLength = 50) {\n    if (!text) return '';\n    if (text.length <= maxLength) return text;\n    return text.substring(0, maxLength) + '...';\n}\n\n/**\n * Capitalize first letter of each word\n * @param {string} text - Text to capitalize\n * @returns {string} Capitalized text\n */\nexport function capitalizeWords(text) {\n    if (!text) return '';\n    return text\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(' ');\n}\n\n/**\n * Format phone number\n * @param {string} phone - Phone number\n * @returns {string} Formatted phone number\n */\nexport function formatPhone(phone) {\n    if (!phone) return '';\n    // Remove all non-digit characters\n    const cleaned = phone.replace(/\\D/g, '');\n\n    // Format as: 0300-1234567\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\n    }\n\n    return phone;\n}\n\n/**\n * Get initials from name\n * @param {string} name - Full name\n * @returns {string} Initials (max 2 letters)\n */\nexport function getInitials(name) {\n    if (!name) return '?';\n\n    const parts = name.trim().split(' ');\n    if (parts.length === 1) {\n        return parts[0].charAt(0).toUpperCase();\n    }\n\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\n}\n\n/**\n * Calculate profit margin percentage\n * @param {number} revenue - Total revenue\n * @param {number} cost - Total cost\n * @returns {number} Profit margin percentage\n */\nexport function calculateProfitMargin(revenue, cost) {\n    if (!revenue || revenue === 0) return 0;\n    const profit = revenue - (cost || 0);\n    return (profit / revenue) * 100;\n}\n\n/**\n * Generate random color for charts\n * @param {number} index - Index for consistent colors\n * @returns {string} Hex color code\n */\nexport function getChartColor(index) {\n    const colors = [\n        '#6366f1', // Indigo\n        '#ec4899', // Pink\n        '#10b981', // Green\n        '#f59e0b', // Amber\n        '#3b82f6', // Blue\n        '#8b5cf6', // Purple\n        '#ef4444', // Red\n        '#14b8a6', // Teal\n        '#f97316', // Orange\n        '#06b6d4', // Cyan\n    ];\n\n    return colors[index % colors.length];\n}\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogActions', slot);\n}\nconst dialogActionsClasses = generateUtilityClasses('MuiDialogActions', ['root', 'spacing']);\nexport default dialogActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disableSpacing\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getDialogActionsUtilityClass } from './dialogActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getDialogActionsUtilityClass, classes);\n};\nconst DialogActionsRoot = styled('div', {\n  name: 'MuiDialogActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8,\n  justifyContent: 'flex-end',\n  flex: '0 0 auto'\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiDialogActions'\n  });\n  const {\n      className,\n      disableSpacing = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogActions;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z\"\n}), 'Warning');","import { format, formatDistance, parseISO } from 'date-fns';\n\n/**\n * Format date to readable string\n * @param {string|Date} date - Date to format\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\n * @returns {string} Formatted date\n */\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, formatStr);\n    } catch (error) {\n        console.error('Error formatting date:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to time string\n * @param {string|Date} date - Date to format\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\n */\nexport function formatTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return format(dateObj, 'h:mm a');\n    } catch (error) {\n        console.error('Error formatting time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Format date to relative time (e.g., \"2 hours ago\")\n * @param {string|Date} date - Date to format\n * @returns {string} Relative time string\n */\nexport function formatRelativeTime(date) {\n    if (!date) return '—';\n    try {\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\n    } catch (error) {\n        console.error('Error formatting relative time:', error);\n        return String(date);\n    }\n}\n\n/**\n * Calculate days until expiry\n * @param {string|Date} expiryDate - Expiry date\n * @returns {number} Days until expiry (negative if expired)\n */\nexport function daysUntilExpiry(expiryDate) {\n    if (!expiryDate) return null;\n    try {\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        expiry.setHours(0, 0, 0, 0);\n        const diffTime = expiry - today;\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        return diffDays;\n    } catch (error) {\n        console.error('Error calculating days until expiry:', error);\n        return null;\n    }\n}\n\n/**\n * Get expiry status (expired, urgent, warning, ok)\n * @param {string|Date} expiryDate - Expiry date\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\n * @returns {object} Status object with type and color\n */\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\n    const days = daysUntilExpiry(expiryDate);\n\n    if (days === null) {\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\n    }\n\n    if (days < 0) {\n        return { type: 'expired', color: 'error', label: 'Expired', days };\n    }\n\n    if (days <= urgentThreshold) {\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\n    }\n\n    if (days <= warningThreshold) {\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\n    }\n\n    return { type: 'ok', color: 'success', label: 'Good', days };\n}\n\n/**\n * Get stock status (out, low, ok)\n * @param {number} stock - Current stock\n * @param {number} minLevel - Minimum stock level\n * @returns {object} Status object with type and color\n */\nexport function getStockStatus(stock, minLevel = 10) {\n    if (stock === 0) {\n        return { type: 'out', color: 'error', label: 'Out of stock' };\n    }\n\n    if (stock <= minLevel) {\n        return { type: 'low', color: 'warning', label: 'Low stock' };\n    }\n\n    return { type: 'ok', color: 'success', label: 'In stock' };\n}\n\n/**\n * Get today's date in YYYY-MM-DD format\n * @returns {string} Today's date\n */\nexport function getTodayDate() {\n    return format(new Date(), 'yyyy-MM-dd');\n}\n\n/**\n * Get date N days ago in YYYY-MM-DD format\n * @param {number} days - Number of days ago\n * @returns {string} Date string\n */\nexport function getDateDaysAgo(days) {\n    const date = new Date();\n    date.setDate(date.getDate() - days);\n    return format(date, 'yyyy-MM-dd');\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z\"\n}), 'Delete');","import React from 'react';\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogContentText,\n    DialogActions,\n    Button,\n    Typography,\n    Box\n} from '@mui/material';\nimport { Warning as WarningIcon } from '@mui/icons-material';\n\nexport default function ConfirmDialog({\n    open,\n    onClose,\n    onConfirm,\n    title = \"Confirm Delete\",\n    content = \"Are you sure you want to delete this item? This action cannot be undone.\",\n    confirmText = \"Delete\",\n    cancelText = \"Cancel\"\n}) {\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"confirm-dialog-title\"\n            aria-describedby=\"confirm-dialog-description\"\n        >\n            <DialogTitle id=\"confirm-dialog-title\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <WarningIcon color=\"error\" />\n                {title}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"confirm-dialog-description\">\n                    {content}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    {cancelText}\n                </Button>\n                <Button onClick={onConfirm} color=\"error\" variant=\"contained\" autoFocus>\n                    {confirmText}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z\"\n}), 'Error');","import React, { useState, useEffect } from 'react';\nimport { Autocomplete, TextField, CircularProgress, Box, Typography } from '@mui/material';\nimport { supabase } from '../../supabaseClient';\nimport { toast } from 'react-toastify';\n\nexport default function MedicineSearchAutocomplete({ onSelect, label = \"Search Medicine Database\", ...props }) {\n    const [open, setOpen] = useState(false);\n    const [options, setOptions] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [inputValue, setInputValue] = useState('');\n    const [value, setValue] = useState(null);\n\n    useEffect(() => {\n        if (!open) {\n            setOptions([]);\n            return;\n        }\n\n        if (inputValue.length < 2) {\n            setOptions([]);\n            return;\n        }\n\n        const delayDebounceFn = setTimeout(async () => {\n            setLoading(true);\n            try {\n                const { data, error } = await supabase\n                    .from('medicine_reference')\n                    .select('*')\n                    .or(`brand_name.ilike.%${inputValue}%,generic_name.ilike.%${inputValue}%`)\n                    .limit(20);\n\n                if (error) throw error;\n                setOptions(data || []);\n            } catch (error) {\n                console.error('Error searching medicines:', error);\n                setOptions([]);\n            } finally {\n                setLoading(false);\n            }\n        }, 300);\n\n        return () => clearTimeout(delayDebounceFn);\n    }, [inputValue, open]);\n\n    return (\n        <Autocomplete\n            value={value}\n            open={open}\n            onOpen={() => setOpen(true)}\n            onClose={() => setOpen(false)}\n            options={options}\n            loading={loading}\n            getOptionLabel={(option) => {\n                const parts = [option.brand_name];\n                if (option.strength) parts.push(option.strength);\n                if (option.generic_name) parts.push(`(${option.generic_name})`);\n                return parts.join(' ');\n            }}\n            onInputChange={(event, newInputValue) => {\n                setInputValue(newInputValue);\n            }}\n            onChange={(event, newValue) => {\n                setValue(newValue);\n                if (newValue && onSelect) {\n                    onSelect(newValue);\n                }\n            }}\n            renderInput={(params) => (\n                <TextField\n                    {...params}\n                    label={label}\n                    placeholder=\"Type to search...\"\n                    InputProps={{\n                        ...params.InputProps,\n                        endAdornment: (\n                            <>\n                                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                                {params.InputProps.endAdornment}\n                            </>\n                        ),\n                    }}\n                />\n            )}\n            renderOption={(props, option) => (\n                <Box component=\"li\" {...props}>\n                    <Box>\n                        <Typography variant=\"body2\" fontWeight={600}>\n                            {option.brand_name}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                            {option.generic_name} • {option.strength} • {option.dosage_form}\n                        </Typography>\n                    </Box>\n                </Box>\n            )}\n            noOptionsText={\n                inputValue.length < 2\n                    ? \"Type at least 2 characters to search\"\n                    : \"No medicines found\"\n            }\n            {...props}\n        />\n    );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport {\n    Container,\n    Card,\n    CardContent,\n    Typography,\n    TextField,\n    Button,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    IconButton,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Grid,\n    Chip,\n    Box,\n    MenuItem,\n    InputAdornment,\n    Tooltip,\n    useTheme,\n    useMediaQuery,\n    TablePagination,\n    Divider,\n} from '@mui/material';\nimport {\n    Add,\n    Edit,\n    Delete,\n    Search,\n    Warning,\n    CheckCircle,\n    Error as ErrorIcon,\n    Close,\n    LocalPharmacy,\n    Keyboard\n} from '@mui/icons-material';\nimport { toast } from 'react-toastify';\nimport { supabase } from '../../supabaseClient';\nimport { formatCurrency, formatNumber } from '../../utils/formatters';\nimport { formatDate, getExpiryStatus, getStockStatus } from '../../utils/dateHelpers';\nimport useSettings from '../../hooks/useSettings';\nimport ConfirmDialog from '../shared/ConfirmDialog';\nimport MedicineSearchAutocomplete from '../shared/MedicineSearchAutocomplete';\nimport useKeyboardShortcuts from '../../hooks/useKeyboardShortcuts';\nimport { useKeyboard } from '../../contexts/KeyboardContext';\n\nexport default function ProductsPage() {\n    const { settings } = useSettings();\n    const { toggleHelp } = useKeyboard();\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [products, setProducts] = useState([]);\n    const [suppliers, setSuppliers] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(25);\n    const [totalCount, setTotalCount] = useState(0);\n    const [openDialog, setOpenDialog] = useState(false);\n    const [editingProduct, setEditingProduct] = useState(null);\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n    const [productToDelete, setProductToDelete] = useState(null);\n    const [activeFilter, setActiveFilter] = useState(null);\n    const [formData, setFormData] = useState({\n        name: '',\n        generic_name: '',\n        drug_type: '',\n        strength: '',\n        price: '',\n        cost_price: '',\n        stock: '',\n        min_stock_level: settings.low_stock_threshold || '10',\n        expiry_date: '',\n        supplier_id: '',\n        form: '',\n        batch_number: '',\n        items_per_box: '1',\n        price_per_box: '',\n        selling_unit: 'item',\n    });\n\n    const searchInputRef = useRef(null);\n\n    useKeyboardShortcuts({\n        'Alt+n': () => handleOpenDialog(),\n        'Alt+f': () => searchInputRef.current?.focus(),\n    }, 'Products Page');\n\n    useEffect(() => {\n        fetchSuppliers();\n        // Check for filter parameter in URL\n        const filterParam = searchParams.get('filter');\n        if (filterParam) {\n            setActiveFilter(filterParam);\n        }\n    }, []);\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            fetchProducts();\n        }, 500);\n\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchTerm, page, rowsPerPage, activeFilter]);\n\n    async function fetchProducts() {\n        setLoading(true);\n        try {\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                toast.error('Please log in to view products');\n                setLoading(false);\n                return;\n            }\n            const orgId = session.user.id;\n\n            let query = supabase\n                .from('products')\n                .select('*, suppliers(name)', { count: 'exact' })\n                .eq('organization_id', orgId)\n                .is('deleted_at', null)\n                .order('created_at', { ascending: false });\n\n            if (searchTerm) {\n                query = query.or(`name.ilike.%${searchTerm}%,form.ilike.%${searchTerm}%,batch_number.ilike.%${searchTerm}%`);\n            }\n\n            // Apply filters based on activeFilter\n            if (activeFilter === 'lowStock') {\n                // Filter for products with stock <= min_stock_level\n                const { data: allProducts } = await supabase\n                    .from('products')\n                    .select('*')\n                    .eq('organization_id', orgId)\n                    .is('deleted_at', null);\n\n                const lowStockIds = allProducts\n                    ?.filter(p => p.stock <= (p.min_stock_level || 10))\n                    .map(p => p.id) || [];\n\n                if (lowStockIds.length > 0) {\n                    query = query.in('id', lowStockIds);\n                } else {\n                    // No low stock items, return empty\n                    setProducts([]);\n                    setTotalCount(0);\n                    setLoading(false);\n                    return;\n                }\n            } else if (activeFilter === 'nearExpiry') {\n                // Filter for products expiring within threshold days\n                const expiryThreshold = parseInt(settings.expiry_alert_days || '15');\n                const thresholdDate = new Date();\n                thresholdDate.setDate(thresholdDate.getDate() + expiryThreshold);\n                const thresholdDateStr = thresholdDate.toISOString().split('T')[0];\n\n                query = query\n                    .not('expiry_date', 'is', null)\n                    .lte('expiry_date', thresholdDateStr);\n            }\n\n            const from = page * rowsPerPage;\n            const to = from + rowsPerPage - 1;\n\n            const { data, count, error } = await query.range(from, to);\n\n            if (error) throw error;\n            setProducts(data || []);\n            setTotalCount(count || 0);\n        } catch (error) {\n            console.error('Error fetching products:', error);\n            toast.error('Failed to load products');\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    async function fetchSuppliers() {\n        const { data: { session } } = await supabase.auth.getSession();\n        if (!session) return;\n        const orgId = session.user.id;\n\n        const { data } = await supabase\n            .from('suppliers')\n            .select('*')\n            .eq('organization_id', orgId)\n            .order('name');\n        setSuppliers(data || []);\n    }\n\n    const handleOpenDialog = (product = null) => {\n        if (product) {\n            setEditingProduct(product);\n            setFormData({\n                name: product.name || '',\n                generic_name: product.generic_name || '',\n                drug_type: product.drug_type || '',\n                strength: product.strength || '',\n                price: product.price || '',\n                cost_price: product.cost_price || '',\n                stock: product.stock || '',\n                min_stock_level: product.min_stock_level || settings.low_stock_threshold || '10',\n                expiry_date: product.expiry_date || '',\n                supplier_id: product.supplier_id || '',\n                form: product.form || '',\n                batch_number: product.batch_number || '',\n                items_per_box: product.items_per_box || '1',\n                price_per_box: product.price_per_box || '',\n                selling_unit: product.selling_unit || 'item',\n            });\n        } else {\n            setEditingProduct(null);\n            setFormData({\n                name: '',\n                generic_name: '',\n                drug_type: '',\n                strength: '',\n                price: '',\n                cost_price: '',\n                stock: '',\n                min_stock_level: settings.low_stock_threshold || '10',\n                expiry_date: '',\n                supplier_id: '',\n                form: '',\n                batch_number: '',\n                items_per_box: '1',\n                price_per_box: '',\n                selling_unit: 'item',\n            });\n        }\n        setOpenDialog(true);\n    };\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setEditingProduct(null);\n    };\n\n    // Helper function to extract items per box from packaging string\n    const extractItemsPerBox = (packagingString) => {\n        if (!packagingString) return null;\n\n        // Try to match patterns like \"10 tablets per strip\" or \"100 items per box\"\n        const match = packagingString.match(/(\\d+)\\s*(tablets?|items?|capsules?)/i);\n        if (match) {\n            return parseInt(match[1]);\n        }\n        return null;\n    };\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            const form = e.target.form;\n            const index = Array.prototype.indexOf.call(form, e.target);\n            const nextElement = form.elements[index + 1];\n            if (nextElement && nextElement.type !== 'submit') {\n                nextElement.focus();\n            }\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!formData.name || !formData.price) {\n            toast.error('Please fill in required fields');\n            return;\n        }\n\n        try {\n            // Get current user session\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                toast.error('Please log in to save changes');\n                return;\n            }\n\n            const productData = {\n                name: formData.name.trim(),\n                generic_name: formData.generic_name?.trim() || null,\n                drug_type: formData.drug_type || null,\n                strength: formData.strength?.trim() || null,\n                price: parseFloat(formData.price),\n                cost_price: formData.cost_price ? parseFloat(formData.cost_price) : null,\n                stock: formData.stock ? parseInt(formData.stock) : 0,\n                min_stock_level: formData.min_stock_level ? parseInt(formData.min_stock_level) : 10,\n                expiry_date: formData.expiry_date || null,\n                supplier_id: formData.supplier_id || null,\n                items_per_box: formData.items_per_box ? parseInt(formData.items_per_box) : 1,\n                price_per_box: formData.price_per_box ? parseFloat(formData.price_per_box) : null,\n                selling_unit: formData.selling_unit || 'item',\n                form: formData.form || null,\n                batch_number: formData.batch_number || null,\n            };\n\n            if (editingProduct) {\n                const { error } = await supabase\n                    .from('products')\n                    .update(productData)\n                    .eq('id', editingProduct.id);\n\n                if (error) throw error;\n                toast.success('Product updated successfully!');\n            } else {\n                // Explicitly set organization_id for new product\n                const { error } = await supabase\n                    .from('products')\n                    .insert([{ ...productData, organization_id: session.user.id }]);\n\n                if (error) throw error;\n                toast.success('Product added successfully!');\n            }\n\n            handleCloseDialog();\n            fetchProducts();\n        } catch (error) {\n            console.error('Error saving product:', error);\n            toast.error('Failed to save product: ' + (error.message || 'Unknown error'));\n        }\n    };\n\n    const handleDeleteClick = (id) => {\n        setProductToDelete(id);\n        setDeleteDialogOpen(true);\n    };\n\n    const handleConfirmDelete = async () => {\n        if (!productToDelete) return;\n\n        try {\n            // Soft delete: update deleted_at\n            const { error } = await supabase\n                .from('products')\n                .update({ deleted_at: new Date().toISOString() })\n                .eq('id', productToDelete);\n\n            if (error) throw error;\n            toast.success('Product deleted successfully!');\n            fetchProducts();\n        } catch (error) {\n            console.error('Error deleting product:', error);\n            toast.error('Failed to delete product: ' + (error.message || 'Please try again'));\n        } finally {\n            setDeleteDialogOpen(false);\n            setProductToDelete(null);\n        }\n    };\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    // Removed client-side filtering as we now do it on the server\n    const filteredProducts = products;\n\n    const theme = useTheme();\n    const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n    return (\n        <Container maxWidth=\"xl\">\n            <Box\n                display=\"flex\"\n                flexDirection={isMobile ? 'column' : 'row'}\n                justifyContent=\"space-between\"\n                alignItems={isMobile ? 'flex-start' : 'center'}\n                gap={2}\n                mb={3}\n            >\n                <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\n                    Products\n                </Typography>\n                <Box display=\"flex\" gap={1}>\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<Keyboard />}\n                        onClick={toggleHelp}\n                        size={isMobile ? 'small' : 'medium'}\n                    >\n                        Shortcuts\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        startIcon={<Add />}\n                        onClick={() => handleOpenDialog()}\n                        fullWidth={isMobile}\n                    >\n                        Add Product (Alt+n)\n                    </Button>\n                </Box>\n            </Box>\n\n            {/* Active Filter Indicator */}\n            {activeFilter && (\n                <Box mb={2}>\n                    <Chip\n                        label={\n                            activeFilter === 'lowStock'\n                                ? 'Low Stock Filter Active'\n                                : 'Near Expiry Filter Active'\n                        }\n                        color={activeFilter === 'lowStock' ? 'warning' : 'error'}\n                        icon={<Warning />}\n                        onDelete={() => {\n                            setActiveFilter(null);\n                            setSearchParams({});\n                        }}\n                        deleteIcon={<Close />}\n                    />\n                </Box>\n            )}\n\n            <Card sx={{ mb: 3 }}>\n                <CardContent>\n                    <TextField\n                        fullWidth\n                        inputRef={searchInputRef}\n                        placeholder=\"Search products by name, form, or batch number... (Alt+f)\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <Search />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                </CardContent>\n            </Card>\n\n            {isMobile ? (\n                <Box>\n                    {loading ? (\n                        <Typography align=\"center\">Loading...</Typography>\n                    ) : filteredProducts.length === 0 ? (\n                        <Typography align=\"center\">No products found</Typography>\n                    ) : (\n                        filteredProducts.map((product) => {\n                            const expiryStatus = product.expiry_date\n                                ? getExpiryStatus(product.expiry_date, 7, parseInt(settings.expiry_alert_days || '15'))\n                                : null;\n                            const stockStatus = getStockStatus(product.stock, product.min_stock_level);\n\n                            return (\n                                <Card key={product.id} variant=\"outlined\" sx={{ mb: 2 }}>\n                                    <CardContent>\n                                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={1}>\n                                            <Box>\n                                                <Typography variant=\"h6\" fontWeight={600}>\n                                                    {product.name}\n                                                </Typography>\n                                                {product.generic_name && (\n                                                    <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                                        {product.generic_name}\n                                                    </Typography>\n                                                )}\n                                                {product.batch_number && (\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\n                                                        {product.batch_number}\n                                                    </Typography>\n                                                )}\n                                            </Box>\n                                            <Box>\n                                                <IconButton\n                                                    size=\"small\"\n                                                    color=\"primary\"\n                                                    onClick={() => handleOpenDialog(product)}\n                                                >\n                                                    <Edit fontSize=\"small\" />\n                                                </IconButton>\n                                                <IconButton\n                                                    size=\"small\"\n                                                    color=\"error\"\n                                                    onClick={() => handleDeleteClick(product.id)}\n                                                >\n                                                    <Delete fontSize=\"small\" />\n                                                </IconButton>\n                                            </Box>\n                                        </Box>\n\n                                        <Box display=\"flex\" flexWrap=\"wrap\" gap={1} mb={2}>\n                                            {product.drug_type && (\n                                                <Chip label={product.drug_type} size=\"small\" variant=\"outlined\" color=\"primary\" />\n                                            )}\n                                            {product.form && (\n                                                <Chip label={product.form} size=\"small\" variant=\"outlined\" />\n                                            )}\n                                            <Chip\n                                                label={`${formatNumber(product.stock)} units`}\n                                                size=\"small\"\n                                                color={stockStatus.color}\n                                                icon={\n                                                    stockStatus.type === 'out' ? <ErrorIcon /> :\n                                                        stockStatus.type === 'low' ? <Warning /> :\n                                                            <CheckCircle />\n                                                }\n                                            />\n                                            {expiryStatus && (\n                                                <Tooltip title={`Expires: ${formatDate(product.expiry_date)}`}>\n                                                    <Chip\n                                                        label={expiryStatus.label}\n                                                        size=\"small\"\n                                                        color={expiryStatus.color}\n                                                    />\n                                                </Tooltip>\n                                            )}\n                                        </Box>\n\n                                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                                            <Box>\n                                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                                    Price: <strong>{formatCurrency(product.price, settings.currency_symbol)}</strong>\n                                                </Typography>\n                                                {product.cost_price && (\n                                                    <Typography variant=\"caption\" color=\"text.secondary\">\n                                                        Cost: {formatCurrency(product.cost_price, settings.currency_symbol)}\n                                                    </Typography>\n                                                )}\n                                            </Box>\n                                            <Typography variant=\"caption\" color=\"text.secondary\">\n                                                {product.suppliers?.name || 'No Supplier'}\n                                            </Typography>\n                                        </Box>\n                                    </CardContent>\n                                </Card>\n                            );\n                        })\n                    )}\n                </Box>\n            ) : (\n                <Card>\n                    <TableContainer sx={{ overflowX: 'auto', maxWidth: '100%' }}>\n                        <Table sx={{ minWidth: 800 }}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell><strong>Name</strong></TableCell>\n                                    <TableCell><strong>Form</strong></TableCell>\n                                    <TableCell><strong>Price</strong></TableCell>\n                                    <TableCell><strong>Stock</strong></TableCell>\n                                    <TableCell><strong>Expiry</strong></TableCell>\n                                    <TableCell><strong>Supplier</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Actions</strong></TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {loading ? (\n                                    <TableRow>\n                                        <TableCell colSpan={7} align=\"center\">Loading...</TableCell>\n                                    </TableRow>\n                                ) : filteredProducts.length === 0 ? (\n                                    <TableRow>\n                                        <TableCell colSpan={7} align=\"center\">No products found</TableCell>\n                                    </TableRow>\n                                ) : (\n                                    filteredProducts.map((product) => {\n                                        const expiryStatus = product.expiry_date\n                                            ? getExpiryStatus(product.expiry_date, 7, parseInt(settings.expiry_alert_days || '15'))\n                                            : null;\n                                        const stockStatus = getStockStatus(product.stock, product.min_stock_level);\n\n                                        return (\n                                            <TableRow key={product.id} hover>\n                                                <TableCell>\n                                                    <Typography variant=\"body2\" fontWeight={600}>\n                                                        {product.name}\n                                                    </Typography>\n                                                    {product.generic_name && (\n                                                        <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                                            {product.generic_name}\n                                                        </Typography>\n                                                    )}\n                                                    {product.batch_number && (\n                                                        <Typography variant=\"caption\" color=\"text.secondary\">\n                                                            {product.batch_number}\n                                                        </Typography>\n                                                    )}\n                                                </TableCell>\n                                                <TableCell>\n                                                    {product.form && (\n                                                        <Chip label={product.form} size=\"small\" variant=\"outlined\" color=\"primary\" sx={{ mr: 0.5 }} />\n                                                    )}\n                                                    {product.strength && (\n                                                        <Chip label={product.strength} size=\"small\" variant=\"outlined\" />\n                                                    )}\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Typography variant=\"body2\">\n                                                        {formatCurrency(product.price, settings.currency_symbol)}\n                                                    </Typography>\n                                                    {product.cost_price && (\n                                                        <Typography variant=\"caption\" color=\"text.secondary\">\n                                                            Cost: {formatCurrency(product.cost_price, settings.currency_symbol)}\n                                                        </Typography>\n                                                    )}\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Chip\n                                                        label={`${formatNumber(product.stock)} units`}\n                                                        size=\"small\"\n                                                        color={stockStatus.color}\n                                                        icon={\n                                                            stockStatus.type === 'out' ? <ErrorIcon /> :\n                                                                stockStatus.type === 'low' ? <Warning /> :\n                                                                    <CheckCircle />\n                                                        }\n                                                    />\n                                                </TableCell>\n                                                <TableCell>\n                                                    {expiryStatus ? (\n                                                        <Tooltip title={`Expires: ${formatDate(product.expiry_date)}`}>\n                                                            <Chip\n                                                                label={expiryStatus.label}\n                                                                size=\"small\"\n                                                                color={expiryStatus.color}\n                                                            />\n                                                        </Tooltip>\n                                                    ) : (\n                                                        <Typography variant=\"caption\" color=\"text.secondary\">\n                                                            No expiry\n                                                        </Typography>\n                                                    )}\n                                                </TableCell>\n                                                <TableCell>\n                                                    <Typography variant=\"caption\">\n                                                        {product.suppliers?.name || '—'}\n                                                    </Typography>\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton\n                                                        size=\"small\"\n                                                        color=\"primary\"\n                                                        onClick={() => handleOpenDialog(product)}\n                                                    >\n                                                        <Edit />\n                                                    </IconButton>\n                                                    <IconButton\n                                                        size=\"small\"\n                                                        color=\"error\"\n                                                        onClick={() => handleDeleteClick(product.id)}\n                                                    >\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })\n                                )}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Card>\n            )}\n\n            <TablePagination\n                rowsPerPageOptions={[10, 25, 50, 100]}\n                component=\"div\"\n                count={totalCount}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n\n            <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n                <form onSubmit={handleSubmit}>\n                    <DialogTitle>\n                        {editingProduct ? 'Edit Product' : 'Add New Product'}\n                    </DialogTitle>\n                    <DialogContent>\n                        <Grid container spacing={2} sx={{ mt: 1 }}>\n                            {/* Medicine Reference Search - Only show when adding new product */}\n                            {!editingProduct && (\n                                <>\n                                    <Grid item xs={12}>\n                                        <Box display=\"flex\" alignItems=\"center\" gap={1} mb={1}>\n                                            <LocalPharmacy color=\"primary\" fontSize=\"small\" />\n                                            <Typography variant=\"body2\" color=\"primary\" fontWeight={600}>\n                                                Search Medicine Database (Optional)\n                                            </Typography>\n                                        </Box>\n                                        <MedicineSearchAutocomplete\n                                            onSelect={(medicine) => {\n                                                // Auto-populate fields from medicine reference\n                                                setFormData(prev => ({\n                                                    ...prev,\n                                                    name: medicine.brand_name || '',\n                                                    generic_name: medicine.generic_name || '',\n                                                    form: medicine.dosage_form || '',\n                                                    strength: medicine.strength || '',\n                                                    drug_type: medicine.dosage_form ? medicine.dosage_form.charAt(0).toUpperCase() + medicine.dosage_form.slice(1) : '',\n                                                    items_per_box: extractItemsPerBox(medicine.standard_packaging) || prev.items_per_box,\n                                                }));\n                                                toast.success(`Auto-filled from ${medicine.brand_name}`);\n                                            }}\n                                            label=\"Search by brand or generic name\"\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Divider />\n                                    </Grid>\n                                </>\n                            )}\n\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    required\n                                    label=\"Product Name\"\n                                    name=\"name\"\n                                    value={formData.name}\n                                    onChange={handleChange}\n                                    onKeyDown={handleKeyDown}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    label=\"Generic Name\"\n                                    name=\"generic_name\"\n                                    value={formData.generic_name}\n                                    onChange={handleChange}\n                                    placeholder=\"e.g., Acetaminophen, Ibuprofen\"\n                                    helperText=\"Scientific/generic name of the drug\"\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    label=\"Strength\"\n                                    name=\"strength\"\n                                    value={formData.strength}\n                                    onChange={handleChange}\n                                    placeholder=\"e.g., 500mg, 10ml\"\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    select\n                                    label=\"Drug Type\"\n                                    name=\"drug_type\"\n                                    value={formData.drug_type}\n                                    onChange={handleChange}\n                                    SelectProps={{ native: true }}\n                                >\n                                    <option value=\"\">Select Type</option>\n                                    <option value=\"Tablet\">Tablet</option>\n                                    <option value=\"Capsule\">Capsule</option>\n                                    <option value=\"Syrup\">Syrup</option>\n                                    <option value=\"Injection\">Injection</option>\n                                    <option value=\"Cream\">Cream</option>\n                                    <option value=\"Ointment\">Ointment</option>\n                                    <option value=\"Drops\">Drops</option>\n                                    <option value=\"Inhaler\">Inhaler</option>\n                                    <option value=\"Powder\">Powder</option>\n                                    <option value=\"Other\">Other</option>\n                                </TextField>\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    label=\"Form\"\n                                    name=\"form\"\n                                    value={formData.form}\n                                    onChange={handleChange}\n                                    placeholder=\"e.g., Tablet, Syrup, Injection\"\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    required\n                                    type=\"number\"\n                                    label=\"Selling Price\"\n                                    name=\"price\"\n                                    value={formData.price}\n                                    onChange={handleChange}\n                                    InputProps={{\n                                        startAdornment: <InputAdornment position=\"start\">{settings.currency_symbol}</InputAdornment>,\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Cost Price\"\n                                    name=\"cost_price\"\n                                    value={formData.cost_price}\n                                    onChange={handleChange}\n                                    InputProps={{\n                                        startAdornment: <InputAdornment position=\"start\">{settings.currency_symbol}</InputAdornment>,\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Stock Quantity\"\n                                    name=\"stock\"\n                                    value={formData.stock}\n                                    onChange={handleChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Minimum Stock Level\"\n                                    name=\"min_stock_level\"\n                                    value={formData.min_stock_level}\n                                    onChange={handleChange}\n                                    helperText=\"Alert when stock falls below this\"\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    type=\"date\"\n                                    label=\"Expiry Date\"\n                                    name=\"expiry_date\"\n                                    value={formData.expiry_date}\n                                    onChange={handleChange}\n                                    InputLabelProps={{ shrink: true }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField\n                                    fullWidth\n                                    select\n                                    label=\"Supplier\"\n                                    name=\"supplier_id\"\n                                    value={formData.supplier_id}\n                                    onChange={handleChange}\n                                >\n                                    <MenuItem value=\"\">None</MenuItem>\n                                    {suppliers.map((supplier) => (\n                                        <MenuItem key={supplier.id} value={supplier.id}>\n                                            {supplier.name}\n                                        </MenuItem>\n                                    ))}\n                                </TextField>\n                            </Grid>\n                            <Grid item xs={12} sm={4}>\n                                <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Items per Box\"\n                                    name=\"items_per_box\"\n                                    value={formData.items_per_box}\n                                    onChange={handleChange}\n                                    helperText=\"Number of tablets/items in one box\"\n                                    inputProps={{ min: 1 }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={4}>\n                                <TextField\n                                    fullWidth\n                                    type=\"number\"\n                                    label=\"Price per Box\"\n                                    name=\"price_per_box\"\n                                    value={formData.price_per_box}\n                                    onChange={(e) => {\n                                        handleChange(e);\n                                        // Auto-calculate price per item\n                                        if (e.target.value && formData.items_per_box) {\n                                            const pricePerItem = parseFloat(e.target.value) / parseInt(formData.items_per_box);\n                                            setFormData(prev => ({ ...prev, price: pricePerItem.toFixed(2) }));\n                                        }\n                                    }}\n                                    InputProps={{\n                                        startAdornment: <InputAdornment position=\"start\">{settings.currency_symbol}</InputAdornment>,\n                                    }}\n                                    helperText=\"Auto-calculates price per item\"\n                                />\n                            </Grid>\n                            <Grid item xs={12} sm={4}>\n                                <TextField\n                                    fullWidth\n                                    select\n                                    label=\"Selling Unit\"\n                                    name=\"selling_unit\"\n                                    value={formData.selling_unit}\n                                    onChange={handleChange}\n                                    helperText=\"How this product is sold\"\n                                >\n                                    <MenuItem value=\"item\">Item Only</MenuItem>\n                                    <MenuItem value=\"box\">Box Only</MenuItem>\n                                    <MenuItem value=\"both\">Both Box & Item</MenuItem>\n                                </TextField>\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    fullWidth\n                                    label=\"Batch Number\"\n                                    name=\"batch_number\"\n                                    value={formData.batch_number}\n                                    onChange={handleChange}\n                                    placeholder=\"Optional - for tracking batches\"\n                                />\n                            </Grid>\n                        </Grid>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleCloseDialog}>Cancel</Button>\n                        <Button type=\"submit\" variant=\"contained\">\n                            {editingProduct ? 'Update' : 'Add'} Product\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n\n            <ConfirmDialog\n                open={deleteDialogOpen}\n                onClose={() => setDeleteDialogOpen(false)}\n                onConfirm={handleConfirmDelete}\n                title=\"Delete Product\"\n                content=\"Are you sure you want to delete this product? This action cannot be undone.\"\n            />\n        </Container>\n    );\n}\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z\"\n}), 'Edit');","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogContentTextUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContentText', slot);\n}\nconst dialogContentTextClasses = generateUtilityClasses('MuiDialogContentText', ['root']);\nexport default dialogContentTextClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport Typography from '../Typography';\nimport { getDialogContentTextUtilityClass } from './dialogContentTextClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  const composedClasses = composeClasses(slots, getDialogContentTextUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst DialogContentTextRoot = styled(Typography, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiDialogContentText',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})({});\nconst DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiDialogContentText'\n  });\n  const {\n      className\n    } = props,\n    ownerState = _objectWithoutPropertiesLoose(props, _excluded);\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentTextRoot, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"text.secondary\",\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className)\n  }, props, {\n    classes: classes\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContentText;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z\"\n}), 'CheckCircle');"],"names":["formatCurrency","value","symbol","arguments","length","undefined","isNaN","concat","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatNumber","formatPercentage","decimals","toFixed","getDialogActionsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","DialogActionsRoot","styled","name","overridesResolver","props","styles","ownerState","root","disableSpacing","spacing","_ref","_extends","display","alignItems","padding","justifyContent","flex","marginLeft","React","inProps","ref","useDefaultProps","className","other","_objectWithoutPropertiesLoose","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","createSvgIcon","d","formatDate","date","formatStr","dateObj","parseISO","format","error","console","String","formatTime","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","Date","today","setHours","diffTime","Math","ceil","daysUntilExpiry","type","color","label","getStockStatus","stock","getDateDaysAgo","setDate","getDate","ConfirmDialog","open","onClose","onConfirm","title","content","confirmText","cancelText","_jsxs","Dialog","children","DialogTitle","id","sx","gap","WarningIcon","DialogContent","DialogContentText","DialogActions","Button","onClick","variant","autoFocus","MedicineSearchAutocomplete","onSelect","_objectWithoutProperties","setOpen","useState","options","setOptions","loading","setLoading","inputValue","setInputValue","setValue","useEffect","delayDebounceFn","setTimeout","async","data","supabase","from","select","or","limit","clearTimeout","Autocomplete","_objectSpread","onOpen","getOptionLabel","option","parts","brand_name","strength","push","generic_name","join","onInputChange","event","newInputValue","onChange","newValue","renderInput","params","TextField","placeholder","InputProps","endAdornment","_Fragment","CircularProgress","size","renderOption","Box","component","Typography","fontWeight","dosage_form","noOptionsText","ProductsPage","settings","useSettings","toggleHelp","useKeyboard","searchParams","setSearchParams","useSearchParams","products","setProducts","suppliers","setSuppliers","searchTerm","setSearchTerm","page","setPage","rowsPerPage","setRowsPerPage","totalCount","setTotalCount","openDialog","setOpenDialog","editingProduct","setEditingProduct","deleteDialogOpen","setDeleteDialogOpen","productToDelete","setProductToDelete","activeFilter","setActiveFilter","formData","setFormData","drug_type","price","cost_price","min_stock_level","low_stock_threshold","expiry_date","supplier_id","form","batch_number","items_per_box","price_per_box","selling_unit","searchInputRef","useRef","fetchProducts","session","auth","getSession","toast","orgId","user","query","count","eq","is","order","ascending","allProducts","lowStockIds","filter","p","map","in","expiryThreshold","parseInt","expiry_alert_days","thresholdDate","thresholdDateStr","toISOString","split","not","lte","to","range","useKeyboardShortcuts","Alt+n","handleOpenDialog","Alt+f","_searchInputRef$curre","current","focus","fetchSuppliers","filterParam","get","product","handleCloseDialog","extractItemsPerBox","packagingString","match","handleChange","e","target","handleDeleteClick","filteredProducts","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","Container","maxWidth","flexDirection","mb","startIcon","Keyboard","Add","fullWidth","Chip","icon","Warning","onDelete","deleteIcon","Close","Card","CardContent","inputRef","startAdornment","InputAdornment","position","Search","align","_product$suppliers","expiryStatus","stockStatus","IconButton","Edit","fontSize","Delete","flexWrap","ErrorIcon","CheckCircle","Tooltip","currency_symbol","TableContainer","overflowX","Table","minWidth","TableHead","TableRow","TableCell","TableBody","colSpan","_product$suppliers2","hover","mr","TablePagination","rowsPerPageOptions","onPageChange","handleChangePage","newPage","onRowsPerPageChange","onSubmit","preventDefault","_formData$generic_nam","_formData$strength","productData","trim","parseFloat","update","success","insert","organization_id","message","Grid","container","mt","item","xs","LocalPharmacy","medicine","prev","charAt","toUpperCase","slice","standard_packaging","Divider","sm","required","onKeyDown","key","shiftKey","index","Array","prototype","indexOf","call","nextElement","elements","helperText","SelectProps","native","InputLabelProps","shrink","MenuItem","supplier","inputProps","min","pricePerItem","deleted_at","getDialogContentTextUtilityClass","DialogContentTextRoot","shouldForwardProp","prop","rootShouldForwardProp","composedClasses"],"sourceRoot":""}