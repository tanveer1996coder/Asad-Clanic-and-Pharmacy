{"version":3,"file":"static/js/87.1c94f27f.chunk.js","mappings":"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","sources":["utils/formatters.js","../node_modules/@mui/material/DialogActions/dialogActionsClasses.js","../node_modules/@mui/material/DialogActions/DialogActions.js","utils/dateHelpers.js","../node_modules/@mui/material/utils/useId.js","../node_modules/@mui/icons-material/esm/Add.js","components/stock/StockPage.js","utils/whatsappHelper.js"],"sourcesContent":["/**\r\n * Format currency value\r\n * @param {number} value - Value to format\r\n * @param {string} symbol - Currency symbol (default: 'PKR')\r\n * @returns {string} Formatted currency string\r\n */\r\nexport function formatCurrency(value, symbol = 'PKR') {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return `${symbol} 0.00`;\r\n    }\r\n\r\n    const num = Number(value);\r\n    return `${symbol} ${num.toLocaleString('en-US', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n    })}`;\r\n}\r\n\r\n/**\r\n * Format number with thousand separators\r\n * @param {number} value - Value to format\r\n * @returns {string} Formatted number string\r\n */\r\nexport function formatNumber(value) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0';\r\n    }\r\n\r\n    return Number(value).toLocaleString('en-US');\r\n}\r\n\r\n/**\r\n * Format percentage\r\n * @param {number} value - Value to format (0-100)\r\n * @param {number} decimals - Number of decimal places (default: 1)\r\n * @returns {string} Formatted percentage string\r\n */\r\nexport function formatPercentage(value, decimals = 1) {\r\n    if (value === null || value === undefined || isNaN(value)) {\r\n        return '0%';\r\n    }\r\n\r\n    return `${Number(value).toFixed(decimals)}%`;\r\n}\r\n\r\n/**\r\n * Truncate text to specified length\r\n * @param {string} text - Text to truncate\r\n * @param {number} maxLength - Maximum length\r\n * @returns {string} Truncated text\r\n */\r\nexport function truncateText(text, maxLength = 50) {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n}\r\n\r\n/**\r\n * Capitalize first letter of each word\r\n * @param {string} text - Text to capitalize\r\n * @returns {string} Capitalized text\r\n */\r\nexport function capitalizeWords(text) {\r\n    if (!text) return '';\r\n    return text\r\n        .toLowerCase()\r\n        .split(' ')\r\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1))\r\n        .join(' ');\r\n}\r\n\r\n/**\r\n * Format phone number\r\n * @param {string} phone - Phone number\r\n * @returns {string} Formatted phone number\r\n */\r\nexport function formatPhone(phone) {\r\n    if (!phone) return '';\r\n    // Remove all non-digit characters\r\n    const cleaned = phone.replace(/\\D/g, '');\r\n\r\n    // Format as: 0300-1234567\r\n    if (cleaned.length === 11 && cleaned.startsWith('0')) {\r\n        return `${cleaned.slice(0, 4)}-${cleaned.slice(4)}`;\r\n    }\r\n\r\n    return phone;\r\n}\r\n\r\n/**\r\n * Get initials from name\r\n * @param {string} name - Full name\r\n * @returns {string} Initials (max 2 letters)\r\n */\r\nexport function getInitials(name) {\r\n    if (!name) return '?';\r\n\r\n    const parts = name.trim().split(' ');\r\n    if (parts.length === 1) {\r\n        return parts[0].charAt(0).toUpperCase();\r\n    }\r\n\r\n    return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();\r\n}\r\n\r\n/**\r\n * Calculate profit margin percentage\r\n * @param {number} revenue - Total revenue\r\n * @param {number} cost - Total cost\r\n * @returns {number} Profit margin percentage\r\n */\r\nexport function calculateProfitMargin(revenue, cost) {\r\n    if (!revenue || revenue === 0) return 0;\r\n    const profit = revenue - (cost || 0);\r\n    return (profit / revenue) * 100;\r\n}\r\n\r\n/**\r\n * Generate random color for charts\r\n * @param {number} index - Index for consistent colors\r\n * @returns {string} Hex color code\r\n */\r\nexport function getChartColor(index) {\r\n    const colors = [\r\n        '#6366f1', // Indigo\r\n        '#ec4899', // Pink\r\n        '#10b981', // Green\r\n        '#f59e0b', // Amber\r\n        '#3b82f6', // Blue\r\n        '#8b5cf6', // Purple\r\n        '#ef4444', // Red\r\n        '#14b8a6', // Teal\r\n        '#f97316', // Orange\r\n        '#06b6d4', // Cyan\r\n    ];\r\n\r\n    return colors[index % colors.length];\r\n}\r\n","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getDialogActionsUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogActions', slot);\n}\nconst dialogActionsClasses = generateUtilityClasses('MuiDialogActions', ['root', 'spacing']);\nexport default dialogActionsClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"disableSpacing\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport { getDialogActionsUtilityClass } from './dialogActionsClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    disableSpacing\n  } = ownerState;\n  const slots = {\n    root: ['root', !disableSpacing && 'spacing']\n  };\n  return composeClasses(slots, getDialogActionsUtilityClass, classes);\n};\nconst DialogActionsRoot = styled('div', {\n  name: 'MuiDialogActions',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, !ownerState.disableSpacing && styles.spacing];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  padding: 8,\n  justifyContent: 'flex-end',\n  flex: '0 0 auto'\n}, !ownerState.disableSpacing && {\n  '& > :not(style) ~ :not(style)': {\n    marginLeft: 8\n  }\n}));\nconst DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiDialogActions'\n  });\n  const {\n      className,\n      disableSpacing = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    disableSpacing\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogActionsRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * If `true`, the actions do not have additional margin.\n   * @default false\n   */\n  disableSpacing: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogActions;","import { format, formatDistance, parseISO } from 'date-fns';\r\n\r\n/**\r\n * Format date to readable string\r\n * @param {string|Date} date - Date to format\r\n * @param {string} formatStr - Format string (default: 'MMM dd, yyyy')\r\n * @returns {string} Formatted date\r\n */\r\nexport function formatDate(date, formatStr = 'MMM dd, yyyy') {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, formatStr);\r\n    } catch (error) {\r\n        console.error('Error formatting date:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to time string\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Formatted time (e.g., \"2:30 PM\")\r\n */\r\nexport function formatTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return format(dateObj, 'h:mm a');\r\n    } catch (error) {\r\n        console.error('Error formatting time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Format date to relative time (e.g., \"2 hours ago\")\r\n * @param {string|Date} date - Date to format\r\n * @returns {string} Relative time string\r\n */\r\nexport function formatRelativeTime(date) {\r\n    if (!date) return '—';\r\n    try {\r\n        const dateObj = typeof date === 'string' ? parseISO(date) : date;\r\n        return formatDistance(dateObj, new Date(), { addSuffix: true });\r\n    } catch (error) {\r\n        console.error('Error formatting relative time:', error);\r\n        return String(date);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculate days until expiry\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @returns {number} Days until expiry (negative if expired)\r\n */\r\nexport function daysUntilExpiry(expiryDate) {\r\n    if (!expiryDate) return null;\r\n    try {\r\n        const expiry = typeof expiryDate === 'string' ? new Date(expiryDate) : expiryDate;\r\n        const today = new Date();\r\n        today.setHours(0, 0, 0, 0);\r\n        expiry.setHours(0, 0, 0, 0);\r\n        const diffTime = expiry - today;\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        return diffDays;\r\n    } catch (error) {\r\n        console.error('Error calculating days until expiry:', error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Get expiry status (expired, urgent, warning, ok)\r\n * @param {string|Date} expiryDate - Expiry date\r\n * @param {number} urgentThreshold - Days threshold for urgent (default: 7)\r\n * @param {number} warningThreshold - Days threshold for warning (default: 15)\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getExpiryStatus(expiryDate, urgentThreshold = 7, warningThreshold = 15) {\r\n    const days = daysUntilExpiry(expiryDate);\r\n\r\n    if (days === null) {\r\n        return { type: 'unknown', color: 'default', label: 'No expiry date' };\r\n    }\r\n\r\n    if (days < 0) {\r\n        return { type: 'expired', color: 'error', label: 'Expired', days };\r\n    }\r\n\r\n    if (days <= urgentThreshold) {\r\n        return { type: 'urgent', color: 'error', label: `${days} days left`, days };\r\n    }\r\n\r\n    if (days <= warningThreshold) {\r\n        return { type: 'warning', color: 'warning', label: `${days} days left`, days };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'Good', days };\r\n}\r\n\r\n/**\r\n * Get stock status (out, low, ok)\r\n * @param {number} stock - Current stock\r\n * @param {number} minLevel - Minimum stock level\r\n * @returns {object} Status object with type and color\r\n */\r\nexport function getStockStatus(stock, minLevel = 10) {\r\n    if (stock === 0) {\r\n        return { type: 'out', color: 'error', label: 'Out of stock' };\r\n    }\r\n\r\n    if (stock <= minLevel) {\r\n        return { type: 'low', color: 'warning', label: 'Low stock' };\r\n    }\r\n\r\n    return { type: 'ok', color: 'success', label: 'In stock' };\r\n}\r\n\r\n/**\r\n * Get today's date in YYYY-MM-DD format\r\n * @returns {string} Today's date\r\n */\r\nexport function getTodayDate() {\r\n    return format(new Date(), 'yyyy-MM-dd');\r\n}\r\n\r\n/**\r\n * Get date N days ago in YYYY-MM-DD format\r\n * @param {number} days - Number of days ago\r\n * @returns {string} Date string\r\n */\r\nexport function getDateDaysAgo(days) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() - days);\r\n    return format(date, 'yyyy-MM-dd');\r\n}\r\n","'use client';\n\nimport useId from '@mui/utils/useId';\nexport default useId;","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","import React, { useState, useEffect, useRef } from 'react';\r\nimport {\r\n    Container,\r\n    Card,\r\n    CardContent,\r\n    Typography,\r\n    TextField,\r\n    Button,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogActions,\r\n    Grid,\r\n    Box,\r\n    MenuItem,\r\n    Chip,\r\n    InputAdornment,\r\n    TablePagination,\r\n} from '@mui/material';\r\nimport { Add, LocalShipping, Search, Keyboard } from '@mui/icons-material';\r\nimport { toast } from 'react-toastify';\r\nimport { supabase } from '../../supabaseClient';\r\nimport { formatCurrency, formatNumber } from '../../utils/formatters';\r\nimport { formatDate, getExpiryStatus, getStockStatus } from '../../utils/dateHelpers';\r\nimport { openWhatsAppOrder } from '../../utils/whatsappHelper';\r\nimport useSettings from '../../hooks/useSettings';\r\nimport useKeyboardShortcuts from '../../hooks/useKeyboardShortcuts';\r\nimport { useKeyboard } from '../../contexts/KeyboardContext';\r\n\r\nexport default function StockPage() {\r\n    const { settings } = useSettings();\r\n    const { toggleHelp } = useKeyboard();\r\n    const [products, setProducts] = useState([]);\r\n    const [suppliers, setSuppliers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(25);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const [openDialog, setOpenDialog] = useState(false);\r\n    const [selectedProduct, setSelectedProduct] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n        quantity: '',\r\n        cost_price: '',\r\n        expiry_date: '',\r\n        supplier_id: '',\r\n        received_date: new Date().toISOString().split('T')[0],\r\n        notes: '',\r\n    });\r\n\r\n    const searchInputRef = useRef(null);\r\n\r\n    useKeyboardShortcuts({\r\n        'Alt+f': () => searchInputRef.current?.focus(),\r\n    }, 'Stock Page');\r\n\r\n    useEffect(() => {\r\n        fetchSuppliers();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const delayDebounceFn = setTimeout(() => {\r\n            fetchProducts();\r\n        }, 500);\r\n\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchTerm, page, rowsPerPage]);\r\n\r\n    async function fetchProducts() {\r\n        setLoading(true);\r\n        try {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n            if (!session) {\r\n                setLoading(false);\r\n                return;\r\n            }\r\n            const orgId = session.user.id;\r\n\r\n            let query = supabase\r\n                .from('products')\r\n                .select('*, suppliers(name)', { count: 'exact' })\r\n                .eq('organization_id', orgId)\r\n                .is('deleted_at', null)\r\n                .order('name');\r\n\r\n            if (searchTerm) {\r\n                query = query.or(`name.ilike.%${searchTerm}%,form.ilike.%${searchTerm}%`);\r\n            }\r\n\r\n            const from = page * rowsPerPage;\r\n            const to = from + rowsPerPage - 1;\r\n\r\n            const { data, count, error } = await query.range(from, to);\r\n\r\n            if (error) throw error;\r\n            setProducts(data || []);\r\n            setTotalCount(count || 0);\r\n        } catch (error) {\r\n            console.error('Error fetching products:', error);\r\n            toast.error('Failed to load products');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    async function fetchSuppliers() {\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n        if (!session) return;\r\n        const orgId = session.user.id;\r\n\r\n        const { data } = await supabase\r\n            .from('suppliers')\r\n            .select('*')\r\n            .eq('organization_id', orgId)\r\n            .is('deleted_at', null)\r\n            .order('name');\r\n        setSuppliers(data || []);\r\n    }\r\n\r\n    const handleOpenDialog = (product) => {\r\n        setSelectedProduct(product);\r\n        setFormData({\r\n            quantity: '',\r\n            boxes_received: '',\r\n            items_per_box: product.items_per_box?.toString() || '1',\r\n            cost_price: product.cost_price?.toString() || '',\r\n            expiry_date: '',\r\n            supplier_id: product.supplier_id || '',\r\n            received_date: new Date().toISOString().split('T')[0],\r\n            notes: '',\r\n        });\r\n        setOpenDialog(true);\r\n    };\r\n\r\n    const handleCloseDialog = () => {\r\n        setOpenDialog(false);\r\n        setSelectedProduct(null);\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const quantity = parseInt(formData.quantity);\r\n        if (!quantity || quantity <= 0) {\r\n            toast.error('Please enter valid quantity');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Record stock receipt - let database DEFAULT set organization_id\r\n            const { error: receiptError } = await supabase\r\n                .from('stock_receipts')\r\n                .insert([{\r\n                    product_id: selectedProduct.id,\r\n                    supplier_id: formData.supplier_id || null,\r\n                    quantity,\r\n                    boxes_received: formData.boxes_received ? parseInt(formData.boxes_received) : null,\r\n                    items_per_box: formData.items_per_box ? parseInt(formData.items_per_box) : null,\r\n                    cost_price: formData.cost_price ? parseFloat(formData.cost_price) : null,\r\n                    expiry_date: formData.expiry_date || null,\r\n                    received_date: formData.received_date,\r\n                    notes: formData.notes || null,\r\n                }]);\r\n\r\n            if (receiptError) throw receiptError;\r\n\r\n            // Update product stock and expiry\r\n            const { error: updateError } = await supabase.rpc('add_stock', {\r\n                p_id: selectedProduct.id,\r\n                q_added: quantity,\r\n                new_expiry: formData.expiry_date || null,\r\n                new_cost: formData.cost_price ? parseFloat(formData.cost_price) : null,\r\n            });\r\n\r\n            if (updateError) throw updateError;\r\n\r\n            toast.success('Stock added successfully!');\r\n            handleCloseDialog();\r\n            fetchProducts();\r\n        } catch (error) {\r\n            console.error('Error adding stock:', error);\r\n            toast.error('Failed to add stock: ' + error.message);\r\n        }\r\n    };\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    return (\r\n        <Container maxWidth=\"xl\">\r\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\r\n                <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\r\n                    Stock Management\r\n                </Typography>\r\n                <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<Keyboard />}\r\n                    onClick={toggleHelp}\r\n                >\r\n                    Shortcuts\r\n                </Button>\r\n            </Box>\r\n\r\n            <Card>\r\n                <CardContent>\r\n                    <Typography variant=\"h6\" fontWeight={600} mb={2}>\r\n                        Current Stock Levels\r\n                    </Typography>\r\n\r\n                    <TextField\r\n                        fullWidth\r\n                        inputRef={searchInputRef}\r\n                        size=\"small\"\r\n                        placeholder=\"Search products... (Alt+f)\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        sx={{ mb: 2 }}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <Search />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n\r\n                    <TableContainer sx={{ overflowX: 'auto', maxWidth: '100%' }}>\r\n                        <Table sx={{ minWidth: 800 }}>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell><strong>Product</strong></TableCell>\r\n                                    <TableCell><strong>Category</strong></TableCell>\r\n                                    <TableCell><strong>Current Stock</strong></TableCell>\r\n                                    <TableCell><strong>Min Level</strong></TableCell>\r\n                                    <TableCell><strong>Expiry</strong></TableCell>\r\n                                    <TableCell><strong>Supplier</strong></TableCell>\r\n                                    <TableCell align=\"right\"><strong>Actions</strong></TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {loading ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={7} align=\"center\">Loading...</TableCell>\r\n                                    </TableRow>\r\n                                ) : products.length === 0 ? (\r\n                                    <TableRow>\r\n                                        <TableCell colSpan={7} align=\"center\">No products found</TableCell>\r\n                                    </TableRow>\r\n                                ) : (\r\n                                    products.map((product) => {\r\n                                        const stockStatus = getStockStatus(product.stock, product.min_stock_level);\r\n                                        const expiryStatus = product.expiry_date\r\n                                            ? getExpiryStatus(product.expiry_date, 7, parseInt(settings.expiry_alert_days || '15'))\r\n                                            : null;\r\n\r\n                                        return (\r\n                                            <TableRow key={product.id} hover>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"body2\" fontWeight={600}>\r\n                                                        {product.name}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    {product.form && (\r\n                                                        <Chip label={product.form} size=\"small\" variant=\"outlined\" />\r\n                                                    )}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Chip\r\n                                                        label={`${formatNumber(product.stock)} units`}\r\n                                                        size=\"small\"\r\n                                                        color={stockStatus.color}\r\n                                                    />\r\n                                                </TableCell>\r\n                                                <TableCell>{product.min_stock_level}</TableCell>\r\n                                                <TableCell>\r\n                                                    {expiryStatus ? (\r\n                                                        <Chip\r\n                                                            label={expiryStatus.label}\r\n                                                            size=\"small\"\r\n                                                            color={expiryStatus.color}\r\n                                                        />\r\n                                                    ) : (\r\n                                                        '—'\r\n                                                    )}\r\n                                                </TableCell>\r\n                                                <TableCell>\r\n                                                    <Typography variant=\"caption\">\r\n                                                        {product.suppliers?.name || '—'}\r\n                                                    </Typography>\r\n                                                </TableCell>\r\n                                                <TableCell align=\"right\">\r\n                                                    <Box display=\"flex\" gap={1} justifyContent=\"flex-end\">\r\n                                                        {(stockStatus.type === 'low' || stockStatus.type === 'out') && product.suppliers?.phone && (\r\n                                                            <Button\r\n                                                                size=\"small\"\r\n                                                                variant=\"outlined\"\r\n                                                                color=\"success\"\r\n                                                                onClick={() => openWhatsAppOrder(\r\n                                                                    product.suppliers.phone,\r\n                                                                    product.name,\r\n                                                                    product.stock,\r\n                                                                    settings.store_name\r\n                                                                )}\r\n                                                            >\r\n                                                                Order\r\n                                                            </Button>\r\n                                                        )}\r\n                                                        <Button\r\n                                                            size=\"small\"\r\n                                                            variant=\"outlined\"\r\n                                                            startIcon={<Add />}\r\n                                                            onClick={() => handleOpenDialog(product)}\r\n                                                        >\r\n                                                            Add Stock\r\n                                                        </Button>\r\n                                                    </Box>\r\n                                                </TableCell>\r\n                                            </TableRow>\r\n                                        );\r\n                                    })\r\n                                )}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[10, 25, 50, 100]}\r\n                        component=\"div\"\r\n                        count={totalCount}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                    />\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Add Stock Dialog */}\r\n            <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"sm\" fullWidth>\r\n                <form onSubmit={handleSubmit}>\r\n                    <DialogTitle>\r\n                        <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <LocalShipping color=\"primary\" />\r\n                            Add Stock - {selectedProduct?.name}\r\n                        </Box>\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container spacing={2} sx={{ mt: 1 }}>\r\n                            <Grid item xs={12} sm={4}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    type=\"number\"\r\n                                    label=\"Items per Box\"\r\n                                    name=\"items_per_box\"\r\n                                    value={formData.items_per_box}\r\n                                    onChange={(e) => {\r\n                                        handleChange(e);\r\n                                        // Auto-calculate quantity if boxes entered\r\n                                        if (formData.boxes_received && e.target.value) {\r\n                                            const total = parseInt(formData.boxes_received) * parseInt(e.target.value);\r\n                                            setFormData(prev => ({ ...prev, quantity: total.toString() }));\r\n                                        }\r\n                                    }}\r\n                                    inputProps={{ min: 1 }}\r\n                                    helperText=\"Tablets/items per box\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    type=\"number\"\r\n                                    label=\"Boxes Received\"\r\n                                    name=\"boxes_received\"\r\n                                    value={formData.boxes_received}\r\n                                    onChange={(e) => {\r\n                                        handleChange(e);\r\n                                        // Auto-calculate total quantity\r\n                                        if (e.target.value && formData.items_per_box) {\r\n                                            const total = parseInt(e.target.value) * parseInt(formData.items_per_box);\r\n                                            setFormData(prev => ({ ...prev, quantity: total.toString() }));\r\n                                        }\r\n                                    }}\r\n                                    inputProps={{ min: 0 }}\r\n                                    helperText=\"Number of boxes\"\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    required\r\n                                    type=\"number\"\r\n                                    label=\"Total Quantity (Items)\"\r\n                                    name=\"quantity\"\r\n                                    value={formData.quantity}\r\n                                    onChange={handleChange}\r\n                                    inputProps={{ min: 1 }}\r\n                                    helperText={`Current: ${selectedProduct?.stock || 0}`}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    type=\"number\"\r\n                                    label=\"Cost Price (per unit)\"\r\n                                    name=\"cost_price\"\r\n                                    value={formData.cost_price}\r\n                                    onChange={handleChange}\r\n                                    InputProps={{\r\n                                        startAdornment: <InputAdornment position=\"start\">{settings.currency_symbol}</InputAdornment>,\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    type=\"date\"\r\n                                    label=\"Expiry Date\"\r\n                                    name=\"expiry_date\"\r\n                                    value={formData.expiry_date}\r\n                                    onChange={handleChange}\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    select\r\n                                    label=\"Supplier\"\r\n                                    name=\"supplier_id\"\r\n                                    value={formData.supplier_id}\r\n                                    onChange={handleChange}\r\n                                >\r\n                                    <MenuItem value=\"\">None</MenuItem>\r\n                                    {suppliers.map((supplier) => (\r\n                                        <MenuItem key={supplier.id} value={supplier.id}>\r\n                                            {supplier.name}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </TextField>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    type=\"date\"\r\n                                    label=\"Received Date\"\r\n                                    name=\"received_date\"\r\n                                    value={formData.received_date}\r\n                                    onChange={handleChange}\r\n                                    InputLabelProps={{ shrink: true }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    fullWidth\r\n                                    multiline\r\n                                    rows={2}\r\n                                    label=\"Notes\"\r\n                                    name=\"notes\"\r\n                                    value={formData.notes}\r\n                                    onChange={handleChange}\r\n                                    placeholder=\"Optional notes about this stock receipt\"\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleCloseDialog}>Cancel</Button>\r\n                        <Button type=\"submit\" variant=\"contained\">\r\n                            Add Stock\r\n                        </Button>\r\n                    </DialogActions>\r\n                </form>\r\n            </Dialog>\r\n        </Container >\r\n    );\r\n}\r\n","/**\r\n * Generates a WhatsApp URL for ordering a product\r\n * @param {string} phone - Supplier's phone number\r\n * @param {string} productName - Name of the product\r\n * @param {number} currentStock - Current stock level\r\n * @param {string} storeName - Name of the medical store (optional)\r\n * @returns {string|null} - WhatsApp URL or null if no phone provided\r\n */\r\nexport const generateWhatsAppLink = (phone, productName, currentStock, storeName = 'Medical Store') => {\r\n    if (!phone) return null;\r\n\r\n    // Remove non-numeric characters from phone\r\n    const cleanPhone = phone.replace(/\\D/g, '');\r\n\r\n    const message = `Hi, this is ${storeName}. We need to order \"${productName}\". Current stock is ${currentStock}. Please let us know availability and price.`;\r\n\r\n    const encodedMessage = encodeURIComponent(message);\r\n\r\n    return `https://wa.me/${cleanPhone}?text=${encodedMessage}`;\r\n};\r\n\r\n/**\r\n * Opens WhatsApp in a new tab\r\n * @param {string} phone - Supplier's phone number\r\n * @param {string} productName - Name of the product\r\n * @param {number} currentStock - Current stock level\r\n * @param {string} storeName - Name of the medical store\r\n */\r\nexport const openWhatsAppOrder = (phone, productName, currentStock, storeName) => {\r\n    const url = generateWhatsAppLink(phone, productName, currentStock, storeName);\r\n    if (url) {\r\n        window.open(url, '_blank');\r\n    } else {\r\n        alert('Supplier phone number is missing!');\r\n    }\r\n};\r\n\r\n/**\r\n * Opens WhatsApp with a custom message\r\n * @param {string} phone - Phone number\r\n * @param {string} message - Message to send\r\n */\r\nexport const openWhatsApp = (phone, message) => {\r\n    if (!phone) {\r\n        alert('Phone number is missing!');\r\n        return;\r\n    }\r\n\r\n    // Remove non-numeric characters from phone\r\n    const cleanPhone = phone.replace(/\\D/g, '');\r\n    const encodedMessage = encodeURIComponent(message);\r\n    const url = `https://wa.me/${cleanPhone}?text=${encodedMessage}`;\r\n\r\n    window.open(url, '_blank');\r\n};\r\n\r\n"],"names":["formatCurrency","value","symbol","arguments","length","undefined","isNaN","concat","num","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatNumber","formatPercentage","decimals","toFixed","getDialogActionsUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","DialogActionsRoot","styled","name","overridesResolver","props","styles","ownerState","root","disableSpacing","spacing","_ref","_extends","display","alignItems","padding","justifyContent","flex","marginLeft","React","inProps","ref","useDefaultProps","className","other","_objectWithoutPropertiesLoose","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx","formatDate","date","formatStr","dateObj","parseISO","format","error","console","String","formatTime","getExpiryStatus","expiryDate","urgentThreshold","warningThreshold","days","expiry","Date","today","setHours","diffTime","Math","ceil","daysUntilExpiry","type","color","label","getStockStatus","stock","getDateDaysAgo","setDate","getDate","createSvgIcon","d","StockPage","settings","useSettings","toggleHelp","useKeyboard","products","setProducts","useState","suppliers","setSuppliers","loading","setLoading","searchTerm","setSearchTerm","page","setPage","rowsPerPage","setRowsPerPage","totalCount","setTotalCount","openDialog","setOpenDialog","selectedProduct","setSelectedProduct","formData","setFormData","quantity","cost_price","expiry_date","supplier_id","received_date","toISOString","split","notes","searchInputRef","useRef","async","fetchProducts","data","session","supabase","auth","getSession","orgId","user","id","query","from","select","count","eq","is","order","or","to","range","toast","useKeyboardShortcuts","Alt+f","_searchInputRef$curre","current","focus","useEffect","fetchSuppliers","delayDebounceFn","setTimeout","clearTimeout","handleCloseDialog","handleChange","e","_objectSpread","target","_jsxs","Container","maxWidth","children","Box","mb","Typography","variant","fontWeight","Button","startIcon","Keyboard","onClick","Card","CardContent","TextField","fullWidth","inputRef","size","placeholder","onChange","sx","InputProps","startAdornment","InputAdornment","position","Search","TableContainer","overflowX","Table","minWidth","TableHead","TableRow","TableCell","align","TableBody","colSpan","map","product","_product$suppliers","_product$suppliers2","stockStatus","min_stock_level","expiryStatus","parseInt","expiry_alert_days","hover","form","Chip","gap","phone","openWhatsAppOrder","store_name","Add","_product$items_per_bo","_product$cost_price","boxes_received","items_per_box","toString","handleOpenDialog","TablePagination","rowsPerPageOptions","component","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","Dialog","open","onClose","onSubmit","preventDefault","receiptError","insert","product_id","parseFloat","updateError","rpc","p_id","q_added","new_expiry","new_cost","success","message","DialogTitle","LocalShipping","DialogContent","Grid","container","mt","item","xs","sm","total","prev","inputProps","min","helperText","required","currency_symbol","InputLabelProps","shrink","MenuItem","supplier","multiline","rows","DialogActions","productName","currentStock","storeName","url","cleanPhone","replace","encodedMessage","encodeURIComponent","generateWhatsAppLink","window","alert","openWhatsApp"],"sourceRoot":""}