{"version":3,"file":"static/js/937.05fb708a.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Star.js","../node_modules/@mui/icons-material/esm/StarBorder.js","components/suppliers/SuppliersPage.js","../node_modules/@mui/icons-material/esm/WhatsApp.js","../node_modules/@mui/material/utils/useId.js","components/shared/ConfirmDialog.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), 'Star');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z\"\n}), 'StarBorder');","import React, { useState, useEffect, useRef } from 'react';\nimport {\n    Container,\n    Card,\n    CardContent,\n    Typography,\n    TextField,\n    Button,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    IconButton,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Grid,\n    Box,\n    useTheme,\n    useMediaQuery,\n    Chip,\n    List,\n    ListItem,\n    ListItemText,\n    ListItemSecondaryAction,\n    Divider,\n    FormControlLabel,\n    Checkbox,\n    InputAdornment,\n    TablePagination,\n} from '@mui/material';\nimport { Add, Edit, Delete, WhatsApp, Star, StarBorder, Search, Keyboard } from '@mui/icons-material';\nimport { toast } from 'react-toastify';\nimport { supabase } from '../../supabaseClient';\nimport useSettings from '../../hooks/useSettings';\nimport ConfirmDialog from '../shared/ConfirmDialog';\nimport useKeyboardShortcuts from '../../hooks/useKeyboardShortcuts';\nimport { useKeyboard } from '../../contexts/KeyboardContext';\n\nexport default function SuppliersPage() {\n    const { settings } = useSettings();\n    const { toggleHelp } = useKeyboard();\n    const [suppliers, setSuppliers] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(25);\n    const [totalCount, setTotalCount] = useState(0);\n    const [openDialog, setOpenDialog] = useState(false);\n    const [editingSupplier, setEditingSupplier] = useState(null);\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n    const [supplierToDelete, setSupplierToDelete] = useState(null);\n    const [contacts, setContacts] = useState([]);\n    const [newContact, setNewContact] = useState({ contact_name: '', phone: '', whatsapp_enabled: true, is_primary: false });\n    const [formData, setFormData] = useState({\n        name: '',\n        contact_person: '',\n        phone: '',\n        email: '',\n        address: '',\n        portfolio_link: '',\n        notes: '',\n    });\n\n    const searchInputRef = useRef(null);\n\n    useKeyboardShortcuts({\n        'Alt+n': () => handleOpenDialog(),\n        'Alt+f': () => searchInputRef.current?.focus(),\n    }, 'Suppliers Page');\n\n    // Fetch suppliers with their primary contact\n    const fetchSuppliers = async () => {\n        setLoading(true);\n        try {\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                toast.error('Please log in to view suppliers');\n                setLoading(false);\n                return;\n            }\n            const orgId = session.user.id;\n\n            let query = supabase\n                .from('suppliers')\n                .select(`\n                    *,\n                    supplier_contacts(id, contact_name, phone, whatsapp_enabled, is_primary)\n                `, { count: 'exact' })\n                .eq('organization_id', orgId)\n                .is('deleted_at', null)\n                .order('name');\n\n            if (searchTerm) {\n                query = query.or(`name.ilike.%${searchTerm}%,email.ilike.%${searchTerm}%`);\n            }\n\n            const from = page * rowsPerPage;\n            const to = from + rowsPerPage - 1;\n\n            const { data, count, error } = await query.range(from, to);\n\n            if (error) throw error;\n            setSuppliers(data || []);\n            setTotalCount(count || 0);\n        } catch (err) {\n            console.error('Error fetching suppliers:', err);\n            toast.error('Failed to load suppliers');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            fetchSuppliers();\n        }, 500);\n\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchTerm, page, rowsPerPage]);\n\n    const fetchContactsForSupplier = async (supplierId) => {\n        try {\n            const { data, error } = await supabase\n                .from('supplier_contacts')\n                .select('*')\n                .eq('supplier_id', supplierId)\n                .order('is_primary', { ascending: false });\n\n            if (error) throw error;\n            setContacts(data || []);\n        } catch (err) {\n            console.error('Error fetching contacts:', err);\n        }\n    };\n\n    const handleOpenDialog = async (supplier = null) => {\n        if (supplier) {\n            setEditingSupplier(supplier);\n            setFormData({\n                name: supplier.name || '',\n                contact_person: supplier.contact_person || '',\n                phone: supplier.phone || '',\n                email: supplier.email || '',\n                address: supplier.address || '',\n                portfolio_link: supplier.portfolio_link || '',\n                notes: supplier.notes || '',\n            });\n            await fetchContactsForSupplier(supplier.id);\n        } else {\n            setEditingSupplier(null);\n            setFormData({\n                name: '',\n                contact_person: '',\n                phone: '',\n                email: '',\n                address: '',\n                portfolio_link: '',\n                notes: '',\n            });\n            setContacts([]);\n        }\n        setNewContact({ contact_name: '', phone: '', whatsapp_enabled: true, is_primary: false });\n        setOpenDialog(true);\n    };\n\n    const handleCloseDialog = () => {\n        setOpenDialog(false);\n        setEditingSupplier(null);\n        setContacts([]);\n        setNewContact({ contact_name: '', phone: '', whatsapp_enabled: true, is_primary: false });\n    };\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const handleAddContact = () => {\n        if (!newContact.contact_name || !newContact.phone) {\n            toast.error('Please enter contact name and phone');\n            return;\n        }\n\n        const contactToAdd = {\n            ...newContact,\n            id: `temp_${Date.now()}`, // Temporary ID for UI\n            is_new: true,\n        };\n\n        setContacts([...contacts, contactToAdd]);\n        setNewContact({ contact_name: '', phone: '', whatsapp_enabled: true, is_primary: false });\n    };\n\n    const handleRemoveContact = (contact) => {\n        setContacts(contacts.filter(c => c.id !== contact.id));\n    };\n\n    const handleTogglePrimary = (contactId) => {\n        setContacts(contacts.map(c => ({\n            ...c,\n            is_primary: c.id === contactId\n        })));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!formData.name) {\n            toast.error('Please enter supplier name');\n            return;\n        }\n\n        try {\n            const { data: { session } } = await supabase.auth.getSession();\n            if (!session) {\n                toast.error('Please log in to save changes');\n                return;\n            }\n\n            let supplierId;\n\n            if (editingSupplier) {\n                // Update existing supplier\n                const { error } = await supabase\n                    .from('suppliers')\n                    .update(formData)\n                    .eq('id', editingSupplier.id);\n                if (error) throw error;\n                supplierId = editingSupplier.id;\n            } else {\n                // Create new supplier\n                const { data, error } = await supabase\n                    .from('suppliers')\n                    .insert([{ ...formData, organization_id: session.user.id }])\n                    .select()\n                    .single();\n                if (error) throw error;\n                supplierId = data.id;\n            }\n\n            // Handle contacts\n            if (editingSupplier) {\n                // Delete removed contacts\n                const existingContactIds = contacts.filter(c => !c.is_new).map(c => c.id);\n                const { error: deleteError } = await supabase\n                    .from('supplier_contacts')\n                    .delete()\n                    .eq('supplier_id', supplierId)\n                    .not('id', 'in', `(${existingContactIds.join(',') || 'null'})`);\n                if (deleteError) console.error('Error deleting contacts:', deleteError);\n\n                // Update existing contacts\n                for (const contact of contacts.filter(c => !c.is_new)) {\n                    const { error: updateError } = await supabase\n                        .from('supplier_contacts')\n                        .update({\n                            contact_name: contact.contact_name,\n                            phone: contact.phone,\n                            whatsapp_enabled: contact.whatsapp_enabled,\n                            is_primary: contact.is_primary,\n                        })\n                        .eq('id', contact.id);\n                    if (updateError) console.error('Error updating contact:', updateError);\n                }\n            }\n\n            // Insert new contacts\n            const newContacts = contacts.filter(c => c.is_new).map(c => ({\n                supplier_id: supplierId,\n                contact_name: c.contact_name,\n                phone: c.phone,\n                whatsapp_enabled: c.whatsapp_enabled,\n                is_primary: c.is_primary,\n                organization_id: session.user.id,\n            }));\n\n            if (newContacts.length > 0) {\n                const { error: insertError } = await supabase\n                    .from('supplier_contacts')\n                    .insert(newContacts);\n                if (insertError) throw insertError;\n            }\n\n            toast.success(editingSupplier ? 'Supplier updated successfully!' : 'Supplier added successfully!');\n            handleCloseDialog();\n            fetchSuppliers();\n        } catch (err) {\n            console.error('Error saving supplier:', err);\n            toast.error('Failed to save supplier: ' + (err.message || 'Unknown error'));\n        }\n    };\n\n    const handleDeleteClick = (id) => {\n        setSupplierToDelete(id);\n        setDeleteDialogOpen(true);\n    };\n\n    const handleConfirmDelete = async () => {\n        if (!supplierToDelete) return;\n\n        try {\n            const { error } = await supabase\n                .from('suppliers')\n                .update({ deleted_at: new Date().toISOString() })\n                .eq('id', supplierToDelete);\n\n            if (error) throw error;\n            toast.success('Supplier deleted successfully!');\n            fetchSuppliers();\n        } catch (err) {\n            console.error('Error deleting supplier:', err);\n            toast.error('Failed to delete supplier: ' + (err.message || 'Please try again'));\n        } finally {\n            setDeleteDialogOpen(false);\n            setSupplierToDelete(null);\n        }\n    };\n\n    const openWhatsApp = (phone) => {\n        const cleanPhone = phone.replace(/[^0-9]/g, '');\n        window.open(`https://wa.me/${cleanPhone}`, '_blank');\n    };\n\n    const getPrimaryContact = (supplier) => {\n        if (!supplier.supplier_contacts || supplier.supplier_contacts.length === 0) {\n            return supplier.phone || supplier.contact_person || '—';\n        }\n        const primary = supplier.supplier_contacts.find(c => c.is_primary);\n        return primary ? `${primary.contact_name} (${primary.phone})` : supplier.supplier_contacts[0].contact_name;\n    };\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event) => {\n        setRowsPerPage(parseInt(event.target.value, 10));\n        setPage(0);\n    };\n\n    const theme = useTheme();\n    const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n    return (\n        <Container maxWidth=\"lg\">\n            <Box\n                display=\"flex\"\n                flexDirection={isMobile ? 'column' : 'row'}\n                justifyContent=\"space-between\"\n                alignItems={isMobile ? 'flex-start' : 'center'}\n                gap={2}\n                mb={3}\n            >\n                <Typography variant=\"h4\" fontWeight={700} color=\"primary\">\n                    Suppliers\n                </Typography>\n                <Box display=\"flex\" gap={1}>\n                    <Button\n                        variant=\"outlined\"\n                        startIcon={<Keyboard />}\n                        onClick={toggleHelp}\n                        size={isMobile ? 'small' : 'medium'}\n                    >\n                        Shortcuts\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        startIcon={<Add />}\n                        onClick={() => handleOpenDialog()}\n                        fullWidth={isMobile}\n                    >\n                        Add Supplier (Alt+n)\n                    </Button>\n                </Box>\n            </Box>\n\n            <Card sx={{ mb: 3 }}>\n                <CardContent>\n                    <TextField\n                        fullWidth\n                        inputRef={searchInputRef}\n                        size=\"small\"\n                        placeholder=\"Search suppliers by name or email... (Alt+f)\"\n                        value={searchTerm}\n                        onChange={(e) => setSearchTerm(e.target.value)}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <Search />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                </CardContent>\n            </Card>\n\n            {isMobile ? (\n                <Box>\n                    {loading ? (\n                        <Typography align=\"center\">Loading...</Typography>\n                    ) : suppliers.length === 0 ? (\n                        <Typography align=\"center\">No suppliers found</Typography>\n                    ) : (\n                        suppliers.map((supplier) => {\n                            const primaryContact = supplier.supplier_contacts?.find(c => c.is_primary);\n                            return (\n                                <Card key={supplier.id} variant=\"outlined\" sx={{ mb: 2 }}>\n                                    <CardContent>\n                                        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={1}>\n                                            <Typography variant=\"h6\" fontWeight={600}>\n                                                {supplier.name}\n                                            </Typography>\n                                            <Box>\n                                                <IconButton size=\"small\" color=\"primary\" onClick={() => handleOpenDialog(supplier)}>\n                                                    <Edit fontSize=\"small\" />\n                                                </IconButton>\n                                                <IconButton size=\"small\" color=\"error\" onClick={() => handleDeleteClick(supplier.id)}>\n                                                    <Delete fontSize=\"small\" />\n                                                </IconButton>\n                                            </Box>\n                                        </Box>\n\n                                        <Box mb={2}>\n                                            <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                                <strong>Primary Contact:</strong>\n                                            </Typography>\n                                            {primaryContact ? (\n                                                <Box display=\"flex\" alignItems=\"center\" gap={1} flexWrap=\"wrap\">\n                                                    <Typography variant=\"body1\" fontWeight={500}>\n                                                        {primaryContact.contact_name}\n                                                    </Typography>\n                                                    <Typography variant=\"body2\" color=\"text.secondary\">\n                                                        ({primaryContact.phone})\n                                                    </Typography>\n                                                    {primaryContact.whatsapp_enabled && (\n                                                        <Button\n                                                            variant=\"contained\"\n                                                            color=\"success\"\n                                                            size=\"small\"\n                                                            startIcon={<WhatsApp />}\n                                                            onClick={() => openWhatsApp(primaryContact.phone)}\n                                                            sx={{ ml: 1 }}\n                                                        >\n                                                            Chat\n                                                        </Button>\n                                                    )}\n                                                </Box>\n                                            ) : (\n                                                <Typography variant=\"body2\">{supplier.phone || 'No contact info'}</Typography>\n                                            )}\n                                        </Box>\n\n                                        {supplier.supplier_contacts && supplier.supplier_contacts.length > 0 && (\n                                            <Chip\n                                                size=\"small\"\n                                                label={`${supplier.supplier_contacts.length} Total Contacts`}\n                                                color=\"primary\"\n                                                variant=\"outlined\"\n                                            />\n                                        )}\n                                    </CardContent>\n                                </Card>\n                            );\n                        })\n                    )}\n                </Box>\n            ) : (\n                <Card>\n                    <TableContainer sx={{ overflowX: 'auto' }}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell><strong>Name</strong></TableCell>\n                                    <TableCell><strong>Primary Contact</strong></TableCell>\n                                    <TableCell><strong>Email</strong></TableCell>\n                                    <TableCell><strong>Contacts</strong></TableCell>\n                                    <TableCell align=\"right\"><strong>Actions</strong></TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {loading ? (\n                                    <TableRow>\n                                        <TableCell colSpan={5} align=\"center\">Loading...</TableCell>\n                                    </TableRow>\n                                ) : suppliers.length === 0 ? (\n                                    <TableRow>\n                                        <TableCell colSpan={5} align=\"center\">No suppliers found</TableCell>\n                                    </TableRow>\n                                ) : (\n                                    suppliers.map((supplier) => {\n                                        const primaryContact = supplier.supplier_contacts?.find(c => c.is_primary);\n                                        return (\n                                            <TableRow key={supplier.id} hover>\n                                                <TableCell>\n                                                    <Typography variant=\"body2\" fontWeight={600}>{supplier.name}</Typography>\n                                                </TableCell>\n                                                <TableCell>\n                                                    {primaryContact ? (\n                                                        <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                            <Typography variant=\"body2\">\n                                                                {primaryContact.contact_name} - {primaryContact.phone}\n                                                            </Typography>\n                                                            {primaryContact.whatsapp_enabled && (\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    color=\"success\"\n                                                                    onClick={() => openWhatsApp(primaryContact.phone)}\n                                                                >\n                                                                    <WhatsApp fontSize=\"small\" />\n                                                                </IconButton>\n                                                            )}\n                                                        </Box>\n                                                    ) : (supplier.phone || '—')}\n                                                </TableCell>\n                                                <TableCell>{supplier.email || '—'}</TableCell>\n                                                <TableCell>\n                                                    {supplier.supplier_contacts && supplier.supplier_contacts.length > 0 ? (\n                                                        <Chip\n                                                            size=\"small\"\n                                                            label={supplier.supplier_contacts.length}\n                                                            color=\"primary\"\n                                                        />\n                                                    ) : '—'}\n                                                </TableCell>\n                                                <TableCell align=\"right\">\n                                                    <IconButton size=\"small\" color=\"primary\" onClick={() => handleOpenDialog(supplier)}>\n                                                        <Edit />\n                                                    </IconButton>\n                                                    <IconButton size=\"small\" color=\"error\" onClick={() => handleDeleteClick(supplier.id)}>\n                                                        <Delete />\n                                                    </IconButton>\n                                                </TableCell>\n                                            </TableRow>\n                                        );\n                                    })\n                                )}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                </Card>\n            )}\n\n            <TablePagination\n                rowsPerPageOptions={[10, 25, 50, 100]}\n                component=\"div\"\n                count={totalCount}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onPageChange={handleChangePage}\n                onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n\n            {/* Add/Edit Dialog */}\n            <Dialog open={openDialog} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n                <form onSubmit={handleSubmit}>\n                    <DialogTitle>{editingSupplier ? 'Edit Supplier' : 'Add New Supplier'}</DialogTitle>\n                    <DialogContent>\n                        <Grid container spacing={2} sx={{ mt: 1 }}>\n                            <Grid item xs={12}>\n                                <TextField fullWidth required label=\"Supplier Name\" name=\"name\" value={formData.name} onChange={handleChange} />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField fullWidth type=\"email\" label=\"Email\" name=\"email\" value={formData.email} onChange={handleChange} />\n                            </Grid>\n                            <Grid item xs={12} sm={6}>\n                                <TextField fullWidth label=\"Portfolio Link\" name=\"portfolio_link\" value={formData.portfolio_link} onChange={handleChange} />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField fullWidth multiline rows={2} label=\"Address\" name=\"address\" value={formData.address} onChange={handleChange} />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField fullWidth multiline rows={2} label=\"Notes\" name=\"notes\" value={formData.notes} onChange={handleChange} />\n                            </Grid>\n\n                            {/* Contacts Section */}\n                            <Grid item xs={12}>\n                                <Divider sx={{ my: 2 }} />\n                                <Typography variant=\"h6\" gutterBottom>Contacts</Typography>\n\n                                {/* Existing Contacts */}\n                                {contacts.length > 0 && (\n                                    <List dense>\n                                        {contacts.map((contact) => (\n                                            <ListItem key={contact.id}>\n                                                <IconButton\n                                                    size=\"small\"\n                                                    onClick={() => handleTogglePrimary(contact.id)}\n                                                    color={contact.is_primary ? \"primary\" : \"default\"}\n                                                >\n                                                    {contact.is_primary ? <Star /> : <StarBorder />}\n                                                </IconButton>\n                                                <ListItemText\n                                                    primary={\n                                                        <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                                                            <Typography variant=\"body2\">{contact.contact_name}</Typography>\n                                                            {contact.is_primary && <Chip size=\"small\" label=\"Primary\" color=\"primary\" />}\n                                                        </Box>\n                                                    }\n                                                    secondary={contact.phone}\n                                                />\n                                                {contact.whatsapp_enabled && (\n                                                    <WhatsApp color=\"success\" fontSize=\"small\" sx={{ mr: 1 }} />\n                                                )}\n                                                <ListItemSecondaryAction>\n                                                    <IconButton edge=\"end\" size=\"small\" onClick={() => handleRemoveContact(contact)}>\n                                                        <Delete fontSize=\"small\" />\n                                                    </IconButton>\n                                                </ListItemSecondaryAction>\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                                )}\n\n                                {/* Add New Contact */}\n                                <Box sx={{ mt: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\n                                    <Typography variant=\"subtitle2\" gutterBottom>Add Contact</Typography>\n                                    <Grid container spacing={2}>\n                                        <Grid item xs={12} sm={5}>\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                label=\"Name\"\n                                                value={newContact.contact_name}\n                                                onChange={(e) => setNewContact({ ...newContact, contact_name: e.target.value })}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={5}>\n                                            <TextField\n                                                fullWidth\n                                                size=\"small\"\n                                                label=\"Phone\"\n                                                value={newContact.phone}\n                                                onChange={(e) => setNewContact({ ...newContact, phone: e.target.value })}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={2}>\n                                            <Button\n                                                fullWidth\n                                                variant=\"outlined\"\n                                                onClick={handleAddContact}\n                                                startIcon={<Add />}\n                                            >\n                                                Add\n                                            </Button>\n                                        </Grid>\n                                        <Grid item xs={12}>\n                                            <FormControlLabel\n                                                control={\n                                                    <Checkbox\n                                                        checked={newContact.whatsapp_enabled}\n                                                        onChange={(e) => setNewContact({ ...newContact, whatsapp_enabled: e.target.checked })}\n                                                    />\n                                                }\n                                                label=\"WhatsApp Enabled\"\n                                            />\n                                            <FormControlLabel\n                                                control={\n                                                    <Checkbox\n                                                        checked={newContact.is_primary}\n                                                        onChange={(e) => setNewContact({ ...newContact, is_primary: e.target.checked })}\n                                                    />\n                                                }\n                                                label=\"Set as Primary\"\n                                            />\n                                        </Grid>\n                                    </Grid>\n                                </Box>\n                            </Grid>\n                        </Grid>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={handleCloseDialog}>Cancel</Button>\n                        <Button type=\"submit\" variant=\"contained\">{editingSupplier ? 'Update' : 'Add'} Supplier</Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n\n            <ConfirmDialog\n                open={deleteDialogOpen}\n                onClose={() => setDeleteDialogOpen(false)}\n                onConfirm={handleConfirmDelete}\n                title=\"Delete Supplier\"\n                content=\"Are you sure? This will hide the supplier but keep historical records.\"\n            />\n        </Container>\n    );\n}\n","'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z\"\n}), 'WhatsApp');","'use client';\n\nimport useId from '@mui/utils/useId';\nexport default useId;","import React from 'react';\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogContentText,\n    DialogActions,\n    Button,\n    Typography,\n    Box\n} from '@mui/material';\nimport { Warning as WarningIcon } from '@mui/icons-material';\n\nexport default function ConfirmDialog({\n    open,\n    onClose,\n    onConfirm,\n    title = \"Confirm Delete\",\n    content = \"Are you sure you want to delete this item? This action cannot be undone.\",\n    confirmText = \"Delete\",\n    cancelText = \"Cancel\"\n}) {\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"confirm-dialog-title\"\n            aria-describedby=\"confirm-dialog-description\"\n        >\n            <DialogTitle id=\"confirm-dialog-title\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <WarningIcon color=\"error\" />\n                {title}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"confirm-dialog-description\">\n                    {content}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    {cancelText}\n                </Button>\n                <Button onClick={onConfirm} color=\"error\" variant=\"contained\" autoFocus>\n                    {confirmText}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n"],"names":["createSvgIcon","_jsx","d","SuppliersPage","settings","useSettings","toggleHelp","useKeyboard","suppliers","setSuppliers","useState","loading","setLoading","searchTerm","setSearchTerm","page","setPage","rowsPerPage","setRowsPerPage","totalCount","setTotalCount","openDialog","setOpenDialog","editingSupplier","setEditingSupplier","deleteDialogOpen","setDeleteDialogOpen","supplierToDelete","setSupplierToDelete","contacts","setContacts","newContact","setNewContact","contact_name","phone","whatsapp_enabled","is_primary","formData","setFormData","name","contact_person","email","address","portfolio_link","notes","searchInputRef","useRef","useKeyboardShortcuts","Alt+n","handleOpenDialog","Alt+f","_searchInputRef$curre","current","focus","fetchSuppliers","async","data","session","supabase","auth","getSession","toast","error","orgId","user","id","query","from","select","count","eq","is","order","or","concat","to","range","err","console","useEffect","delayDebounceFn","setTimeout","clearTimeout","supplier","arguments","length","undefined","supplierId","ascending","fetchContactsForSupplier","handleCloseDialog","handleChange","e","_objectSpread","target","value","handleDeleteClick","openWhatsApp","cleanPhone","replace","window","open","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","_jsxs","Container","maxWidth","children","Box","display","flexDirection","justifyContent","alignItems","gap","mb","Typography","variant","fontWeight","color","Button","startIcon","Keyboard","onClick","size","Add","fullWidth","Card","sx","CardContent","TextField","inputRef","placeholder","onChange","InputProps","startAdornment","InputAdornment","position","Search","align","map","_supplier$supplier_co","primaryContact","supplier_contacts","find","c","IconButton","Edit","fontSize","Delete","gutterBottom","flexWrap","WhatsApp","ml","Chip","label","TableContainer","overflowX","Table","TableHead","TableRow","TableCell","TableBody","colSpan","_supplier$supplier_co2","hover","TablePagination","rowsPerPageOptions","component","onPageChange","handleChangePage","event","newPage","onRowsPerPageChange","parseInt","Dialog","onClose","onSubmit","preventDefault","update","insert","organization_id","single","existingContactIds","filter","is_new","deleteError","delete","not","join","contact","updateError","newContacts","supplier_id","insertError","success","message","DialogTitle","DialogContent","Grid","container","spacing","mt","item","xs","required","sm","type","multiline","rows","Divider","my","List","dense","ListItem","handleTogglePrimary","contactId","Star","StarBorder","ListItemText","primary","secondary","mr","ListItemSecondaryAction","edge","handleRemoveContact","p","bgcolor","borderRadius","handleAddContact","contactToAdd","Date","now","FormControlLabel","control","Checkbox","checked","DialogActions","ConfirmDialog","onConfirm","deleted_at","toISOString","title","content","_ref","confirmText","cancelText","WarningIcon","DialogContentText","autoFocus"],"sourceRoot":""}